[{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\analytics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\customers\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":10,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":18,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardDescription"},"fix":{"range":[228,247],"text":""},"desc":"Remove unused variable \"CardDescription\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Package' is defined but never used.","line":24,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":10,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Package"},"fix":{"range":[600,611],"text":""},"desc":"Remove unused variable \"Package\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Tag' is defined but never used.","line":27,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":6,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Tag"},"fix":{"range":[637,644],"text":""},"desc":"Remove unused variable \"Tag\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":28,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":28,"endColumn":7,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Plus"},"fix":{"range":[644,652],"text":""},"desc":"Remove unused variable \"Plus\"."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchCustomerDetails` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\customers\\[id]\\page.tsx:54:13\n  52 |\n  53 |   useEffect(() => {\n> 54 |     if (id) fetchCustomerDetails();\n     |             ^^^^^^^^^^^^^^^^^^^^ `fetchCustomerDetails` accessed before it is declared\n  55 |   }, [id]);\n  56 |\n  57 |   const fetchCustomerDetails = async () => {\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\customers\\[id]\\page.tsx:57:3\n  55 |   }, [id]);\n  56 |\n> 57 |   const fetchCustomerDetails = async () => {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 58 |     setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^\n> 59 |\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^\n> 90 |     setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^\n> 91 |   };\n     | ^^^^^ `fetchCustomerDetails` is declared here\n  92 |\n  93 |   const handleSave = async () => {\n  94 |     const { error } = await (supabase as any)","line":54,"column":13,"nodeType":null,"endLine":54,"endColumn":33},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchCustomerDetails'. Either include it or remove the dependency array.","line":55,"column":6,"nodeType":"ArrayExpression","endLine":55,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchCustomerDetails, id]","fix":{"range":[1621,1625],"text":"[fetchCustomerDetails, id]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1787,1790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1787,1790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ordError' is assigned a value but never used.","line":76,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":76,"endColumn":43},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":76,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2235,2238],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2235,2238],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2773,2776],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2773,2776],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  ArrowLeft,\n  Phone,\n  MapPin,\n  Save,\n  ShieldCheck,\n  ShieldAlert,\n  Package,\n  Clock,\n  MessageCircle,\n  Tag,\n  Plus,\n  X,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport type { Customer, OrderWithRelations } from \"@/types/orders\"; // Re-using existing types where possible\n\nimport { Icon } from \"@/components/ui/Icon\";\nimport { clsx } from \"clsx\";\n\nexport default function CustomerDetailsPage() {\n  const params = useParams();\n  const id = params?.id as string;\n  const router = useRouter();\n  const supabase = createClient();\n\n  const [customer, setCustomer] = useState<Customer | null>(null);\n  const [orders, setOrders] = useState<OrderWithRelations[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [notes, setNotes] = useState(\"\");\n  const [reliability, setReliability] = useState(100);\n  const [tags, setTags] = useState<string[]>([]);\n  const [newTag, setNewTag] = useState(\"\");\n\n  useEffect(() => {\n    if (id) fetchCustomerDetails();\n  }, [id]);\n\n  const fetchCustomerDetails = async () => {\n    setLoading(true);\n\n    // Fetch Customer\n    const { data: custData, error: custError } = await (supabase as any)\n      .from(\"customers\")\n      .select(\n        \"id, full_name, phone, notes, tags, total_spent, total_orders, reliability_score, wilaya, commune\",\n      )\n      .eq(\"id\", id)\n      .single();\n\n    if (custError || !custData) {\n      toast.error(\"Customer not found\");\n      router.push(\"/customers\");\n      return;\n    }\n\n    // Fetch Orders - Using standardized total_amount\n    const { data: ordData, error: ordError } = await (supabase as any)\n      .from(\"orders\")\n      .select(\n        \"id, product_name, category, created_at, total_amount, quantity, status\",\n      )\n      .eq(\"customer_id\", id)\n      .order(\"created_at\", { ascending: false });\n\n    setCustomer(custData as Customer);\n    setNotes(custData.notes || \"\");\n    setReliability(custData.reliability_score || 100);\n    setTags(custData.tags || []);\n    setOrders((ordData || []) as OrderWithRelations[]);\n\n    setLoading(false);\n  };\n\n  const handleSave = async () => {\n    const { error } = await (supabase as any)\n      .from(\"customers\")\n      .update({ notes, reliability_score: reliability, tags })\n      .eq(\"id\", id);\n\n    if (error) toast.error(\"Failed to save changes\");\n    else toast.success(\"Customer profile updated\");\n  };\n\n  const getStatusColor = (status: string | null) => {\n    switch (status || \"pending\") {\n      case \"delivered\":\n        return \"bg-green-100 text-green-700\";\n      case \"shipped\":\n        return \"bg-blue-100 dark:bg-blue-500/20 text-blue-700\";\n      case \"cancelled\":\n        return \"bg-red-100 dark:bg-red-500/20 text-red-700\";\n      default:\n        return \"bg-orange-100 text-orange-700\";\n    }\n  };\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\n      <div className=\"flex items-center justify-between\">\n        <Button\n          variant=\"ghost\"\n          onClick={() => router.back()}\n          className=\"rounded-full hover:bg-muted font-bold group\"\n        >\n          <ArrowLeft className=\"me-2 h-4 w-4 group-hover:-translate-x-1 transition-transform\" />{\" \"}\n          ┘é╪º╪ª┘à╪⌐ ╪º┘ä╪▓╪¿╪º╪ª┘å\n        </Button>\n        <div className=\"flex items-center gap-2\">\n          <Badge\n            className={clsx(\n              \"px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest border-none\",\n              reliability >= 90\n                ? \"bg-green-100 text-green-700\"\n                : \"bg-orange-100 text-orange-700\",\n            )}\n          >\n            {reliability >= 90 ? \"Vetted Client\" : \"Watch List\"}\n          </Badge>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"rounded-full border-emerald-200 dark:border-emerald-500/30 text-emerald-600 hover:bg-emerald-50 dark:bg-emerald-500/10 h-9 font-black\"\n            onClick={() => {\n              const phone = customer?.phone?.replace(/\\s/g, \"\");\n              if (phone)\n                window.open(\n                  `https://wa.me/${phone.startsWith(\"0\") ? \"213\" + phone.slice(1) : phone}`,\n                  \"_blank\",\n                );\n            }}\n          >\n            <MessageCircle className=\"w-4 h-4 me-2\" /> ┘ê╪º╪¬╪│╪º╪¿\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Main Profile Card */}\n        <div className=\"lg:col-span-1 space-y-8\">\n          <Card className=\"border border-border/40 shadow-sm bg-white dark:bg-zinc-950 rounded-xl overflow-hidden group\">\n            <div className=\"h-24 bg-primary relative\">\n              <div className=\"absolute -bottom-12 left-1/2 -translate-x-1/2\">\n                <div className=\"w-24 h-24 bg-white dark:bg-card p-1.5 rounded-xl shadow-xl group-hover:scale-105 transition-transform\">\n                  <div className=\"w-full h-full bg-muted rounded-xl flex items-center justify-center overflow-hidden\">\n                    <Icon\n                      src=\"https://cdn.lordicon.com/bgebyztw.json\"\n                      trigger=\"loop\"\n                      size={64}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <CardContent className=\"pt-16 text-center space-y-6 pb-10\">\n              <div>\n                <h2 className=\"text-3xl font-black tracking-tight\">\n                  {customer?.full_name}\n                </h2>\n                <p className=\"text-muted-foreground font-medium text-sm\">\n                  ID: #{customer?.id.toString().slice(0, 8)}\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"bg-muted/40 p-4 rounded-xl\">\n                  <p className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">\n                    Lifetime Value\n                  </p>\n                  <p className=\"text-xl font-black text-green-600\">\n                    {customer?.total_spent?.toLocaleString() || 0}{\" \"}\n                    <span className=\"text-[10px]\">DA</span>\n                  </p>\n                </div>\n                <div className=\"bg-muted/40 p-4 rounded-xl\">\n                  <p className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">\n                    Frequency\n                  </p>\n                  <p className=\"text-xl font-black\">\n                    {customer?.total_orders || 0}{\" \"}\n                    <span className=\"text-[10px]\">Orders</span>\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"space-y-4 text-left px-4\">\n                <div className=\"flex items-center gap-4 group/item\">\n                  <div className=\"w-10 h-10 rounded-xl bg-primary/10 text-primary flex items-center justify-center group-hover/item:scale-110 transition-transform\">\n                    <Phone className=\"h-5 w-5\" />\n                  </div>\n                  <div>\n                    <p className=\"text-[10px] font-bold text-muted-foreground leading-none mb-1\">\n                      DIRECT LINE\n                    </p>\n                    <span className=\"font-black text-sm\">\n                      {customer?.phone || \"UNAVAILABLE\"}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-4 group/item\">\n                  <div className=\"w-10 h-10 rounded-xl bg-orange-100 text-orange-600 flex items-center justify-center group-hover/item:scale-110 transition-transform\">\n                    <MapPin className=\"h-5 w-5\" />\n                  </div>\n                  <div>\n                    <p className=\"text-[10px] font-bold text-muted-foreground leading-none mb-1\">\n                      PRIMARY CLUSTER\n                    </p>\n                    <span className=\"font-black text-sm uppercase\">\n                      {customer?.wilaya}{\" \"}\n                      {customer?.commune ? `/ ${customer.commune}` : \"\"}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"pt-4 border-t border-muted/50\">\n                  <p className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-3\">\n                    Customer Tags\n                  </p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {tags.map((tag) => (\n                      <Badge\n                        key={tag}\n                        className=\"bg-muted hover:bg-muted/80 text-muted-foreground border-none rounded-lg px-2 py-1 flex items-center gap-1 group/tag\"\n                      >\n                        {tag}\n                        <X\n                          className=\"w-3 h-3 cursor-pointer opacity-0 group-hover/tag:opacity-100 transition-opacity\"\n                          onClick={() => setTags(tags.filter((t) => t !== tag))}\n                        />\n                      </Badge>\n                    ))}\n                    <div className=\"flex items-center gap-1\">\n                      <Input\n                        placeholder=\"Add...\"\n                        className=\"h-7 w-20 text-[10px] rounded-lg border-dashed bg-transparent p-2\"\n                        value={newTag}\n                        onChange={(e) => setNewTag(e.target.value)}\n                        onKeyDown={(e) => {\n                          if (e.key === \"Enter\" && newTag) {\n                            setTags([...tags, newTag]);\n                            setNewTag(\"\");\n                          }\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Admin Context */}\n          <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-zinc-950\">\n            <CardHeader>\n              <CardTitle className=\"text-lg font-black uppercase tracking-widest text-muted-foreground/60\">\n                ╪Ñ╪»╪º╪▒╪⌐ ╪º┘ä┘à╪«╪º╪╖╪▒\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-3\">\n                <Label className=\"text-xs font-black uppercase tracking-widest ms-1\">\n                  ┘à┘ä╪º╪¡╪╕╪º╪¬ ╪│┘ä┘ê┘â┘è╪⌐\n                </Label>\n                <Textarea\n                  placeholder=\"Describe interactions, preferences or flags...\"\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  className=\"min-h-[120px] rounded-xl border-transparent bg-background focus:ring-primary/20\"\n                />\n              </div>\n              <div className=\"space-y-3\">\n                <Label className=\"text-xs font-black uppercase tracking-widest ms-1\">\n                  ┘à╪ñ╪┤╪▒ ╪º┘ä┘à┘ê╪½┘ê┘é┘è╪⌐ ({reliability}%)\n                </Label>\n                <div className=\"flex items-center gap-4\">\n                  <Input\n                    type=\"range\"\n                    value={reliability}\n                    onChange={(e) => setReliability(Number(e.target.value))}\n                    max={100}\n                    min={0}\n                    className=\"accent-primary h-2\"\n                  />\n                  <div\n                    className={clsx(\n                      \"w-12 h-12 rounded-xl flex items-center justify-center shrink-0 shadow-lg\",\n                      reliability >= 90\n                        ? \"bg-green-500 text-white\"\n                        : \"bg-orange-500 text-white\",\n                    )}\n                  >\n                    {reliability >= 90 ? (\n                      <ShieldCheck className=\"w-6 h-6\" />\n                    ) : (\n                      <ShieldAlert className=\"w-6 h-6\" />\n                    )}\n                  </div>\n                </div>\n              </div>\n              <Button\n                className=\"w-full h-14 rounded-xl font-black text-lg shadow-sm bg-primary hover:bg-primary/90\"\n                onClick={handleSave}\n              >\n                <Save className=\"me-2 h-5 w-5\" /> ┘à╪▓╪º┘à┘å╪⌐ ╪º┘ä┘à┘ä┘ü ╪º┘ä╪┤╪«╪╡┘è\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Activity Logs (Order History) */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"h-full border border-border/40 shadow-sm rounded-xl bg-white dark:bg-zinc-950 relative overflow-hidden\">\n            <CardHeader className=\"p-8 pb-4\">\n              <div className=\"flex justify-between items-center\">\n                <CardTitle className=\"text-2xl font-black flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-xl bg-muted flex items-center justify-center\">\n                    <Icon\n                      src=\"https://cdn.lordicon.com/wxnxiano.json\"\n                      trigger=\"loop\"\n                      size={28}\n                    />\n                  </div>\n                  Transaction History\n                </CardTitle>\n                <Badge\n                  variant=\"secondary\"\n                  className=\"font-bold rounded-lg px-3\"\n                >\n                  {orders.length} TOTAL\n                </Badge>\n              </div>\n            </CardHeader>\n            <CardContent className=\"p-0\">\n              <div className=\"divide-y divide-muted/50\">\n                {orders.map((order) => (\n                  <div\n                    key={order.id}\n                    className=\"p-8 hover:bg-muted/10 transition-all duration-300 flex flex-col md:flex-row md:items-center justify-between gap-6 group\"\n                  >\n                    <div className=\"flex items-center gap-6\">\n                      <div\n                        className={clsx(\n                          \"w-16 h-16 rounded-xl flex items-center justify-center shrink-0 shadow-inner group-hover:scale-110 transition-transform\",\n                          order.category === \"machine\"\n                            ? \"bg-purple-50 text-purple-600\"\n                            : \"bg-orange-50 text-orange-600\",\n                        )}\n                      >\n                        <Icon\n                          src={\n                            order.category === \"eggs\"\n                              ? \"https://cdn.lordicon.com/hursldjj.json\"\n                              : order.category === \"chicks\"\n                                ? \"https://cdn.lordicon.com/rxufjlal.json\"\n                                : \"https://cdn.lordicon.com/msoeawqm.json\"\n                          }\n                          trigger=\"hover\"\n                          size={32}\n                        />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"text-xl font-black truncate\">\n                          {order.product_name}\n                        </p>\n                        <div className=\"flex items-center gap-2 mt-1\">\n                          <Badge\n                            variant=\"outline\"\n                            className=\"text-[10px] font-black border-muted-foreground/20 px-1.5 py-0 leading-none h-4 uppercase\"\n                          >\n                            {order.category}\n                          </Badge>\n                          <span className=\"text-xs text-muted-foreground font-medium flex items-center gap-1\">\n                            <Clock className=\"w-3 h-3\" />{\" \"}\n                            {order.created_at\n                              ? formatDistanceToNow(\n                                  new Date(order.created_at),\n                                  { addSuffix: true },\n                                )\n                              : \"N/A\"}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-between md:text-right md:flex-col md:items-end gap-2 w-full md:w-auto border-t md:border-none pt-4 md:pt-0\">\n                      <div>\n                        <p className=\"text-2xl font-black tracking-tighter text-green-600\">\n                          {(order.total_amount || 0).toLocaleString()}{\" \"}\n                          <span className=\"text-xs font-bold opacity-60\">\n                            DA\n                          </span>\n                        </p>\n                        <p className=\"text-[10px] font-bold text-muted-foreground leading-none\">\n                          UNIT TYPE: x{order.quantity || 1}\n                        </p>\n                      </div>\n                      <Badge\n                        variant=\"outline\"\n                        className={clsx(\n                          \"mt-1 capitalize rounded-xl px-3 py-0.5 font-bold tracking-widest text-[10px] border-none\",\n                          getStatusColor(order.status),\n                        )}\n                      >\n                        {order.status}\n                      </Badge>\n                    </div>\n                  </div>\n                ))}\n                {orders.length === 0 && (\n                  <div className=\"py-20 text-center space-y-4 opacity-50\">\n                    <Icon\n                      src=\"https://cdn.lordicon.com/msoeawqm.json\"\n                      trigger=\"loop\"\n                      size={80}\n                    />\n                    <p className=\"text-xl font-black\">\n                      STAGNANT TRANSACTION LOG\n                    </p>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\customers\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MapPin' is defined but never used.","line":5,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":24,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MapPin"},"fix":{"range":[178,186],"text":""},"desc":"Remove unused variable \"MapPin\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageSquare' is defined but never used.","line":5,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":46,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MessageSquare"},"fix":{"range":[193,208],"text":""},"desc":"Remove unused variable \"MessageSquare\"."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchCustomers` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\customers\\page.tsx:32:5\n  30 |\n  31 |   useEffect(() => {\n> 32 |     fetchCustomers();\n     |     ^^^^^^^^^^^^^^ `fetchCustomers` accessed before it is declared\n  33 |   }, []);\n  34 |\n  35 |   const fetchCustomers = async () => {\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\customers\\page.tsx:35:3\n  33 |   }, []);\n  34 |\n> 35 |   const fetchCustomers = async () => {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 36 |     setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^\n> 37 |     const { data, error } = await supabase\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^\n> 49 |     setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^\n> 50 |   };\n     | ^^^^^ `fetchCustomers` is declared here\n  51 |\n  52 |   const getCustomerTier = (spent: number = 0) => {\n  53 |     if (spent >= 500000)","line":32,"column":5,"nodeType":null,"endLine":32,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchCustomers'. Either include it or remove the dependency array.","line":33,"column":6,"nodeType":"ArrayExpression","endLine":33,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchCustomers]","fix":{"range":[1054,1056],"text":"[fetchCustomers]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":282,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11755,11781],"text":"\n                        &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11755,11781],"text":"\n                        &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11755,11781],"text":"\n                        &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11755,11781],"text":"\n                        &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":282,"column":42,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11797,11821],"text":"&quot;\n                      "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11797,11821],"text":"&ldquo;\n                      "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11797,11821],"text":"&#34;\n                      "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11797,11821],"text":"&rdquo;\n                      "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport type { Customer } from \"@/types/orders\";\nimport { Search, MapPin, Phone, MessageSquare } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport Link from \"next/link\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { Icon } from \"@/components/ui/Icon\";\nimport { clsx } from \"clsx\";\nimport { motion } from \"framer-motion\";\n\nexport default function CustomersPage() {\n  const [customers, setCustomers] = useState<Partial<Customer>[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [sortBy, setSortBy] = useState<\"spent\" | \"orders\" | \"reliability\">(\n    \"spent\",\n  );\n  const supabase = createClient();\n\n  useEffect(() => {\n    fetchCustomers();\n  }, []);\n\n  const fetchCustomers = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"customers\")\n      .select(\n        \"id, full_name, phone, notes, tags, total_spent, total_orders, reliability_score\",\n      )\n      .order(\"total_spent\", { ascending: false });\n\n    if (error) {\n      console.error(\"Error fetching customers:\", error);\n      toast.error(\"Failed to load customers.\");\n      setCustomers((data as unknown as Partial<Customer>[]) || []);\n    }\n    setLoading(false);\n  };\n\n  const getCustomerTier = (spent: number = 0) => {\n    if (spent >= 500000)\n      return {\n        label: \"╪¿┘ä╪º╪¬┘è┘å┘è\",\n        color: \"bg-indigo-600 text-white shadow-indigo-500/20\",\n        icon: \"≡ƒÆÄ\",\n      };\n    if (spent >= 150000)\n      return {\n        label: \"╪░┘ç╪¿┘è\",\n        color: \"bg-amber-500 text-white shadow-amber-500/20\",\n        icon: \"Γ¡É\",\n      };\n    if (spent >= 50000)\n      return {\n        label: \"┘ü╪╢┘è\",\n        color: \"bg-slate-400 text-white shadow-slate-400/20\",\n        icon: \"≡ƒÑê\",\n      };\n    return {\n      label: \"╪¿╪▒┘ê┘å╪▓┘è\",\n      color: \"bg-orange-600/80 text-white shadow-orange-600/10\",\n      icon: \"≡ƒÑë\",\n    };\n  };\n\n  const getReliabilityLevel = (score: number) => {\n    if (score >= 90)\n      return {\n        label: \"┘à┘ê╪½┘ê┘é\",\n        color: \"text-emerald-600 bg-emerald-100 dark:bg-emerald-500/20\",\n        icon: \"https://cdn.lordicon.com/lomfljuq.json\",\n      };\n    if (score < 70)\n      return {\n        label: \"╪¬╪¡╪░┘è╪▒\",\n        color: \"text-red-600 bg-red-100 dark:bg-red-500/20\",\n        icon: \"https://cdn.lordicon.com/tdrtiskw.json\",\n      };\n    return {\n      label: \"╪╣╪º╪»┘è\",\n      color: \"text-muted-foreground bg-muted\",\n      icon: \"https://cdn.lordicon.com/bgebyztw.json\",\n    };\n  };\n\n  const filteredCustomers = customers\n    .filter(\n      (c) =>\n        c.full_name?.toLowerCase().includes(search.toLowerCase()) ||\n        c.phone?.includes(search) ||\n        c.notes?.toLowerCase().includes(search.toLowerCase()) ||\n        c.tags?.some((t) => t.toLowerCase().includes(search.toLowerCase())),\n    )\n    .sort((a, b) => {\n      if (sortBy === \"spent\")\n        return (b.total_spent || 0) - (a.total_spent || 0);\n      if (sortBy === \"orders\")\n        return (b.total_orders || 0) - (a.total_orders || 0);\n      if (sortBy === \"reliability\")\n        return (b.reliability_score || 0) - (a.reliability_score || 0);\n      return 0;\n    });\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\n      <div className=\"flex flex-col xl:flex-row xl:items-end justify-between gap-8\">\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 rounded-xl bg-emerald-600 text-white flex items-center justify-center shadow-lg shadow-emerald-500/20\">\n              <Icon\n                src=\"https://cdn.lordicon.com/pdsourfn.json\"\n                trigger=\"loop\"\n                size={32}\n              />\n            </div>\n            <h1 className=\"text-4xl font-black tracking-tighter\">\n              ┘é╪º╪╣╪»╪⌐ ╪¿┘è╪º┘å╪º╪¬ ╪º┘ä╪▓╪¿╪º╪ª┘å\n            </h1>\n          </div>\n          <p className=\"text-muted-foreground font-bold text-lg max-w-xl\">\n            ╪Ñ╪»╪º╪▒╪⌐ ╪º┘ä╪╣┘ä╪º┘é╪º╪¬ ┘à╪╣ ╪º┘ä╪╣┘à┘ä╪º╪í ┘ê╪¬╪¬╪¿╪╣ ╪º┘ä┘é┘è┘à ╪º┘ä╪¬╪▒╪º┘â┘à┘è╪⌐ (CLV) ┘ê┘à┘ê╪½┘ê┘é┘è╪⌐\n            ╪º┘ä╪╖┘ä╪¿╪º╪¬.\n          </p>\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full xl:w-auto\">\n          <div className=\"flex items-center gap-2 p-1.5 bg-white dark:bg-card rounded-xl shadow-sm border border-border/50 shrink-0\">\n            {([\"spent\", \"orders\", \"reliability\"] as const).map((type) => (\n              <button\n                key={type}\n                onClick={() => setSortBy(type)}\n                className={clsx(\n                  \"px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all\",\n                  sortBy === type\n                    ? \"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20\"\n                    : \"text-muted-foreground hover:bg-muted\",\n                )}\n              >\n                {type === \"spent\"\n                  ? \"╪º┘ä╪ú┘â╪½╪▒ ╪Ñ┘å┘ü╪º┘é╪º┘ï\"\n                  : type === \"orders\"\n                    ? \"╪╣╪»╪» ╪º┘ä╪╖┘ä╪¿╪º╪¬\"\n                    : \"╪º┘ä┘à┘ê╪½┘ê┘é┘è╪⌐\"}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"relative flex-1 sm:w-[400px]\">\n            <Search className=\"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground opacity-50\" />\n            <Input\n              placeholder=\"╪º╪¿╪¡╪½ ╪¿╪º┘ä╪º╪│┘à╪î ╪º┘ä┘ç╪º╪¬┘ü╪î ╪ú┘ê ╪º┘ä┘ê╪│┘ê┘à...\"\n              className=\"pr-12 h-14 rounded-xl border-none bg-white dark:bg-card shadow-sm focus:ring-emerald-500/10 transition-all font-black\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 pb-12\">\n        {filteredCustomers.map((customer) => {\n          const rel = getReliabilityLevel(customer.reliability_score || 0);\n          const tier = getCustomerTier(customer.total_spent || 0);\n          return (\n            <Link\n              href={`/customers/${customer.id}`}\n              key={customer.id}\n              className=\"block group\"\n            >\n              <Card className=\"h-full border border-border/40 shadow-sm group-hover:shadow-sm transition-all duration-500 rounded-xl overflow-hidden bg-white dark:bg-card cursor-pointer relative\">\n                <div\n                  className={clsx(\n                    \"absolute top-0 right-0 left-0 h-1.5 opacity-30\",\n                    tier.color.split(\" \")[0],\n                  )}\n                />\n\n                <CardHeader className=\"p-7 pb-4\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"h-16 w-16 rounded-xl bg-muted/50 flex items-center justify-center group-hover:scale-110 transition-transform overflow-hidden shadow-inner relative\">\n                      <Icon src={rel.icon} trigger=\"hover\" size={40} />\n                      <div className=\"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-white dark:bg-zinc-900 shadow-sm flex items-center justify-center text-xs\">\n                        {tier.icon}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col items-end gap-2 text-right\">\n                      <Badge\n                        className={clsx(\n                          \"rounded-xl border-none font-black text-[9px] uppercase tracking-widest px-3 py-1 shadow-md\",\n                          tier.color,\n                        )}\n                      >\n                        ┘ü╪ª╪⌐ {tier.label}\n                      </Badge>\n                      <Badge\n                        className={clsx(\n                          \"rounded-xl border-none font-black text-[9px] uppercase tracking-widest px-3 py-1\",\n                          rel.color,\n                        )}\n                      >\n                        {rel.label}\n                      </Badge>\n                    </div>\n                  </div>\n                  <div className=\"min-w-0\">\n                    <CardTitle className=\"text-2xl font-black truncate group-hover:text-emerald-600 transition-colors tracking-tighter\">\n                      {customer.full_name}\n                    </CardTitle>\n                    <CardDescription className=\"flex items-center gap-1 font-bold text-sm tracking-tight opacity-70 mt-1\">\n                      <Phone className=\"h-3 w-3\" /> {customer.phone}\n                    </CardDescription>\n                  </div>\n                </CardHeader>\n\n                <CardContent className=\"px-7 pb-7\">\n                  <div className=\"space-y-6\">\n                    <div className=\"grid grid-cols-3 gap-3\">\n                      <div className=\"text-center p-3 bg-muted/20 rounded-xl border border-transparent hover:border-emerald-500/10 transition-colors\">\n                        <div className=\"text-xl font-black tracking-tighter\">\n                          {customer.total_orders || 0}\n                        </div>\n                        <div className=\"text-[10px] font-black uppercase text-muted-foreground tracking-widest\">\n                          ╪╖┘ä╪¿┘è╪º╪¬\n                        </div>\n                      </div>\n                      <div className=\"text-center p-3 bg-emerald-50 dark:bg-emerald-500/5 rounded-xl border border-emerald-100 dark:border-emerald-500/10\">\n                        <div className=\"text-[17px] font-black tracking-tighter text-emerald-600 truncate\">\n                          {(customer.total_spent || 0).toLocaleString()}\n                        </div>\n                        <div className=\"text-[10px] font-black uppercase text-emerald-800/50 dark:text-emerald-400/50 tracking-widest\">\n                          LTV\n                        </div>\n                      </div>\n                      <div className=\"text-center p-3 bg-muted/20 rounded-xl border border-transparent hover:border-emerald-500/10 transition-colors\">\n                        <div className=\"text-xl font-black tracking-tighter\">\n                          {customer.reliability_score || 0}%\n                        </div>\n                        <div className=\"text-[10px] font-black uppercase text-muted-foreground tracking-widest\">\n                          ╪½┘é╪⌐\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-1.5\">\n                      {customer.tags?.map((tag) => (\n                        <Badge\n                          key={tag}\n                          variant=\"secondary\"\n                          className=\"px-2 py-0 h-5 text-[9px] font-black border-none bg-muted rounded-md uppercase opacity-80\"\n                        >\n                          #{tag}\n                        </Badge>\n                      ))}\n                      {customer.tags?.length === 0 && (\n                        <span className=\"text-[10px] font-bold text-muted-foreground/30 uppercase tracking-widest\">\n                          ╪¿╪»┘ê┘å ┘ê╪│┘ê┘à\n                        </span>\n                      )}\n                    </div>\n\n                    {customer.notes && (\n                      <div className=\"bg-orange-50 dark:bg-orange-500/5 p-4 rounded-xl text-[12px] text-orange-800 dark:text-orange-200 font-bold border border-orange-100 dark:border-orange-500/10 line-clamp-2 italic leading-relaxed\">\n                        \"{customer.notes}\"\n                      </div>\n                    )}\n\n                    <div className=\"flex items-center justify-between pt-2\">\n                      <div className=\"h-2 flex-1 bg-muted rounded-full overflow-hidden me-4\">\n                        <motion.div\n                          initial={{ width: 0 }}\n                          animate={{\n                            width: `${customer.reliability_score || 0}%`,\n                          }}\n                          className={clsx(\n                            \"h-full rounded-full\",\n                            (customer.reliability_score || 0) >= 90\n                              ? \"bg-emerald-500\"\n                              : (customer.reliability_score || 0) >= 70\n                                ? \"bg-amber-500\"\n                                : \"bg-red-500\",\n                          )}\n                        />\n                      </div>\n                      <span className=\"text-[10px] font-black text-muted-foreground\">\n                        SCORE\n                      </span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </Link>\n          );\n        })}\n        {filteredCustomers.length === 0 && (\n          <div className=\"col-span-full text-center py-24 bg-muted/10 rounded-xl border-2 border-dashed border-muted\">\n            <div className=\"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Icon\n                src=\"https://cdn.lordicon.com/dxjqvkzv.json\"\n                trigger=\"loop\"\n                size={64}\n              />\n            </div>\n            <h3 className=\"text-2xl font-black opacity-30\">\n              ┘ä╪º ╪¬┘ê╪¼╪» ╪¿┘è╪º┘å╪º╪¬ ┘à╪╖╪º╪¿┘é╪⌐\n            </h3>\n            <p className=\"text-muted-foreground font-black mt-2\">\n              ╪¼╪▒╪¿ ╪º┘ä╪¿╪¡╪½ ╪¿┘â┘ä┘à╪º╪¬ ┘à╪«╪¬┘ä┘ü╪⌐ ┘ä┘ä╪╣╪½┘ê╪▒ ╪╣┘ä┘ë ╪º┘ä╪▓╪¿┘ê┘å.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\hatching\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Phone' is defined but never used.","line":7,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":8,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Phone"},"fix":{"range":[186,195],"text":""},"desc":"Remove unused variable \"Phone\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MapPin' is defined but never used.","line":8,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MapPin"},"fix":{"range":[195,205],"text":""},"desc":"Remove unused variable \"MapPin\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Egg' is defined but never used.","line":10,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":6,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Egg"},"fix":{"range":[217,224],"text":""},"desc":"Remove unused variable \"Egg\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Edit' is defined but never used.","line":13,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":7,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Edit"},"fix":{"range":[249,257],"text":""},"desc":"Remove unused variable \"Edit\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":14,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":4,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[257,262],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageSquare' is defined but never used.","line":15,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MessageSquare"},"fix":{"range":[262,279],"text":""},"desc":"Remove unused variable \"MessageSquare\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[675,678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[675,678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setFilter' is assigned a value but never used.","line":27,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":27},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\hatching\\page.tsx:78:5\n  76 |\n  77 |   useEffect(() => {\n> 78 |     fetchBookings();\n     |     ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  79 |\n  80 |     const channel = supabase\n  81 |       .channel(\"hatching-realtime\")","line":78,"column":5,"nodeType":null,"endLine":78,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2488,2491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2488,2491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Trash2,\n  Phone,\n  MapPin,\n  Calendar,\n  Egg,\n  CheckCircle,\n  Search,\n  Edit,\n  X,\n  MessageSquare,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { toast } from \"sonner\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { format } from \"date-fns\";\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\n\nexport default function HatchingPage() {\n  const [bookings, setBookings] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState(\"all\");\n  const [search, setSearch] = useState(\"\");\n\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [confirmConfig, setConfirmConfig] = useState<{\n    title: string;\n    description: string;\n    confirmText: string;\n    onConfirm: () => void;\n    variant?: \"default\" | \"destructive\";\n  } | null>(null);\n\n  const supabase = createClient();\n\n  const filteredBookings = bookings.filter((b) => {\n    const matchesFilter = filter === \"all\" ? true : b.status === filter;\n    const matchesSearch =\n      b.customers?.full_name?.toLowerCase().includes(search.toLowerCase()) ||\n      b.customers?.phone?.includes(search);\n    return matchesFilter && matchesSearch;\n  });\n\n  const fetchBookings = React.useCallback(async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    const { data, error } = await supabase\n      .from(\"hatching_bookings\")\n      .select(\n        `\n        *,\n        customers (\n          full_name,\n          phone,\n          wilaya\n        ),\n        breeds (\n          name_en,\n          name_ar\n        )\n      `,\n      )\n      .order(\"created_at\", { ascending: false });\n\n    if (data) setBookings(data);\n    if (error) {\n      toast.error(\"Failed to fetch bookings\");\n      console.error(error);\n    }\n    if (showLoader) setLoading(false);\n  }, [supabase]);\n\n  useEffect(() => {\n    fetchBookings();\n\n    const channel = supabase\n      .channel(\"hatching-realtime\")\n      .on(\n        \"postgres_changes\",\n        { event: \"INSERT\", schema: \"public\", table: \"hatching_bookings\" },\n        (payload) => {\n          console.log(\"Realtime Hatching Payload:\", payload);\n          toast.success(\"╪¡╪¼╪▓ ╪¡╪╢╪º┘å╪⌐ ╪¼╪»┘è╪»!\", {\n            description: `╪º┘ä╪▓╪¿┘ê┘å: ${(payload.new as any).customer_id}`, // We'd need to fetch name, but this verifies it works\n            duration: 8000,\n          });\n          fetchBookings(false);\n        },\n      )\n      .subscribe((status) => {\n        console.log(\"Hatching Realtime Status:\", status);\n      });\n\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [supabase, fetchBookings]);\n\n  const updateStatus = async (id: string, newStatus: string) => {\n    const { error } = await supabase\n      .from(\"hatching_bookings\")\n      .update({ status: newStatus })\n      .eq(\"id\", id);\n    if (error) {\n      toast.error(\"Failed to update status\");\n    } else {\n      toast.success(`Booking updated to ${newStatus}`);\n      fetchBookings(false);\n    }\n  };\n\n  const deleteBooking = async (id: string) => {\n    setConfirmConfig({\n      title: \"Delete Booking?\",\n      description: \"Are you sure you want to delete this hatching booking?\",\n      confirmText: \"Delete\",\n      variant: \"destructive\",\n      onConfirm: async () => {\n        const { error } = await supabase\n          .from(\"hatching_bookings\")\n          .delete()\n          .eq(\"id\", id);\n        if (error) toast.error(\"Delete failed\");\n        else toast.success(\"Booking deleted\");\n        fetchBookings(false);\n      },\n    });\n    setConfirmOpen(true);\n  };\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-6 max-w-[1600px] mx-auto\">\n      <ConfirmDialog\n        isOpen={confirmOpen}\n        onClose={() => setConfirmOpen(false)}\n        onConfirm={confirmConfig?.onConfirm || (() => {})}\n        title={confirmConfig?.title || \"\"}\n        description={confirmConfig?.description || \"\"}\n        confirmText={confirmConfig?.confirmText}\n        variant={confirmConfig?.variant}\n      />\n\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-black tracking-tighter flex items-center gap-3\">\n            ╪¡╪¼┘ê╪▓╪º╪¬ ╪º┘ä╪¡╪╢╪º┘å╪⌐{\" \"}\n            <span className=\"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 text-sm font-black px-4 py-1 rounded-full\">\n              {filteredBookings.length}\n            </span>\n          </h1>\n          <p className=\"text-muted-foreground\">\n            ╪¬╪¬╪¿╪╣ ┘ê╪Ñ╪»╪º╪▒╪⌐ ╪╣┘à┘ä┘è╪º╪¬ ╪º┘ä╪¡╪╢╪º┘å╪⌐ ┘ê╪º┘ä╪¿┘è╪╢.\n          </p>\n        </div>\n        <div className=\"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto\">\n          <div className=\"relative w-full md:w-80\">\n            <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"╪º╪¿╪¡╪½ ╪╣┘å ╪¡╪¼╪▓...\"\n              className=\"pr-10 bg-white dark:bg-card border-border/50 rounded-xl h-12 font-black\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"rounded-xl bg-card border border-border/50 shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto px-4 pb-4 -mx-4 sm:px-0 sm:pb-0 sm:mx-0\">\n          <table className=\"w-full text-sm min-w-[800px]\">\n            <thead className=\"bg-muted/50 border-b border-border/50\">\n              <tr>\n                <th className=\"h-12 px-4 text-right font-black\">╪º┘ä╪▓╪¿┘ê┘å</th>\n                <th className=\"h-12 px-4 text-right font-black\">╪º┘ä╪│┘ä╪º┘ä╪⌐</th>\n                <th className=\"h-12 px-4 text-right font-black\">╪º┘ä╪╣╪»╪»</th>\n                <th className=\"h-12 px-4 text-right font-black\">╪º┘ä┘ü╪¬╪▒╪⌐</th>\n                <th className=\"h-12 px-4 text-right font-black\">╪º┘ä╪│╪╣╪▒</th>\n                <th className=\"h-12 px-4 text-right font-black\">╪º┘ä╪¡╪º┘ä╪⌐</th>\n                <th className=\"h-12 px-4 text-left font-black\">╪Ñ╪¼╪▒╪º╪í╪º╪¬</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredBookings.map((booking) => (\n                <tr\n                  key={booking.id}\n                  className=\"border-b border-border/30 hover:bg-emerald-50/10\"\n                >\n                  <td className=\"p-4\">\n                    <div className=\"font-bold\">\n                      {booking.customers?.full_name}\n                    </div>\n                    <div className=\"text-xs text-muted-foreground\">\n                      {booking.customers?.phone}\n                    </div>\n                  </td>\n                  <td className=\"p-4\">\n                    <Badge\n                      variant=\"secondary\"\n                      className=\"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-700\"\n                    >\n                      {booking.breeds?.name_ar || \"╪│┘ä╪º┘ä╪⌐ ┘à╪«╪╡╪╡╪⌐\"}\n                    </Badge>\n                  </td>\n                  <td className=\"p-4 font-bold\">{booking.egg_count} ╪¿┘è╪╢╪⌐</td>\n                  <td className=\"p-4 text-xs\">\n                    <div className=\"flex items-center gap-1\">\n                      <Calendar className=\"w-3 h-3\" />{\" \"}\n                      {format(new Date(booking.start_date), \"dd/MM/yyyy\")}\n                    </div>\n                    <div className=\"flex items-center gap-1 opacity-60\">\n                      <Calendar className=\"w-3 h-3\" />{\" \"}\n                      {format(new Date(booking.end_date), \"dd/MM/yyyy\")}\n                    </div>\n                  </td>\n                  <td className=\"p-4 font-bold\">{booking.total_price} DA</td>\n                  <td className=\"p-4\">\n                    <Badge\n                      className={\n                        booking.status === \"completed\"\n                          ? \"bg-green-100 text-green-700\"\n                          : \"bg-yellow-100 text-yellow-700\"\n                      }\n                    >\n                      {booking.status}\n                    </Badge>\n                  </td>\n                  <td className=\"p-4 text-left\">\n                    <div className=\"flex gap-2 justify-end\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        onClick={() => updateStatus(booking.id, \"completed\")}\n                        className=\"h-10 w-10 p-0 text-green-600\"\n                      >\n                        <CheckCircle className=\"h-4 w-4\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => deleteBooking(booking.id)}\n                        className=\"h-10 w-10 p-0 text-red-500\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\breeds\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":19,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[447,457],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Egg' is defined but never used.","line":20,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":6,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Egg"},"fix":{"range":[457,464],"text":""},"desc":"Remove unused variable \"Egg\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Bird' is defined but never used.","line":21,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":21,"endColumn":7,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Bird"},"fix":{"range":[464,472],"text":""},"desc":"Remove unused variable \"Bird\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertTriangle' is defined but never used.","line":22,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertTriangle"},"fix":{"range":[472,489],"text":""},"desc":"Remove unused variable \"AlertTriangle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Activity' is defined but never used.","line":24,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Activity"},"fix":{"range":[500,512],"text":""},"desc":"Remove unused variable \"Activity\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1251,1254],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1251,1254],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1302,1305],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1302,1305],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleNameChange' is assigned a value but never used.","line":82,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":82,"endColumn":25},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchProducts` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\breeds\\page.tsx:95:5\n  93 |\n  94 |   useEffect(() => {\n> 95 |     fetchProducts();\n     |     ^^^^^^^^^^^^^ `fetchProducts` accessed before it is declared\n  96 |     fetchMetadata();\n  97 |   }, []);\n  98 |\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\breeds\\page.tsx:112:3\n  110 |   };\n  111 |\n> 112 |   const fetchProducts = async (showLoader = true) => {\n      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 113 |     if (showLoader) setLoading(true);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 114 |     const { data, error } = await supabase\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 133 |     if (showLoader) setLoading(false);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 134 |   };\n      | ^^^^^ `fetchProducts` is declared here\n  135 |\n  136 |   const handleSave = async (e: React.FormEvent) => {\n  137 |     e.preventDefault();","line":95,"column":5,"nodeType":null,"endLine":95,"endColumn":18},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchMetadata` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\breeds\\page.tsx:96:5\n  94 |   useEffect(() => {\n  95 |     fetchProducts();\n> 96 |     fetchMetadata();\n     |     ^^^^^^^^^^^^^ `fetchMetadata` accessed before it is declared\n  97 |   }, []);\n  98 |\n  99 |   const fetchMetadata = async () => {\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\breeds\\page.tsx:99:3\n   97 |   }, []);\n   98 |\n>  99 |   const fetchMetadata = async () => {\n      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 100 |     const { data: fams } = await supabase\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 101 |       .from(\"families\")\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 109 |     if (brds) setBreeds(brds);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 110 |   };\n      | ^^^^^ `fetchMetadata` is declared here\n  111 |\n  112 |   const fetchProducts = async (showLoader = true) => {\n  113 |     if (showLoader) setLoading(true);","line":96,"column":5,"nodeType":null,"endLine":96,"endColumn":18},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchMetadata' and 'fetchProducts'. Either include them or remove the dependency array.","line":97,"column":6,"nodeType":"ArrayExpression","endLine":97,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMetadata, fetchProducts]","fix":{"range":[2630,2632],"text":"[fetchMetadata, fetchProducts]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":223,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":223,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6407,6410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6407,6410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":421,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":421,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14810,14813],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14810,14813],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":427,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":427,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15149,15152],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15149,15152],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":432,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":432,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15387,15390],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15387,15390],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":433,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":433,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15467,15470],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15467,15470],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":445,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":445,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15950,15953],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15950,15953],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":450,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":450,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16191,16194],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16191,16194],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":454,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":454,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16376,16379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16376,16379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":456,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":456,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16509,16512],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16509,16512],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":468,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":468,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16992,16995],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16992,16995],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":473,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":473,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17233,17236],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17233,17236],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":477,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":477,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17418,17421],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17418,17421],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":478,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":478,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17498,17501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17498,17501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Plus,\n  Edit,\n  Trash2,\n  Search,\n  Egg,\n  Bird,\n  AlertTriangle,\n  Package,\n  Activity,\n  Loader2,\n} from \"lucide-react\";\nimport { clsx } from \"clsx\";\nimport { toast } from \"sonner\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport Link from \"next/link\";\nimport { Icon } from \"@/components/ui/Icon\";\n\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\nimport { Database } from \"@/types/supabase\";\n\ntype Breed = Database[\"public\"][\"Tables\"][\"breeds\"][\"Row\"];\ntype Family = Database[\"public\"][\"Tables\"][\"families\"][\"Row\"];\ntype Product = Database[\"public\"][\"Tables\"][\"products\"][\"Row\"] & {\n  families?: Family | null;\n  breeds?: Breed | null;\n};\n\nexport default function BreedsPage() {\n  const [products, setProducts] = useState<Partial<Product>[]>([]);\n  const [families, setFamilies] = useState<any[]>([]);\n  const [breeds, setBreeds] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isAdding, setIsAdding] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n\n  // Confirmation Modal State\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState<string | null>(null);\n\n  const supabase = createClient();\n\n  const [formData, setFormData] = useState({\n    name_en: \"\",\n    slug: \"\",\n    category: \"eggs\",\n    subcategory: \"\",\n    family_id: \"\",\n    breed_id: \"\",\n    color_variation_ar: \"\",\n    price: 0,\n    stock: 0,\n    stock_breakdown: { \"1wk\": 0, \"2wk\": 0, \"4wk\": 0 },\n    next_batch_date: \"\",\n    image_url: \"/images/chicken.svg\",\n    description: \"\", // Added description to formData\n  });\n\n  // Auto-generate slug from name\n  const generateSlug = (name: string) => {\n    return name\n      .toLowerCase()\n      .trim()\n      .replace(/[^\\w ]+/g, \"\")\n      .replace(/ +/g, \"-\");\n  };\n\n  const handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.value;\n    setFormData((prev) => ({\n      ...prev,\n      name_en: name,\n      slug:\n        prev.slug === generateSlug(prev.name_en)\n          ? generateSlug(name)\n          : prev.slug,\n    }));\n  };\n\n  useEffect(() => {\n    fetchProducts();\n    fetchMetadata();\n  }, []);\n\n  const fetchMetadata = async () => {\n    const { data: fams } = await supabase\n      .from(\"families\")\n      .select(\"id, name_en, name_ar\")\n      .order(\"display_order\");\n    const { data: brds } = await supabase\n      .from(\"breeds\")\n      .select(\"id, name_en, name_ar, family_id\")\n      .order(\"name_ar\");\n    if (fams) setFamilies(fams);\n    if (brds) setBreeds(brds);\n  };\n\n  const fetchProducts = async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    const { data, error } = await supabase\n      .from(\"products\")\n      .select(\n        `\n        id, name_en, category, subcategory, family_id, breed_id, slug, image_url, description, price, stock, stock_breakdown, next_batch_date,\n        families:family_id (name_ar),\n        breeds:breed_id (name_ar)\n      `,\n      )\n      .neq(\"category\", \"machine\")\n      .is(\"deleted_at\", null) // Only active products\n      .order(\"category\", { ascending: true });\n\n    if (error) {\n      console.error(\"Error fetching products:\", JSON.stringify(error, null, 2));\n      toast.error(\"Failed to load inventory: \" + error.message);\n    } else {\n      setProducts((data as unknown as Partial<Product>[]) || []);\n    }\n    if (showLoader) setLoading(false);\n  };\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    type ProductInsert = Database[\"public\"][\"Tables\"][\"products\"][\"Insert\"];\n    type ProductUpdate = Database[\"public\"][\"Tables\"][\"products\"][\"Update\"];\n\n    const payload: ProductInsert = {\n      name_en: formData.name_en,\n      price: Number(formData.price),\n      stock: Number(formData.stock),\n      breed_id: formData.breed_id || null,\n      family_id: formData.family_id || null,\n      category: formData.category,\n      subcategory: formData.subcategory,\n      image_url: formData.image_url,\n      description: formData.description,\n      slug: formData.slug || formData.name_en.toLowerCase().replace(/ /g, \"-\"),\n      is_active: true,\n      stock_breakdown:\n        formData.category === \"chicks\" ? formData.stock_breakdown : null,\n      next_batch_date:\n        formData.category === \"eggs\" ? formData.next_batch_date : null,\n    };\n\n    if (editingId) {\n      const updatePayload: ProductUpdate = {\n        ...payload,\n        is_active: undefined, // Don't overwrite is_active on update if not needed\n      };\n      const { error } = await supabase\n        .from(\"products\")\n        .update(updatePayload)\n        .eq(\"id\", editingId);\n      if (error) toast.error(\"Update failed\");\n      else {\n        toast.success(\"Product updated!\");\n        resetForm();\n        fetchProducts(false);\n      }\n    } else {\n      const { error } = await supabase.from(\"products\").insert([payload]);\n      if (error) toast.error(\"Creation failed\");\n      else {\n        toast.success(\"Product created!\");\n        resetForm();\n        fetchProducts(false);\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!itemToDelete) return;\n    const { error } = await supabase\n      .from(\"products\")\n      .update({ deleted_at: new Date().toISOString() })\n      .eq(\"id\", itemToDelete);\n\n    if (error) toast.error(\"Delete failed\");\n    else {\n      toast.success(\"Product moved to recycle bin\");\n      fetchProducts(false);\n    }\n\n    setConfirmOpen(false);\n    setItemToDelete(null);\n  };\n\n  const resetForm = () => {\n    setIsAdding(false);\n    setEditingId(null);\n    setFormData({\n      name_en: \"\",\n      slug: \"\",\n      category: \"eggs\",\n      subcategory: \"\",\n      family_id: \"\",\n      breed_id: \"\",\n      color_variation_ar: \"\",\n      price: 0,\n      stock: 0,\n      stock_breakdown: { \"1wk\": 0, \"2wk\": 0, \"4wk\": 0 },\n      next_batch_date: \"\",\n      image_url: \"/images/chicken.svg\",\n      description: \"\",\n    });\n  };\n\n  const handleEdit = (product: any) => {\n    setEditingId(product.id);\n    setFormData({\n      name_en: product.name_en,\n      slug: product.slug || \"\",\n      category: product.category,\n      subcategory: product.subcategory || \"\",\n      family_id: product.family_id || \"\",\n      breed_id: product.breed_id || \"\",\n      color_variation_ar: product.color_variation_ar || \"\",\n      price: product.price,\n      stock: product.stock,\n      stock_breakdown: product.stock_breakdown || {\n        \"1wk\": 0,\n        \"2wk\": 0,\n        \"4wk\": 0,\n      },\n      next_batch_date: product.next_batch_date || \"\",\n      image_url: product.image_url || \"/images/chicken.svg\",\n      description: product.description || \"\",\n    });\n    setIsAdding(true);\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\n      <ConfirmDialog\n        isOpen={confirmOpen}\n        onClose={() => {\n          setConfirmOpen(false);\n          setItemToDelete(null);\n        }}\n        onConfirm={handleDelete}\n        title=\"Move to Recycle Bin?\"\n        description=\"Are you sure you want to move this product to the recycle bin? It will be hidden from the storefront.\"\n        confirmText=\"Move to Bin\"\n        variant=\"destructive\"\n      />\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl md:text-4xl font-black tracking-tighter text-foreground\">\n            ┘à╪«╪▓┘ê┘å ╪º┘ä┘à┘ê╪º╪┤┘è\n          </h1>\n          <p className=\"text-sm md:text-base text-muted-foreground\">\n            ╪Ñ╪»╪º╪▒╪⌐ ╪º┘ä╪¿┘è╪╢╪î ╪º┘ä┘â╪¬╪º┘â┘è╪¬╪î ┘ê╪º┘ä╪»┘ê╪º╪¼┘å ┘ü┘è ╪º┘ä┘à╪▓╪▒╪╣╪⌐.\n          </p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <Link href=\"/products/recycle-bin\">\n            <Button\n              variant=\"outline\"\n              className=\"rounded-xl px-4 border-muted-foreground/20 text-muted-foreground hover:text-red-500 hover:bg-red-50 dark:bg-red-500/10 font-black h-12\"\n            >\n              <Trash2 className=\"ms-2 h-4 w-4\" /> ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬\n            </Button>\n          </Link>\n          {!isAdding && (\n            <Button\n              onClick={() => setIsAdding(true)}\n              className=\"rounded-xl px-6 font-black shadow-lg shadow-emerald-500/20 h-12 bg-emerald-600 hover:bg-emerald-700\"\n            >\n              <Plus className=\"ms-2 h-5 w-5\" /> ╪Ñ╪╢╪º┘ü╪⌐ ┘à╪«╪▓┘ê┘å\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {isAdding && (\n        <Card className=\"border border-border/40 shadow-sm bg-white dark:bg-zinc-950 relative overflow-hidden\">\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-400 to-emerald-600\" />\n          <CardHeader className=\"p-4 md:p-6 pb-2 md:pb-4\">\n            <CardTitle className=\"text-xl md:text-2xl font-black leading-tight\">\n              {editingId ? \"╪¬╪╣╪»┘è┘ä ╪¿┘è╪º┘å╪º╪¬ ╪º┘ä┘à╪«╪▓┘ê┘å\" : \"╪Ñ╪╢╪º┘ü╪⌐ ┘à╪«╪▓┘ê┘å ╪¼╪»┘è╪» ┘ä┘ä┘à╪▓╪▒╪╣╪⌐\"}\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-6\">\n            <form\n              onSubmit={handleSave}\n              className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\n            >\n              <div className=\"space-y-2\">\n                <Label className=\"text-[11px] md:text-xs font-black uppercase tracking-widest text-muted-foreground/80\">\n                  ┘à╪▒╪¡┘ä╪⌐ ╪º┘ä┘å┘à┘ê\n                </Label>\n                <select\n                  className=\"flex h-12 w-full rounded-xl border-transparent bg-muted/50 px-4 py-2 text-sm font-black focus:bg-background focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all\"\n                  value={formData.category}\n                  onChange={(e) =>\n                    setFormData({ ...formData, category: e.target.value })\n                  }\n                >\n                  <option value=\"eggs\">╪¿┘è╪╢ ╪¬┘ü┘é┘è╪│</option>\n                  <option value=\"chicks\">╪╡┘è╪╡╪º┘å</option>\n                  <option value=\"chickens\">╪»┘ê╪º╪¼┘å ╪¿╪º┘ä╪║╪⌐</option>\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-[11px] md:text-xs font-black uppercase tracking-widest text-muted-foreground/80\">\n                  ╪╡┘å┘ü ╪º┘ä╪╣╪º╪ª┘ä╪⌐\n                </Label>\n                <select\n                  className=\"flex h-12 w-full rounded-xl border-transparent bg-muted/50 px-4 py-2 text-sm font-black focus:bg-background focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all\"\n                  value={formData.family_id}\n                  onChange={(e) => {\n                    const famId = e.target.value;\n                    setFormData({\n                      ...formData,\n                      family_id: famId,\n                      breed_id: \"\",\n                    });\n                  }}\n                >\n                  <option value=\"\">-- ╪º╪«╪¬╪▒ ╪º┘ä╪╣╪º╪ª┘ä╪⌐ --</option>\n                  {families.map((f) => (\n                    <option key={f.id} value={f.id}>\n                      {f.name_ar} ({f.name_en})\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-[11px] md:text-xs font-black uppercase tracking-widest text-muted-foreground/80\">\n                  ╪º┘ä╪│┘ä╪º┘ä╪⌐ ╪º┘ä╪¬┘ü╪╡┘è┘ä┘è╪⌐\n                </Label>\n                <select\n                  className=\"flex h-12 w-full rounded-xl border-transparent bg-muted/50 px-4 py-2 text-sm font-black focus:bg-background focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all\"\n                  value={formData.breed_id}\n                  disabled={!formData.family_id}\n                  onChange={(e) => {\n                    const selectedBreed = breeds.find(\n                      (b) => b.id === e.target.value,\n                    );\n                    if (selectedBreed) {\n                      const typeSuffix =\n                        formData.category === \"eggs\"\n                          ? \"(Eggs)\"\n                          : formData.category === \"chicks\"\n                            ? \"(Chick)\"\n                            : \"(Adult)\";\n                      setFormData({\n                        ...formData,\n                        breed_id: selectedBreed.id,\n                        name_en: `${selectedBreed.name_en} ${typeSuffix}`,\n                        slug: generateSlug(\n                          `${selectedBreed.name_en} ${typeSuffix}`,\n                        ),\n                      });\n                    }\n                  }}\n                >\n                  <option value=\"\">-- ╪º╪«╪¬╪▒ ╪º┘ä╪│┘ä╪º┘ä╪⌐ --</option>\n                  {breeds\n                    .filter(\n                      (b) => String(b.family_id) === String(formData.family_id),\n                    )\n                    .map((b) => (\n                      <option key={b.id} value={b.id}>\n                        {b.name_ar}\n                      </option>\n                    ))}\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-[11px] md:text-xs font-black uppercase tracking-widest text-muted-foreground/80\">\n                  ╪│╪╣╪▒ ╪º┘ä╪¬╪»╪º┘ê┘ä (╪»╪¼)\n                </Label>\n                <Input\n                  type=\"number\"\n                  value={formData.price}\n                  onChange={(e) =>\n                    setFormData({ ...formData, price: Number(e.target.value) })\n                  }\n                  className=\"bg-muted/50 border-transparent focus:bg-background h-12 rounded-xl font-black\"\n                />\n              </div>\n\n              {formData.category === \"chicks\" ? (\n                <div className=\"col-span-full grid grid-cols-3 gap-4 p-6 bg-muted/20 rounded-xl border border-muted/50\">\n                  <div className=\"col-span-full mb-2 font-black text-sm uppercase tracking-wider text-primary\">\n                    Maturation Matrix\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-[10px] font-bold tracking-widest opacity-70\">\n                      1 WEEK\n                    </Label>\n                    <Input\n                      type=\"number\"\n                      value={(formData.stock_breakdown as any)?.[\"1wk\"] || 0}\n                      onChange={(e) =>\n                        setFormData({\n                          ...formData,\n                          // Stock breakdown display removed as it's not in the DB schema anymore\n                          stock_breakdown: {\n                            ...(formData.stock_breakdown as any),\n                            \"1wk\": Number(e.target.value),\n                          },\n                          stock:\n                            Number(e.target.value) +\n                            ((formData.stock_breakdown as any)?.[\"2wk\"] || 0) +\n                            ((formData.stock_breakdown as any)?.[\"4wk\"] || 0),\n                        })\n                      }\n                      className=\"bg-background\"\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-[10px] font-bold tracking-widest opacity-70\">\n                      2 WEEKS\n                    </Label>\n                    <Input\n                      type=\"number\"\n                      value={(formData.stock_breakdown as any)?.[\"2wk\"] || 0}\n                      onChange={(e) =>\n                        setFormData({\n                          ...formData,\n                          stock_breakdown: {\n                            ...(formData.stock_breakdown as any),\n                            \"2wk\": Number(e.target.value),\n                          },\n                          stock:\n                            ((formData.stock_breakdown as any)?.[\"1wk\"] || 0) +\n                            Number(e.target.value) +\n                            ((formData.stock_breakdown as any)?.[\"4wk\"] || 0),\n                        })\n                      }\n                      className=\"bg-background\"\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-[10px] font-bold tracking-widest opacity-70\">\n                      4 WEEKS\n                    </Label>\n                    <Input\n                      type=\"number\"\n                      value={(formData.stock_breakdown as any)?.[\"4wk\"] || 0}\n                      onChange={(e) =>\n                        setFormData({\n                          ...formData,\n                          stock_breakdown: {\n                            ...(formData.stock_breakdown as any),\n                            \"4wk\": Number(e.target.value),\n                          },\n                          stock:\n                            ((formData.stock_breakdown as any)?.[\"1wk\"] || 0) +\n                            ((formData.stock_breakdown as any)?.[\"2wk\"] || 0) +\n                            Number(e.target.value),\n                        })\n                      }\n                      className=\"bg-background\"\n                    />\n                  </div>\n                  <div className=\"col-span-full mt-2 text-xs font-bold text-muted-foreground\">\n                    Aggregated Inventory:{\" \"}\n                    <span className=\"text-primary text-lg\">\n                      {formData.stock}\n                    </span>{\" \"}\n                    units\n                  </div>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <Label className=\"text-[11px] md:text-xs font-bold uppercase tracking-widest text-muted-foreground/80\">\n                    ╪Ñ╪¼┘à╪º┘ä┘è ╪º┘ä┘à╪«╪▓┘ê┘å ╪º┘ä┘à╪¬┘ê┘ü╪▒\n                  </Label>\n                  <Input\n                    type=\"number\"\n                    value={formData.stock}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        stock: Number(e.target.value),\n                      })\n                    }\n                    className=\"bg-muted/50 border-transparent focus:bg-background h-11\"\n                  />\n                </div>\n              )}\n\n              {formData.category === \"eggs\" && (\n                <div className=\"space-y-2\">\n                  <Label className=\"text-[11px] md:text-xs font-bold uppercase tracking-widest text-muted-foreground/80\">\n                    Incubation Maturity Date\n                  </Label>\n                  <Input\n                    type=\"date\"\n                    value={formData.next_batch_date || \"\"}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        next_batch_date: e.target.value,\n                      })\n                    }\n                    className=\"bg-muted/50 border-transparent focus:bg-background h-11\"\n                  />\n                </div>\n              )}\n\n              <div className=\"col-span-full flex justify-end gap-3 pt-6 border-t border-dashed mt-4\">\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  className=\"rounded-xl px-6 min-h-[48px] font-black\"\n                  onClick={resetForm}\n                >\n                  ╪Ñ┘ä╪║╪º╪í ╪º┘ä╪╣┘à┘ä┘è╪⌐\n                </Button>\n                <Button\n                  disabled={loading}\n                  type=\"submit\"\n                  className=\"rounded-xl px-12 min-h-[48px] font-black shadow-sm shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white\"\n                >\n                  {loading ? (\n                    <Loader2 className=\"w-5 h-5 animate-spin mr-2\" />\n                  ) : null}\n                  {editingId ? \"╪¬╪¡╪»┘è╪½ ╪º┘ä┘à╪«╪▓┘ê┘å\" : \"╪¬╪ú┘â┘è╪» ╪º┘ä╪Ñ╪╢╪º┘ü╪⌐\"}\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 pb-12\">\n        {products.map((product) => (\n          <Card\n            key={product.id}\n            className=\"group border border-border/40 shadow-sm hover:shadow-sm transition-all duration-500 rounded-xl md:rounded-xl overflow-hidden bg-white dark:bg-card\"\n          >\n            <CardHeader className=\"bg-muted/30 p-5 md:p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <div\n                  className={clsx(\n                    \"w-12 h-12 rounded-xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform\",\n                    product.category === \"eggs\"\n                      ? \"bg-orange-100 text-orange-600\"\n                      : product.category === \"chicks\"\n                        ? \"bg-yellow-100 text-yellow-600\"\n                        : \"bg-green-100 text-green-600\",\n                  )}\n                >\n                  <Icon\n                    src={\n                      product.category === \"eggs\"\n                        ? \"https://cdn.lordicon.com/hursldjj.json\"\n                        : \"https://cdn.lordicon.com/rxufjlal.json\"\n                    }\n                    trigger=\"hover\"\n                    size={32}\n                  />\n                </div>\n                <div className=\"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-10 w-10 bg-background/50 backdrop-blur shadow-sm rounded-xl\"\n                    onClick={() => handleEdit(product)}\n                  >\n                    <Edit className=\"h-4 w-4 text-blue-500\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-10 w-10 bg-background/50 backdrop-blur shadow-sm text-red-500 rounded-xl\"\n                    onClick={() => {\n                      setItemToDelete(product.id || \"\");\n                      setConfirmOpen(true);\n                    }}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n              <Badge\n                variant=\"outline\"\n                className=\"mb-3 capitalize border-emerald-200 dark:border-emerald-500/30 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 font-black px-3 py-1 rounded-full\"\n              >\n                {product.category === \"eggs\"\n                  ? \"╪¿┘è╪╢\"\n                  : product.category === \"chicks\"\n                    ? \"╪╡┘è╪╡╪º┘å\"\n                    : \"╪»┘ê╪º╪¼┘å\"}\n                {product.families?.name_ar && ` ΓÇó ${product.families.name_ar}`}\n              </Badge>\n              <CardTitle className=\"text-xl md:text-2xl font-black leading-tight group-hover:text-primary transition-colors\">\n                {product.name_en}\n              </CardTitle>\n              <div className=\"flex flex-wrap gap-2 mt-1\">\n                <CardDescription className=\"font-medium text-xs tracking-wide uppercase opacity-70\">\n                  {product.breeds?.name_ar || product.subcategory}\n                </CardDescription>\n                {product.slug && (\n                  <Badge\n                    variant=\"secondary\"\n                    className=\"text-[9px] h-4 rounded px-1 font-mono tracking-tighter opacity-50 bg-black/5\"\n                  >\n                    /{product.slug}\n                  </Badge>\n                )}\n              </div>\n            </CardHeader>\n            <CardContent className=\"p-5 md:p-6\">\n              <div className=\"flex justify-between items-end\">\n                <div>\n                  <div className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">\n                    ╪│╪╣╪▒ ╪º┘ä╪│┘ê┘é\n                  </div>\n                  <div className=\"text-3xl font-black tracking-tighter\">\n                    {(product.price ?? 0).toLocaleString()}{\" \"}\n                    <span className=\"text-xs opacity-60\">╪»╪¼</span>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">\n                    ┘à╪│╪¬┘ê┘ë ╪º┘ä┘à╪«╪▓┘ê┘å\n                  </div>\n                  <div\n                    className={clsx(\n                      \"text-2xl font-black px-4 py-1.5 rounded-xl inline-block shadow-sm\",\n                      (product.stock || 0) < 10\n                        ? \"bg-red-50 dark:bg-red-500/10 text-red-600 border border-red-100\"\n                        : \"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 border border-emerald-100 dark:border-emerald-500/20\",\n                    )}\n                  >\n                    {product.stock || 0}\n                  </div>\n                </div>\n              </div>\n\n              {product.category === \"chicks\" && product.stock_breakdown && (\n                <div className=\"mt-6 pt-4 border-t border-dashed flex justify-between gap-2 overflow-x-auto\">\n                  {Object.entries(\n                    product.stock_breakdown as Record<string, number>,\n                  ).map(([age, count]) => (\n                    <div\n                      key={age}\n                      className=\"text-center px-3 py-2 bg-muted/40 rounded-xl min-w-[70px]\"\n                    >\n                      <div className=\"text-[10px] font-bold opacity-50 mb-1\">\n                        {age.toUpperCase()}\n                      </div>\n                      <div className=\"text-sm font-black\">{count}</div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n        {products.length === 0 && !loading && (\n          <div className=\"col-span-full text-center py-24 bg-muted/20 rounded-xl border-2 border-dashed border-muted\">\n            <Package className=\"h-16 w-16 mx-auto mb-4 opacity-10\" />\n            <h3 className=\"text-2xl font-black opacity-30\">\n              Biological Inventory Empty\n            </h3>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\incubators\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":9,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":18,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardDescription"},"fix":{"range":[172,191],"text":""},"desc":"Remove unused variable \"CardDescription\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":19,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[447,457],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Thermometer' is defined but never used.","line":20,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Thermometer"},"fix":{"range":[457,472],"text":""},"desc":"Remove unused variable \"Thermometer\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Settings' is defined but never used.","line":21,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":21,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Settings"},"fix":{"range":[472,484],"text":""},"desc":"Remove unused variable \"Settings\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Package' is defined but never used.","line":22,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":10,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Package"},"fix":{"range":[484,495],"text":""},"desc":"Remove unused variable \"Package\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":29,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":29,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[700,730],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchProducts` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\incubators\\page.tsx:82:5\n  80 |\n  81 |   useEffect(() => {\n> 82 |     fetchProducts();\n     |     ^^^^^^^^^^^^^ `fetchProducts` accessed before it is declared\n  83 |   }, []);\n  84 |\n  85 |   const fetchProducts = async (showLoader = true) => {\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\inventory\\incubators\\page.tsx:85:3\n   83 |   }, []);\n   84 |\n>  85 |   const fetchProducts = async (showLoader = true) => {\n      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  86 |     if (showLoader) setLoading(true);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  87 |     const { data, error } = await supabase\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 102 |     if (showLoader) setLoading(false);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 103 |   };\n      | ^^^^^ `fetchProducts` is declared here\n  104 |\n  105 |   const handleSave = async (e: React.FormEvent) => {\n  106 |     e.preventDefault();","line":82,"column":5,"nodeType":null,"endLine":82,"endColumn":18},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProducts'. Either include it or remove the dependency array.","line":83,"column":6,"nodeType":"ArrayExpression","endLine":83,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProducts]","fix":{"range":[2191,2193],"text":"[fetchProducts]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":176,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":176,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4806,4809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4806,4809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Plus,\n  Edit,\n  Trash2,\n  Search,\n  Thermometer,\n  Settings,\n  Package,\n  Activity,\n  Loader2,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { AnimatedButton } from \"@/components/ui/AnimatedButton\";\nimport Link from \"next/link\";\nimport { clsx } from \"clsx\";\nimport { Icon } from \"@/components/ui/Icon\";\n\nimport { Database } from \"@/types/supabase\";\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\n\ntype Product = Database[\"public\"][\"Tables\"][\"products\"][\"Row\"];\n\nexport default function IncubatorsPage() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isAdding, setIsAdding] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n\n  // Confirmation Modal State\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState<string | null>(null);\n\n  const supabase = createClient();\n\n  const [formData, setFormData] = useState({\n    name_en: \"\",\n    slug: \"\",\n    category: \"machine\",\n    subcategory: \"Incubator\",\n    price: 0,\n    stock: 0,\n    image_url: \"/images/incubator.svg\",\n  });\n\n  // Auto-generate slug from name\n  const generateSlug = (name: string) => {\n    return name\n      .toLowerCase()\n      .trim()\n      .replace(/[^\\w ]+/g, \"\")\n      .replace(/ +/g, \"-\");\n  };\n\n  const handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.value;\n    setFormData((prev) => ({\n      ...prev,\n      name_en: name,\n      slug:\n        prev.slug === generateSlug(prev.name_en)\n          ? generateSlug(name)\n          : prev.slug,\n    }));\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    const { data, error } = await supabase\n      .from(\"products\")\n      .select(\n        \"id, name_en, slug, category, subcategory, price, stock, image_url\",\n      )\n      .in(\"category\", [\"machine\", \"incubators\"])\n      .is(\"deleted_at\", null) // Only active machines\n      .order(\"price\", { ascending: true });\n\n    if (error) {\n      console.error(\"Error fetching incubators:\", error);\n      toast.error(\"Failed to load inventory.\");\n    } else {\n      setProducts((data as unknown as Product[]) || []);\n    }\n    if (showLoader) setLoading(false);\n  };\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    type ProductInsert = Database[\"public\"][\"Tables\"][\"products\"][\"Insert\"];\n    type ProductUpdate = Database[\"public\"][\"Tables\"][\"products\"][\"Update\"];\n\n    const payload: ProductInsert = {\n      name_en: formData.name_en,\n      price: Number(formData.price),\n      stock: Number(formData.stock),\n      category: formData.category,\n      subcategory: formData.subcategory,\n      image_url: formData.image_url,\n      slug: formData.slug || formData.name_en.toLowerCase().replace(/ /g, \"-\"),\n      is_active: true,\n    };\n\n    if (editingId) {\n      const { error } = await supabase\n        .from(\"products\")\n        .update(payload as ProductUpdate)\n        .eq(\"id\", editingId);\n      if (error) toast.error(\"Update failed\");\n      else {\n        toast.success(\"Product updated!\");\n        resetForm();\n        fetchProducts(false);\n      }\n    } else {\n      // For new products, also set is_active\n      const { error } = await supabase.from(\"products\").insert([payload]);\n      if (error) toast.error(\"Creation failed\");\n      else {\n        toast.success(\"Product created!\");\n        resetForm();\n        fetchProducts(false);\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!itemToDelete) return;\n    const { error } = await supabase\n      .from(\"products\")\n      .update({ deleted_at: new Date().toISOString() })\n      .eq(\"id\", itemToDelete);\n\n    if (error) toast.error(\"Delete failed\");\n    else {\n      toast.success(\"Asset moved to recycle bin\");\n      fetchProducts(false);\n    }\n\n    setConfirmOpen(false);\n    setItemToDelete(null);\n  };\n\n  const resetForm = () => {\n    setIsAdding(false);\n    setEditingId(null);\n    setFormData({\n      name_en: \"\",\n      slug: \"\",\n      category: \"machine\",\n      subcategory: \"Incubator\",\n      price: 0,\n      stock: 0,\n      image_url: \"/images/incubator.svg\",\n    });\n  };\n\n  const handleEdit = (product: any) => {\n    setEditingId(product.id);\n    setFormData({\n      name_en: product.name_en,\n      slug: product.slug || \"\",\n      category: product.category,\n      subcategory: product.subcategory || \"Incubator\",\n      price: product.price,\n      stock: product.stock,\n      image_url: product.image_url || \"/images/incubator.svg\",\n    });\n    setIsAdding(true);\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-10 max-w-7xl mx-auto pb-10\">\n      <ConfirmDialog\n        isOpen={confirmOpen}\n        onClose={() => {\n          setConfirmOpen(false);\n          setItemToDelete(null);\n        }}\n        onConfirm={handleDelete}\n        title=\"Move to Recycle Bin?\"\n        description=\"Are you sure you want to move this asset to the recycle bin? It will be hidden from the storefront.\"\n        confirmText=\"Move to Bin\"\n        variant=\"destructive\"\n      />\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\n        <div>\n          <h1 className=\"text-4xl font-black tracking-tighter flex items-center gap-4\">\n            ┘ê╪¡╪»╪º╪¬ ╪º┘ä╪¡╪º╪╢┘å╪º╪¬{\" \"}\n            <span className=\"text-emerald-200 text-2xl font-black\">/</span>{\" \"}\n            {products.length}\n          </h1>\n          <p className=\"text-muted-foreground font-black\">\n            ┘à╪▒╪º┘é╪¿╪⌐ ╪¡╪º┘ä╪⌐ ╪º┘å╪¬╪┤╪º╪▒ ╪º┘ä╪ó┘ä╪º╪¬ ┘ê╪¬┘ê┘ü╪▒┘ç╪º.\n          </p>\n        </div>\n        {!isAdding && (\n          <AnimatedButton\n            onClick={() => setIsAdding(true)}\n            className=\"h-14 px-10 rounded-xl font-black text-lg shadow-sm shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white border-none\"\n          >\n            <Plus className=\"ms-3 h-6 w-6\" /> ╪Ñ╪╢╪º┘ü╪⌐ ╪¡╪º╪╢┘å╪⌐\n          </AnimatedButton>\n        )}\n      </div>\n\n      {isAdding && (\n        <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden animate-in zoom-in-95 duration-300\">\n          <CardHeader className=\"p-8 pb-4\">\n            <CardTitle className=\"text-2xl font-black flex items-center gap-3\">\n              <div className=\"w-10 h-10 rounded-xl bg-emerald-600 text-white flex items-center justify-center shadow-lg shadow-emerald-500/20\">\n                <Plus className=\"w-6 h-6\" />\n              </div>\n              {editingId ? \"╪¬╪╣╪»┘è┘ä ┘à╪╡┘ü┘ê┘ü╪⌐ ╪º┘ä┘ê╪¡╪»╪⌐\" : \"╪¬┘ç┘è╪ª╪⌐ ╪ú╪╡┘ä ╪¼╪»┘è╪»\"}\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-8 pt-0\">\n            <form\n              onSubmit={handleSave}\n              className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\"\n            >\n              <div className=\"space-y-2 lg:col-span-1\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪¬╪│┘à┘è╪⌐ ╪º┘ä╪ú╪╡┘ä\n                </Label>\n                <Input\n                  required\n                  value={formData.name_en}\n                  onChange={handleNameChange}\n                  placeholder=\"┘à╪½╪º┘ä: ╪¡╪º╪╢┘å╪⌐ ╪ú┘ê╪¬┘ê┘à╪º╪¬┘è┘â┘è╪⌐ 48 ╪¿┘è╪╢╪⌐\"\n                  className=\"h-12 rounded-xl bg-muted/50 border-none focus:ring-emerald-500/20 font-black\"\n                />\n              </div>\n              <div className=\"space-y-2 lg:col-span-1\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ┘à╪╣╪▒┘ü ╪º┘ä╪▒╪º╪¿╪╖ (Slug)\n                </Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    required\n                    value={formData.slug}\n                    onChange={(e) =>\n                      setFormData({ ...formData, slug: e.target.value })\n                    }\n                    placeholder=\"┘à╪½╪º┘ä: industrial-automatic-48\"\n                    dir=\"ltr\"\n                    className=\"h-12 rounded-xl bg-muted/50 border-none focus:ring-emerald-500/20 font-mono text-xs\"\n                  />\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"icon\"\n                    className=\"h-12 w-12 shrink-0 rounded-xl\"\n                    onClick={() =>\n                      setFormData({\n                        ...formData,\n                        slug: generateSlug(formData.name_en),\n                      })\n                    }\n                    title=\"╪¬┘ê┘ä┘è╪» ╪¬┘ä┘é╪º╪ª┘è\"\n                  >\n                    <Activity className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ┘å┘ê╪╣ ╪º┘ä┘â╪¬┘ä╪⌐\n                </Label>\n                <Input\n                  value={formData.subcategory}\n                  onChange={(e) =>\n                    setFormData({ ...formData, subcategory: e.target.value })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none focus:ring-emerald-500/20 font-black\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘é┘è┘à╪⌐ ╪º┘ä╪│┘ê┘é┘è╪⌐ (╪»╪¼)\n                </Label>\n                <Input\n                  type=\"number\"\n                  value={formData.price}\n                  onChange={(e) =>\n                    setFormData({ ...formData, price: Number(e.target.value) })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none focus:ring-emerald-500/20 font-black\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘ê╪¡╪»╪º╪¬ ╪º┘ä┘à╪¬┘ê┘ü╪▒╪⌐\n                </Label>\n                <Input\n                  type=\"number\"\n                  value={formData.stock}\n                  onChange={(e) =>\n                    setFormData({ ...formData, stock: Number(e.target.value) })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none focus:ring-emerald-500/20 font-black\"\n                />\n              </div>\n\n              <div className=\"lg:col-span-4 flex justify-end gap-3 pt-6 border-t border-muted/50 mt-4\">\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  onClick={resetForm}\n                  className=\"min-h-[48px] h-12 rounded-xl font-black\"\n                >\n                  ╪Ñ┘ä╪║╪º╪í ╪º┘ä╪╣┘à┘ä┘è╪⌐\n                </Button>\n                <Button\n                  disabled={loading}\n                  type=\"submit\"\n                  className=\"min-h-[48px] h-12 px-10 rounded-xl font-black bg-emerald-600 text-white shadow-lg shadow-emerald-500/20 border-none\"\n                >\n                  {loading ? (\n                    <Loader2 className=\"w-5 h-5 animate-spin mr-2\" />\n                  ) : null}\n                  {editingId ? \"╪¬╪¡╪»┘è╪½ ╪º┘ä╪¿┘è╪º┘å╪º╪¬\" : \"╪¬╪ú┘â┘è╪» ╪º┘ä╪¡┘ü╪╕\"}\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n        {products.map((product) => (\n          <Card\n            key={product.id}\n            className=\"relative overflow-hidden group border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card hover:shadow-sm transition-all duration-500\"\n          >\n            <CardHeader className=\"p-7 pb-2 relative z-10\">\n              <div className=\"flex justify-between items-start\">\n                <Badge\n                  variant=\"secondary\"\n                  className=\"capitalize rounded-full px-4 py-1.5 font-black text-[10px] tracking-widest bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 border-none\"\n                >\n                  {product.subcategory === \"Incubator\"\n                    ? \"╪¡╪º╪╢┘å╪⌐\"\n                    : product.subcategory}\n                </Badge>\n                <div className=\"opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-all flex gap-1 translate-y-0 md:translate-y-2 md:group-hover:translate-y-0\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-10 w-10 rounded-xl bg-muted/50 hover:bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600\"\n                    onClick={() => handleEdit(product)}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-10 w-10 rounded-xl bg-red-50 dark:bg-red-500/10 hover:bg-red-100 dark:bg-red-500/20 text-red-500\"\n                    onClick={() => {\n                      setItemToDelete(product.id);\n                      setConfirmOpen(true);\n                    }}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n              <CardTitle className=\"text-2xl font-black leading-tight mt-4 tracking-tight group-hover:text-primary transition-colors flex flex-col gap-1\">\n                {product.name_en}\n                {product.slug && (\n                  <span className=\"text-[10px] font-mono opacity-30\">\n                    /{product.slug}\n                  </span>\n                )}\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-7 pt-2 relative z-10\">\n              <div className=\"flex justify-between items-end mt-6\">\n                <div>\n                  <p className=\"text-[10px] font-black uppercase text-muted-foreground tracking-widest mb-1 opacity-50\">\n                    ┘é┘è┘à╪⌐ ╪º┘ä┘ê╪¡╪»╪⌐\n                  </p>\n                  <div className=\"text-3xl font-black tracking-tighter\">\n                    {(product.price ?? 0).toLocaleString()}{\" \"}\n                    <span className=\"text-xs opacity-60\">╪»╪¼</span>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">\n                    Stock Level\n                  </div>\n                  <div\n                    className={clsx(\n                      \"text-2xl font-black px-4 py-1.5 rounded-xl inline-block shadow-sm\",\n                      (product.stock ?? 0) < 5\n                        ? \"bg-red-50 dark:bg-red-500/10 text-red-600 border border-red-100\"\n                        : \"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 border border-emerald-100 dark:border-emerald-500/20\",\n                    )}\n                  >\n                    {product.stock ?? 0}\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n            <div className=\"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-bl-[5rem] -mr-8 -mt-8 group-hover:bg-primary/10 transition-colors flex items-center justify-center p-8\">\n              <div className=\"opacity-30 group-hover:scale-110 transition-transform -mr-4 -mt-4\">\n                <Icon\n                  src=\"https://cdn.lordicon.com/msoeawqm.json\"\n                  trigger=\"loop\"\n                  size={80}\n                />\n              </div>\n            </div>\n          </Card>\n        ))}\n        {products.length === 0 && !loading && (\n          <div className=\"col-span-full text-center py-24 opacity-20 space-y-4\">\n            <Icon\n              src=\"https://cdn.lordicon.com/dxjqvkzv.json\"\n              trigger=\"loop\"\n              size={80}\n            />\n            <h3 className=\"text-2xl font-black font-mono\">\n              NO ASSETS DETECTED\n            </h3>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\loading.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Loader2"},"fix":{"range":[54,94],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { motion } from \"framer-motion\";\nimport { Loader2 } from \"lucide-react\";\n\nexport default function Loading() {\n  return (\n    <div className=\"min-h-[80vh] w-full flex flex-col items-center justify-center gap-6\">\n      <div className=\"relative\">\n        <motion.div\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1.5, repeat: Infinity, ease: \"linear\" }}\n          className=\"w-16 h-16 border-4 border-emerald-500/20 border-t-emerald-500 rounded-full\"\n        />\n        <motion.div\n          animate={{ scale: [1, 1.2, 1] }}\n          transition={{ duration: 2, repeat: Infinity }}\n          className=\"absolute inset-0 flex items-center justify-center\"\n        >\n          <div className=\"w-6 h-6 bg-emerald-500 rounded-full blur-sm opacity-50\" />\n        </motion.div>\n      </div>\n      <motion.p\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.5 }}\n        className=\"text-emerald-600 font-black tracking-tighter text-xl animate-pulse\"\n      >\n        ╪¼╪º╪▒┘è ╪º┘ä╪¬╪¡┘à┘è┘ä...\n      </motion.p>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\orders\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useCallback' is defined but never used.","line":2,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":57,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useCallback"},"fix":{"range":[57,70],"text":""},"desc":"Remove unused variable \"useCallback\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatedButton' is defined but never used.","line":22,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"AnimatedButton"},"fix":{"range":[527,592],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":90,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":90,"endColumn":10},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":160,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":160,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4434,4437],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4434,4437],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":170,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4839,4842],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4839,4842],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":191,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":191,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5642,5645],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5642,5645],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'markBulkDelete' is assigned a value but never used.","line":225,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":225,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":261,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":261,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7748,7751],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7748,7751],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":273,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":273,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8163,8166],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8163,8166],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":274,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":274,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8233,8236],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8233,8236],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has an unnecessary dependency: 'supabase'. Either exclude it or remove the dependency array. Outer scope values like 'supabase' aren't valid dependencies because mutating them doesn't re-render the component.","line":312,"column":6,"nodeType":"ArrayExpression","endLine":312,"endColumn":29,"suggestions":[{"desc":"Update the dependencies array to be: [fetchOrders]","fix":{"range":[9366,9389],"text":"[fetchOrders]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":335,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":335,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10008,10011],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10008,10011],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":336,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":336,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10040,10043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10040,10043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":354,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":354,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10585,10588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10585,10588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":363,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":363,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10854,10857],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10854,10857],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":367,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":367,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10982,10985],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10982,10985],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":375,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":375,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11257,11260],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11257,11260],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":377,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":377,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11365,11368],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11365,11368],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":382,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":382,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11497,11500],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11497,11500],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":404,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":404,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12203,12206],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12203,12206],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":404,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":404,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12228,12231],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12228,12231],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":639,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":639,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23432,23435],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23432,23435],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Trash2,\n  Phone,\n  MapPin,\n  Truck,\n  ShieldCheck,\n  CheckCircle,\n  Search,\n  Edit,\n  X,\n  MessageSquare,\n  ShoppingCart,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Input } from \"@/components/ui/input\";\nimport { toast } from \"sonner\";\nimport { AnimatedButton } from \"@/components/ui/AnimatedButton\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport type { OrderWithRelations } from \"@/types/orders\";\nimport { EditOrderDialog } from \"@/components/orders/EditOrderDialog\";\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\n\nimport useSWR from \"swr\";\n\nconst STATUS_LABELS: Record<string, string> = {\n  shipped: \"╪¬┘à ╪º┘ä╪┤╪¡┘å\",\n  delivered: \"╪¬┘à ╪º┘ä╪¬┘ê╪╡┘è┘ä\",\n  cancelled: \"┘à┘ä╪║┘ë\",\n  pending: \"┘é┘è╪» ╪º┘ä╪º┘å╪¬╪╕╪º╪▒\",\n};\n\nconst supabase = createClient();\n\nconst fetcher = async () => {\n  const { data, error } = await supabase\n    .from(\"orders\")\n    .select(\n      `\n        *,\n        customers (\n          *,\n          customer_loyalty (\n            level,\n            tag_ar\n          )\n        ),\n        order_items (\n          *,\n          products (\n            name,\n            breeds (\n                name_ar\n            )\n          )\n        ),\n        products (\n          name,\n          breeds (\n            name_ar\n          )\n        )\n      `,\n    )\n    .order(\"created_at\", { ascending: false })\n    .limit(50);\n\n  if (error) {\n    console.error(\"Join fetch failed, falling back:\", error);\n    const { data: simpleData } = await supabase\n      .from(\"orders\")\n      .select(\n        \"id, status, total_amount, customer_name, phone_number, created_at, product_name, egg_count\",\n      )\n      .order(\"created_at\", { ascending: false })\n      .limit(50);\n    return (simpleData || []) as unknown as OrderWithRelations[];\n  }\n  return (data || []) as unknown as OrderWithRelations[];\n};\n\nexport default function OrdersPage() {\n  const {\n    data: orders = [],\n    error,\n    isLoading: loading,\n    mutate: fetchOrders,\n  } = useSWR(\"admin_orders\", fetcher, {\n    revalidateOnFocus: true,\n    dedupingInterval: 60000,\n    focusThrottleInterval: 30000,\n  });\n\n  const [filter, setFilter] = useState(\"active\");\n  const [search, setSearch] = useState(\"\");\n  const [editingOrder, setEditingOrder] = useState<OrderWithRelations | null>(\n    null,\n  );\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [selectedOrders, setSelectedOrders] = useState<string[]>([]);\n\n  // Confirmation Modal State\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [confirmConfig, setConfirmConfig] = useState<{\n    title: string;\n    description: string;\n    confirmText: string;\n    onConfirm: () => void;\n    variant?: \"default\" | \"destructive\";\n  } | null>(null);\n\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  const filteredOrders = (orders || []).filter((o) => {\n    const matchesFilter =\n      filter === \"all\"\n        ? true\n        : filter === \"active\"\n          ? [\"pending\", \"shipped\"].includes(o.status || \"pending\")\n          : [\"delivered\", \"cancelled\"].includes(o.status || \"pending\");\n    const matchesSearch =\n      o.customer_name?.toLowerCase().includes(search.toLowerCase()) ||\n      o.phone_number?.includes(search) ||\n      o.id.toString().includes(search);\n    return matchesFilter && matchesSearch;\n  });\n\n  const toggleSelect = (id: string) => {\n    setSelectedOrders((prev) =>\n      prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id],\n    );\n  };\n\n  const toggleAll = () => {\n    if (selectedOrders.length === filteredOrders.length) {\n      setSelectedOrders([]);\n    } else {\n      setSelectedOrders(filteredOrders.map((o) => o.id));\n    }\n  };\n\n  // Translation mapping for generic terms\n  const translateProduct = (name: string) => {\n    const mapping: Record<string, string> = {\n      \"Baby Chicks\": \"┘â╪¬╪º┘â┘è╪¬\",\n      \"Hatching Eggs\": \"╪¿┘è╪╢ ┘à╪«╪╡╪¿\",\n      Livestock: \"╪»┘ê╪º╪¼┘å ╪¿╪º┘ä╪║╪⌐\",\n      \"Automatic 48 Eggs\": \"┘ü┘é╪º╪│╪⌐ 48 ╪¿┘è╪╢╪⌐\",\n      \"Automatic 96 Eggs\": \"┘ü┘é╪º╪│╪⌐ 96 ╪¿┘è╪╢╪⌐\",\n      \"Industrial 1000 Eggs\": \"┘ü┘é╪º╪│╪⌐ ╪╡┘å╪º╪╣┘è╪⌐ 1000 ╪¿┘è╪╢╪⌐\",\n    };\n    return mapping[name] || name;\n  };\n\n  const getProductNameAr = (order: any) => {\n    // 1. Try product name from breeds join\n    if (order.products?.breeds?.name_ar) return order.products.breeds.name_ar;\n    // 2. Try product name direct\n    if (order.products?.name) return order.products.name;\n    // 3. Try translated product_name from order\n    if (order.product_name) return translateProduct(order.product_name);\n    return \"╪º┘ä┘à┘å╪¬╪¼\";\n  };\n\n  const getItemNameAr = (item: any) => {\n    if (item.products?.breeds?.name_ar) return item.products.breeds.name_ar;\n    if (item.products?.name) return item.products.name;\n    return translateProduct(item.product_name);\n  };\n\n  const markBulkStatus = async (\n    status: \"pending\" | \"shipped\" | \"delivered\" | \"cancelled\",\n  ) => {\n    const statusLabels: Record<string, string> = {\n      shipped: \"╪¬┘à ╪º┘ä╪┤╪¡┘å\",\n      delivered: \"╪¬┘à ╪º┘ä╪¬┘ê╪╡┘è┘ä\",\n      cancelled: \"┘à┘ä╪║┘ë\",\n      pending: \"┘é┘è╪» ╪º┘ä╪º┘å╪¬╪╕╪º╪▒\",\n    };\n    setConfirmConfig({\n      title: `╪¬╪¡╪»┘è╪½ ${selectedOrders.length} ╪╖┘ä╪¿┘è╪º╪¬╪ƒ`,\n      description: `╪│┘è╪¬┘à ╪¬╪║┘è┘è╪▒ ╪¡╪º┘ä╪⌐ ┘ç╪░┘ç ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬ ╪Ñ┘ä┘ë: ${statusLabels[status]}`,\n      confirmText: `╪¬╪ú┘â┘è╪»`,\n      variant: status === \"cancelled\" ? \"destructive\" : \"default\",\n      onConfirm: async () => {\n        const { error } = await (supabase as any)\n          .from(\"orders\")\n          .update({ status: status as string })\n          .in(\"id\", selectedOrders);\n\n        if (error) toast.error(\"┘ü╪┤┘ä ╪¬╪¡╪»┘è╪½ ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬\");\n        else {\n          toast.success(\"╪¬┘à ╪¬╪¡╪»┘è╪½ ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬ ╪¿┘å╪¼╪º╪¡\");\n\n          if (status === \"delivered\" || status === \"cancelled\") {\n            const uniqueCustomerIds = Array.from(\n              new Set(\n                orders\n                  .filter((o) => selectedOrders.includes(o.id))\n                  .map((o) => o.customer_id)\n                  .filter(Boolean),\n              ),\n            );\n            if (uniqueCustomerIds.length > 0) {\n              await Promise.all(\n                uniqueCustomerIds.map((id) =>\n                  recalculateReliability(id as string),\n                ),\n              );\n            }\n          }\n          setSelectedOrders([]);\n          fetchOrders();\n        }\n      },\n    });\n    setConfirmOpen(true);\n  };\n\n  const markBulkDelete = async () => {\n    setConfirmConfig({\n      title: `╪¡╪░┘ü ${selectedOrders.length} ╪╖┘ä╪¿┘è╪º╪¬╪ƒ`,\n      description:\n        \"╪│┘è╪¬┘à ╪¡╪░┘ü ┘ç╪░┘ç ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬ ┘å┘ç╪º╪ª┘è╪º┘ï. ┘ç╪░┘ç ╪º┘ä╪╣┘à┘ä┘è╪⌐ ┘ä╪º ┘è┘à┘â┘å ╪º┘ä╪¬╪▒╪º╪¼╪╣ ╪╣┘å┘ç╪º.\",\n      confirmText: \"╪¡╪░┘ü ┘å┘ç╪º╪ª┘è\",\n      variant: \"destructive\",\n      onConfirm: async () => {\n        const { error } = await supabase\n          .from(\"orders\")\n          .delete()\n          .in(\"id\", selectedOrders);\n        if (error) toast.error(\"┘ü╪┤┘ä ╪º┘ä╪¡╪░┘ü ╪º┘ä╪¼┘à╪º╪╣┘è\");\n        else toast.success(\"╪¬┘à ╪¡╪░┘ü ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬ ╪¿┘å╪¼╪º╪¡\");\n        setSelectedOrders([]);\n        fetchOrders();\n      },\n    });\n    setConfirmOpen(true);\n  };\n\n  useEffect(() => {\n    // Premium Cashier Sound Effect\n    audioRef.current = new Audio(\n      \"https://www.soundjay.com/misc/sounds/cash-register-05.mp3\",\n    );\n    fetchOrders();\n\n    const channel = supabase\n      .channel(\"orders-realtime\")\n      .on(\n        \"postgres_changes\",\n        { event: \"INSERT\", schema: \"public\", table: \"orders\" },\n        async (payload) => {\n          console.log(\"Realtime Order Payload:\", payload);\n          if (payload.eventType === \"INSERT\") {\n            const newOrder = payload.new as any;\n\n            let productNameAr = newOrder.product_name;\n\n            // If product_id exists, fetch Arabic breed/product name\n            if (newOrder.product_id) {\n              const { data: prodData } = await supabase\n                .from(\"products\")\n                .select(\"name, breeds(name_ar)\")\n                .eq(\"id\", newOrder.product_id)\n                .single();\n\n              if ((prodData as any)?.breeds?.name_ar) {\n                productNameAr = (prodData as any).breeds.name_ar;\n              } else if (prodData?.name) {\n                productNameAr = prodData.name;\n              } else {\n                productNameAr = translateProduct(newOrder.product_name);\n              }\n            } else {\n              productNameAr = translateProduct(newOrder.product_name);\n            }\n\n            toast.success(`╪╖┘ä╪¿ ╪¼╪»┘è╪»! (${newOrder.customer_name})`, {\n              description: `${productNameAr} - ╪º┘ä┘â┘à┘è╪⌐: ${newOrder.quantity}`,\n              duration: 10000,\n              icon: \"≡ƒÆ░\",\n            });\n\n            try {\n              // Play cashier sound\n              if (audioRef.current) {\n                audioRef.current.currentTime = 0;\n                audioRef.current\n                  .play()\n                  .catch((e) => console.log(\"Audio play failed\", e));\n              }\n            } catch (e) {\n              console.error(e);\n            }\n          }\n          fetchOrders();\n        },\n      )\n      .subscribe((status) => {\n        console.log(\"Order Realtime Status:\", status);\n      });\n\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [supabase, fetchOrders]);\n\n  const updateStatus = async (\n    id: string,\n    newStatus: \"pending\" | \"shipped\" | \"delivered\" | \"cancelled\",\n    customerId?: string | null,\n  ) => {\n    const promise = async () => {\n      const { error } = await supabase\n        .from(\"orders\")\n        .update({ status: newStatus as string })\n        .eq(\"id\", id);\n      if (error) throw new Error(\"┘ü╪┤┘ä ╪¬╪¡╪»┘è╪½ ╪º┘ä╪¡╪º┘ä╪⌐\");\n\n      if (\n        customerId &&\n        (newStatus === \"delivered\" || newStatus === \"cancelled\")\n      ) {\n        await recalculateReliability(customerId);\n      }\n      \n      // Optimistic UI Update\n      fetchOrders(\n        (prev: any) =>\n          prev?.map((o: any) =>\n            o.id === id ? { ...o, status: newStatus } : o,\n          ),\n        { revalidate: false }\n      );\n      \n      return `╪¬┘à ╪¬╪¡╪»┘è╪½ ╪¡╪º┘ä╪⌐ ╪º┘ä╪╖┘ä╪¿ ╪Ñ┘ä┘ë ${STATUS_LABELS[newStatus] || newStatus}`;\n    };\n\n    toast.promise(promise(), {\n      loading: \"╪¼╪º╪▒┘è ╪º┘ä╪¬╪¡╪»┘è╪½...\",\n      success: (data) => data,\n      error: \"┘ü╪┤┘ä ╪¬╪¡╪»┘è╪½ ╪º┘ä╪¡╪º┘ä╪⌐\",\n    });\n  };\n\n  const recalculateReliability = async (customerId: string) => {\n    // Fetch ALL orders for this customer to calculate CLV and reliability\n    const { data: oData } = await (supabase as any)\n      .from(\"orders\")\n      .select(\"status, total_amount\")\n      .eq(\"customer_id\", customerId);\n\n    const orders = oData || [];\n    if (orders.length === 0) return;\n\n    // Reliability logic (Terminal Statuses only)\n    const terminalOrders = orders.filter((o: any) =>\n      [\"delivered\", \"cancelled\"].includes(o.status),\n    );\n    const deliveredCount = terminalOrders.filter(\n      (o: any) => o.status === \"delivered\",\n    ).length;\n    const reliabilityScore =\n      terminalOrders.length > 0\n        ? Math.round((deliveredCount / terminalOrders.length) * 100)\n        : 100;\n\n    // Financial Metrics (LTV/CLV)\n    const deliveredOrders = orders.filter((o: any) => o.status === \"delivered\");\n    const totalSpent = deliveredOrders.reduce(\n      (acc: number, curr: any) => acc + (Number(curr.total_amount) || 0),\n      0,\n    );\n    const totalOrdersCount = orders.length;\n\n    await (supabase as any)\n      .from(\"customers\")\n      .update({\n        reliability_score: reliabilityScore,\n        total_spent: totalSpent,\n        total_orders: totalOrdersCount,\n      })\n      .eq(\"id\", customerId);\n  };\n\n  const deleteOrder = async (id: string) => {\n    setConfirmConfig({\n      title: \"╪¡╪░┘ü ╪º┘ä╪╖┘ä╪¿┘è╪⌐╪ƒ\",\n      description:\n        \"┘ç┘ä ╪ú┘å╪¬ ┘à╪¬╪ú┘â╪» ┘à┘å ╪¡╪░┘ü ┘ç╪░┘ç ╪º┘ä╪╖┘ä╪¿┘è╪⌐╪ƒ ┘ç╪░┘ç ╪º┘ä╪╣┘à┘ä┘è╪⌐ ┘ä╪º ┘è┘à┘â┘å ╪º┘ä╪¬╪▒╪º╪¼╪╣ ╪╣┘å┘ç╪º.\",\n      confirmText: \"╪¡╪░┘ü ┘å┘ç╪º╪ª┘è\",\n      variant: \"destructive\",\n      onConfirm: async () => {\n        const promise = async () => {\n          const { error } = await supabase.from(\"orders\").delete().eq(\"id\", id);\n          if (error) throw new Error(\"┘ü╪┤┘ä ╪º┘ä╪¡╪░┘ü\");\n          \n          fetchOrders((prev: any) => prev?.filter((o: any) => o.id !== id), { revalidate: false });\n          return \"╪¬┘à ╪¡╪░┘ü ╪º┘ä╪╖┘ä╪¿┘è╪⌐ ╪¿┘å╪¼╪º╪¡\";\n        };\n        \n        toast.promise(promise(), {\n          loading: \"╪¼╪º╪▒┘è ╪º┘ä╪¡╪░┘ü...\",\n          success: (data) => data,\n          error: \"┘ü╪┤┘ä ╪º┘ä╪¡╪░┘ü\",\n        });\n      },\n    });\n    setConfirmOpen(true);\n  };\n\n  const getStatusColor = (status: string | null) => {\n    switch (status || \"pending\") {\n      case \"delivered\":\n        return \"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/30\";\n      case \"shipped\":\n        return \"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-500/30\";\n      case \"cancelled\":\n        return \"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-500/30\";\n      default:\n        return \"bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-500/30\";\n    }\n  };\n\n  const handleEdit = (order: OrderWithRelations) => {\n    setEditingOrder(order);\n    setIsDialogOpen(true);\n  };\n\n  const statusTranslations: Record<string, string> = {\n    all: \"╪º┘ä┘â┘ä\",\n    active: \"╪╖┘ä╪¿╪º╪¬ ┘å╪┤╪╖╪⌐\",\n    archived: \"╪╖┘ä╪¿╪º╪¬ ┘à╪ñ╪▒╪┤┘ü╪⌐\",\n  };\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-6 max-w-[1600px] mx-auto\">\n      <ConfirmDialog\n        isOpen={confirmOpen}\n        onClose={() => setConfirmOpen(false)}\n        onConfirm={confirmConfig?.onConfirm || (() => {})}\n        title={confirmConfig?.title || \"\"}\n        description={confirmConfig?.description || \"\"}\n        confirmText={confirmConfig?.confirmText}\n        variant={confirmConfig?.variant}\n      />\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-black tracking-tighter flex items-center gap-3\">\n            ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬{\" \"}\n            <span className=\"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 text-sm font-black px-4 py-1 rounded-full\">\n              {filteredOrders.length}\n            </span>\n          </h1>\n          <p className=\"text-muted-foreground\">\n            ╪Ñ╪»╪º╪▒╪⌐ ┘ê╪¬╪¬╪¿╪╣ ╪Ñ┘å╪¬╪º╪¼ ╪º┘ä┘à╪▓╪▒╪╣╪⌐ ┘ü┘è ╪º┘ä┘ê┘é╪¬ ╪º┘ä╪¡┘é┘è┘é┘è.\n          </p>\n        </div>\n        <div className=\"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto\">\n          <div className=\"relative w-full md:w-80\">\n            <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"╪º╪¿╪¡╪½ ╪╣┘å ╪╖┘ä╪¿...\"\n              className=\"pr-10 bg-white dark:bg-card border-border/50 rounded-xl h-12 font-black\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n          <div className=\"flex gap-1 bg-muted/50 p-1 rounded-xl w-full md:w-auto overflow-x-auto border border-border/50\">\n            {[\"active\", \"archived\", \"all\"].map((f) => (\n              <button\n                key={f}\n                onClick={() => setFilter(f)}\n                className={`px-4 py-2 text-xs font-black rounded-xl capitalize transition-all whitespace-nowrap ${filter === f ? \"bg-white dark:bg-card shadow-sm text-emerald-600\" : \"text-muted-foreground hover:text-foreground\"}`}\n              >\n                {statusTranslations[f] || f}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"rounded-xl bg-white dark:bg-zinc-950 border border-border/40 shadow-sm overflow-hidden relative\">\n        {selectedOrders.length > 0 && (\n          <div className=\"absolute top-0 left-0 right-0 bg-emerald-600 text-white p-3 z-10 flex items-center justify-between animate-in slide-in-from-top-2\">\n            <div className=\"px-4 font-black flex items-center gap-3\">\n              <span className=\"bg-white text-emerald-600 w-7 h-7 rounded-full flex items-center justify-center text-xs font-black\">\n                {selectedOrders.length}\n              </span>\n              ╪╖┘ä╪¿ ┘à╪¡╪»╪»\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                size=\"sm\"\n                variant=\"secondary\"\n                className=\"bg-white/10 hover:bg-white/20 text-white border-white/20 rounded-xl font-black\"\n                onClick={() => markBulkStatus(\"shipped\")}\n              >\n                <Truck className=\"w-4 h-4 ms-2\" /> ╪┤╪¡┘å ╪º┘ä┘à╪¡╪»╪»\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"secondary\"\n                className=\"bg-white/10 hover:bg-white/20 text-white border-white/20 rounded-xl font-black\"\n                onClick={() => markBulkStatus(\"delivered\")}\n              >\n                <CheckCircle className=\"w-4 h-4 ms-2\" /> ╪¬┘ê╪╡┘è┘ä ╪º┘ä┘à╪¡╪»╪»\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"text-white hover:bg-white/10\"\n                onClick={() => setSelectedOrders([])}\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full caption-bottom text-sm\">\n            <thead className=\"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground glass-card sticky top-0 z-10 border-b border-border/50\">\n              <tr>\n                <th className=\"h-14 px-6 text-right align-middle w-[50px]\">\n                  <Checkbox\n                    checked={\n                      selectedOrders.length === filteredOrders.length &&\n                      filteredOrders.length > 0\n                    }\n                    onCheckedChange={toggleAll}\n                    className=\"rounded-md border-muted-foreground/30\"\n                  />\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]\">\n                  ╪º┘ä┘à╪╣╪▒┘ü\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] min-w-[200px]\">\n                  ╪º┘ä╪▓╪¿┘ê┘å\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] min-w-[250px]\">\n                  ╪¬┘ü╪º╪╡┘è┘ä ╪º┘ä╪┤╪¡┘å\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] w-[150px]\">\n                  ╪º┘ä┘à┘å╪¬╪¼\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]\">\n                  ╪º┘ä╪Ñ╪¼┘à╪º┘ä┘è\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]\">\n                  ╪º┘ä╪¡╪º┘ä╪⌐\n                </th>\n                <th className=\"h-12 px-4 text-right align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]\">\n                  ╪º┘ä╪¬╪º╪▒┘è╪«\n                </th>\n                <th className=\"h-12 px-4 align-middle text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] text-left\">\n                  ╪Ñ╪¼╪▒╪º╪í╪º╪¬\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"[&_tr:last-child]:border-0\">\n              {filteredOrders.map((order) => (\n                <tr\n                  key={order.id}\n                  className={`border-b border-border/30 transition-all duration-300 hover:bg-emerald-50/10 group ${selectedOrders.includes(order.id) ? \"bg-emerald-50/20\" : \"\"}`}\n                >\n                  <td className=\"p-6 align-middle\">\n                    <Checkbox\n                      checked={selectedOrders.includes(order.id)}\n                      onCheckedChange={() => toggleSelect(order.id)}\n                      className=\"rounded-md border-muted-foreground/20\"\n                    />\n                  </td>\n                  <td className=\"p-4 align-middle font-mono text-xs text-muted-foreground\">\n                    #{order.id.toString().slice(0, 8)}\n                  </td>\n                  <td className=\"p-4 align-middle\">\n                    <div className=\"space-y-1\">\n                      <div className=\"font-bold flex items-center gap-2\">\n                        {order.customers?.full_name || order.customer_name}\n                        {order.customers?.reliability_score &&\n                          order.customers.reliability_score >= 90 && (\n                            <ShieldCheck className=\"h-3 w-3 text-green-500\" />\n                          )}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <a\n                          href={`tel:${order.phone_number || \"\"}`}\n                          className=\"text-xs text-muted-foreground hover:text-primary flex items-center gap-1 font-mono\"\n                        >\n                          <Phone className=\"h-3 w-3\" /> {order.phone_number}\n                        </a>\n                        <a\n                          href={`https://wa.me/${(order.phone_number || \"\").replace(/\\s+/g, \"\")}`}\n                          target=\"_blank\"\n                          className=\"p-1 bg-green-50 text-green-600 rounded-full hover:bg-green-100\"\n                        >\n                          <MessageSquare className=\"w-3 h-3\" />\n                        </a>\n                      </div>\n                      {(order.customers?.total_orders || 0) > 1 && (\n                        <Badge\n                          variant=\"outline\"\n                          className=\"text-[10px] h-4 px-2 py-0 border-emerald-200 dark:border-emerald-500/30 text-emerald-600 bg-emerald-50 dark:bg-emerald-500/10 w-fit font-black\"\n                        >\n                          ╪▓╪¿┘ê┘å ┘ê┘ü┘è\n                        </Badge>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"p-4 align-middle\">\n                    <div className=\"space-y-1 max-w-[300px]\">\n                      <div className=\"flex items-center gap-2 text-xs font-bold text-emerald-700 bg-emerald-50 dark:bg-emerald-500/10 px-2 py-0.5 rounded-full w-fit\">\n                        <MapPin className=\"h-3 w-3\" />{\" \"}\n                        {order.delivery_zones?.name || \"Alg├⌐rie\"}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground leading-relaxed\">\n                        {order.wilaya_address}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"p-4 align-middle\">\n                    <div className=\"space-y-2 max-w-[250px]\">\n                      {order.order_items && order.order_items.length > 0 ? (\n                        <div className=\"space-y-1\">\n                          {order.order_items.map((item: any, idx: number) => (\n                            <div\n                              key={idx}\n                              className=\"flex items-center gap-2 text-[11px] font-bold\"\n                            >\n                              <span className=\"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 px-1.5 py-0.5 rounded text-[9px] min-w-[20px] text-center\">\n                                x{item.quantity}\n                              </span>\n                              <span className=\"truncate\">\n                                {getItemNameAr(item)}\n                              </span>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div className=\"font-medium flex flex-col gap-0.5\">\n                          <span className=\"text-sm\">\n                            {getProductNameAr(order)}\n                          </span>\n                          <span className=\"text-[10px] text-muted-foreground uppercase font-bold tracking-tight\">\n                            {order.category} /{\" \"}\n                            {order.product_variant || \"Standard\"}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"p-4 align-middle font-bold text-black dark:text-white\">\n                    {(order.total_amount || 0).toLocaleString()}{\" \"}\n                    <span className=\"text-[10px] text-muted-foreground\">\n                      DA\n                    </span>\n                  </td>\n                  <td className=\"p-4 align-middle\">\n                    <Badge\n                      variant=\"outline\"\n                      className={`capitalize rounded-full font-black px-3 py-1 ${getStatusColor(order.status)}`}\n                    >\n                      {STATUS_LABELS[order.status || \"pending\"] || order.status}\n                    </Badge>\n                  </td>\n                  <td className=\"p-4 align-middle text-xs text-muted-foreground\">\n                    {order.created_at\n                      ? formatDistanceToNow(new Date(order.created_at), {\n                          addSuffix: true,\n                        })\n                      : \"N/A\"}\n                  </td>\n                  <td className=\"p-4 align-middle text-right\">\n                    <div className=\"flex justify-end gap-1 sm:gap-2\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => handleEdit(order)}\n                        className=\"h-10 w-10 p-0\"\n                        title=\"╪¬╪╣╪»┘è┘ä\"\n                      >\n                        <Edit className=\"h-4 w-4 text-blue-500\" />\n                      </Button>\n                      {order.status !== \"delivered\" &&\n                        order.status !== \"cancelled\" && (\n                          <>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => updateStatus(order.id, \"shipped\")}\n                              className=\"h-10 w-10 p-0 border-emerald-100 dark:border-emerald-500/20 text-emerald-600\"\n                              title=\"╪┤╪¡┘å\"\n                            >\n                              <Truck className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() =>\n                                updateStatus(\n                                  order.id,\n                                  \"delivered\",\n                                  order.customer_id,\n                                )\n                              }\n                              className=\"h-10 w-10 p-0 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 border-emerald-100 dark:border-emerald-500/20\"\n                              title=\"╪¬┘à ╪º┘ä╪¬┘ê╪╡┘è┘ä\"\n                            >\n                              <CheckCircle className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() =>\n                                updateStatus(\n                                  order.id,\n                                  \"cancelled\",\n                                  order.customer_id,\n                                )\n                              }\n                              className=\"h-10 w-10 p-0 text-red-500 hover:bg-red-50 dark:bg-red-500/10\"\n                              title=\"╪Ñ┘ä╪║╪º╪í\"\n                            >\n                              <X className=\"h-4 w-4\" />\n                            </Button>\n                          </>\n                        )}\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => deleteOrder(order.id)}\n                        className=\"h-10 w-10 p-0 text-red-500\"\n                        title=\"╪¡╪░┘ü\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {filteredOrders.length === 0 && (\n            <div className=\"flex flex-col items-center justify-center p-12 text-center text-muted-foreground animate-in fade-in zoom-in-95 duration-500\">\n              <div className=\"w-20 h-20 bg-muted/30 rounded-full flex items-center justify-center mb-4\">\n                <ShoppingCart className=\"w-10 h-10 opacity-20\" />\n              </div>\n              <h3 className=\"text-xl font-black text-foreground mb-2\">\n                ┘ä╪º ╪¬┘ê╪¼╪» ╪╖┘ä╪¿┘è╪º╪¬\n              </h3>\n              <p className=\"text-sm font-medium opacity-80 max-w-[250px]\">\n                ┘ä┘à ┘è╪¬┘à ╪º┘ä╪╣╪½┘ê╪▒ ╪╣┘ä┘ë ╪ú┘è ╪╖┘ä╪¿┘è╪º╪¬ ╪¬╪╖╪º╪¿┘é ╪¿╪¡╪½┘â ╪ú┘ê ╪º┘ä┘ü┘ä╪¬╪▒ ╪º┘ä╪¡╪º┘ä┘è.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {editingOrder && (\n        <EditOrderDialog\n          order={editingOrder}\n          open={isDialogOpen}\n          onOpenChange={setIsDialogOpen}\n          onSuccess={fetchOrders}\n        />\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\page.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\page.tsx:205:42\n  203 |       o.status === \"pending\" &&\n  204 |       o.created_at &&\n> 205 |       new Date(o.created_at).getTime() < Date.now() - 86400000,\n      |                                          ^^^^^^^^^^ Cannot call impure function\n  206 |   ).length;\n  207 |\n  208 |   if (pendingLong > 0) {","line":205,"column":42,"nodeType":null,"endLine":205,"endColumn":52}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from \"@/utils/supabase/server\";\nimport { subDays, format } from \"date-fns\";\nimport DashboardContent, {\n  type DashboardStats,\n  type Alert,\n  type Forecast,\n  type AnalyticsData,\n} from \"@/components/dashboard/DashboardContent\";\nimport type { Database } from \"@/types/supabase\";\n\nexport const dynamic = \"force-dynamic\";\n\ntype Order = Database[\"public\"][\"Tables\"][\"orders\"][\"Row\"];\ntype Product = Database[\"public\"][\"Tables\"][\"products\"][\"Row\"];\n\nexport default async function DashboardPage() {\n  const supabase = await createClient();\n\n  const [ordersRes, productsRes, customersRes] = await Promise.all([\n    supabase\n      .from(\"orders\")\n      .select(\n        \"id, status, total_amount, created_at, customer_id, product_name, category, wilaya_address\",\n      )\n      .order(\"created_at\", { ascending: false })\n      .limit(200),\n    supabase\n      .from(\"products\")\n      .select(\"id, name, name_en, stock\")\n      .is(\"deleted_at\", null),\n    supabase.from(\"customers\").select(\"id\", { count: \"exact\", head: true }),\n  ]);\n\n  const orders = (ordersRes.data || []) as Order[];\n  const products = (productsRes.data || []) as Product[];\n  const totalCustomers = customersRes.count || 0;\n\n  // 2. Process Analytics on the Server\n  const revenue = orders\n    .filter((o) => o.status !== \"cancelled\")\n    .reduce((sum, o) => sum + (Number(o.total_amount) || 0), 0);\n\n  const activeOrders = orders.filter((o) =>\n    [\"pending\", \"shipped\"].includes(o.status || \"\"),\n  ).length;\n\n  const lowStockThreshold = 10;\n  const lowStockItems = products.filter(\n    (p) => (Number(p.stock) || 0) <= lowStockThreshold,\n  );\n\n  const sevenDaysAgo = subDays(new Date(), 7);\n  const fourteenDaysAgo = subDays(new Date(), 14);\n  const recentOrders = orders.filter(\n    (o) => o.created_at && new Date(o.created_at) > sevenDaysAgo,\n  );\n  const prevPeriodOrders = orders.filter(\n    (o) =>\n      o.created_at &&\n      new Date(o.created_at) > fourteenDaysAgo &&\n      new Date(o.created_at) <= sevenDaysAgo,\n  );\n  const uniqueCustomers = new Set(\n    recentOrders.map((o) => o.customer_id).filter(Boolean),\n  );\n\n  // Revenue Trends (Last 7 Days)\n  const groupedRevenue = new Map<string, number>();\n  const productSales = new Map<string, number>();\n\n  for (let i = 6; i >= 0; i--) {\n    groupedRevenue.set(format(subDays(new Date(), i), \"MMM dd\"), 0);\n  }\n\n  orders\n    .filter((o) => o.status !== \"cancelled\")\n    .forEach((o) => {\n      if (!o.created_at) return;\n      const dateStr = format(new Date(o.created_at), \"MMM dd\");\n      if (groupedRevenue.has(dateStr)) {\n        groupedRevenue.set(\n          dateStr,\n          (groupedRevenue.get(dateStr) || 0) + (Number(o.total_amount) || 0),\n        );\n      }\n\n      const pName = o.product_name || \"Generic Product\";\n      productSales.set(pName, (productSales.get(pName) || 0) + 1);\n    });\n\n  const revenueData = Array.from(groupedRevenue.entries()).map(\n    ([name, revenue]) => ({ name, revenue }),\n  );\n  const topProducts = Array.from(productSales.entries())\n    .map(([name, sales]) => ({ name, sales }))\n    .sort((a, b) => b.sales - a.sales)\n    .slice(0, 5);\n\n  // Category Breakdown\n  const categoryRevenue = new Map<string, number>();\n  orders\n    .filter((o) => o.status !== \"cancelled\")\n    .forEach((o) => {\n      const cat = o.category || \"livestock\";\n      categoryRevenue.set(\n        cat,\n        (categoryRevenue.get(cat) || 0) + (Number(o.total_amount) || 0),\n      );\n    });\n  const categoryData = Array.from(categoryRevenue.entries()).map(\n    ([name, value]) => ({ name, value }),\n  );\n\n  // Wilaya distribution ΓÇö map Arabic name ΓåÆ numeric code using lookup table\n  const WILAYA_NAME_TO_ID: Record<string, string> = {\n    ╪ú╪»╪▒╪º╪▒: \"01\",\n    ╪º┘ä╪┤┘ä┘ü: \"02\",\n    ╪º┘ä╪ú╪║┘ê╪º╪╖: \"03\",\n    \"╪ú┘à ╪º┘ä╪¿┘ê╪º┘é┘è\": \"04\",\n    ╪¿╪º╪¬┘å╪⌐: \"05\",\n    ╪¿╪¼╪º┘è╪⌐: \"06\",\n    ╪¿╪│┘â╪▒╪⌐: \"07\",\n    ╪¿╪┤╪º╪▒: \"08\",\n    ╪º┘ä╪¿┘ä┘è╪»╪⌐: \"09\",\n    ╪º┘ä╪¿┘ê┘è╪▒╪⌐: \"10\",\n    ╪¬┘à┘å╪▒╪º╪│╪¬: \"11\",\n    ╪¬╪¿╪│╪⌐: \"12\",\n    ╪¬┘ä┘à╪│╪º┘å: \"13\",\n    ╪¬┘è╪º╪▒╪¬: \"14\",\n    \"╪¬┘è╪▓┘è ┘ê╪▓┘ê\": \"15\",\n    ╪º┘ä╪¼╪▓╪º╪ª╪▒: \"16\",\n    ╪º┘ä╪¼┘ä┘ü╪⌐: \"17\",\n    ╪¼┘è╪¼┘ä: \"18\",\n    ╪│╪╖┘è┘ü: \"19\",\n    ╪│╪╣┘è╪»╪⌐: \"20\",\n    ╪│┘â┘è┘â╪»╪⌐: \"21\",\n    \"╪│┘è╪»┘è ╪¿┘ä╪╣╪¿╪º╪│\": \"22\",\n    ╪╣┘å╪º╪¿╪⌐: \"23\",\n    ┘é╪º┘ä┘à╪⌐: \"24\",\n    ┘é╪│┘å╪╖┘è┘å╪⌐: \"25\",\n    ╪º┘ä┘à╪»┘è╪⌐: \"26\",\n    ┘à╪│╪¬╪║╪º┘å┘à: \"27\",\n    ╪º┘ä┘à╪│┘è┘ä╪⌐: \"28\",\n    ┘à╪╣╪│┘â╪▒: \"29\",\n    ┘ê╪▒┘é┘ä╪⌐: \"30\",\n    ┘ê┘ç╪▒╪º┘å: \"31\",\n    ╪º┘ä╪¿┘è╪╢: \"32\",\n    ╪Ñ┘ä┘è╪▓┘è: \"33\",\n    \"╪¿╪▒╪¼ ╪¿┘ê╪╣╪▒┘è╪▒┘è╪¼\": \"34\",\n    ╪¿┘ê┘à╪▒╪»╪º╪│: \"35\",\n    ╪º┘ä╪╖╪º╪▒┘ü: \"36\",\n    ╪¬┘å╪»┘ê┘ü: \"37\",\n    ╪¬┘è╪│┘à╪│┘è┘ä╪¬: \"38\",\n    ╪º┘ä┘ê╪º╪»┘è: \"39\",\n    ╪«┘å╪┤┘ä╪⌐: \"40\",\n    \"╪│┘ê┘é ╪ú┘ç╪▒╪º╪│\": \"41\",\n    ╪¬┘è╪¿╪º╪▓╪⌐: \"42\",\n    ┘à┘è┘ä╪⌐: \"43\",\n    \"╪╣┘è┘å ╪º┘ä╪»┘ü┘ä┘ë\": \"44\",\n    ╪º┘ä┘å╪╣╪º┘à╪⌐: \"45\",\n    \"╪╣┘è┘å ╪¬┘à┘ê╪┤┘å╪¬\": \"46\",\n    ╪║╪▒╪»╪º┘è╪⌐: \"47\",\n    ╪║┘ä┘è╪▓╪º┘å: \"48\",\n    ╪¬┘è┘à┘è┘à┘ê┘å: \"49\",\n    \"╪¿╪▒╪¼ ╪¿╪º╪¼┘è ┘à╪«╪¬╪º╪▒\": \"50\",\n    \"╪ú┘ê┘ä╪º╪» ╪¼┘ä╪º┘ä\": \"51\",\n    \"╪¿┘å┘è ╪╣╪¿╪º╪│\": \"52\",\n    \"╪╣┘è┘å ╪╡╪º┘ä╪¡\": \"53\",\n    \"╪╣┘è┘å ┘é╪▓╪º┘à\": \"54\",\n    ╪¬┘é╪▒╪¬: \"55\",\n    ╪¼╪º┘å╪¬: \"56\",\n    ╪º┘ä┘à╪║┘è╪▒: \"57\",\n    ╪º┘ä┘à┘å┘è╪╣╪⌐: \"58\",\n  };\n  const wilayaStats: Record<string, number> = {};\n  orders.forEach((o) => {\n    // wilaya_address stores \"detailedAddress, wilayaName\"\n    // o.wilaya_address comes from place_order: p_address + ', ' + p_wilaya\n    // Try to extract wilaya name from the end of wilaya_address\n    const rawWilaya = o.wilaya_address?.split(\",\").pop()?.trim() || \"\";\n    const wId = WILAYA_NAME_TO_ID[rawWilaya] || \"16\";\n    wilayaStats[wId] = (wilayaStats[wId] || 0) + 1;\n  });\n\n  // Alerts\n  const alerts: Alert[] = [];\n  if (lowStockItems.length > 0) {\n    // Choose \"┘à┘å╪¬╪¼╪º╪¬\" for 3-10, and \"┘à┘å╪¬╪¼╪º┘ï\" for 11-99\n    const itemName =\n      lowStockItems.length > 2 && lowStockItems.length <= 10\n        ? \"┘à┘å╪¬╪¼╪º╪¬\"\n        : \"┘à┘å╪¬╪¼╪º┘ï\";\n    alerts.push({\n      type: \"critical\",\n      message: `┘è┘ê╪¼╪» ${lowStockItems.length} ${itemName} ╪¿┘à╪«╪▓┘ê┘å ┘à┘å╪«┘ü╪╢`,\n      link: \"/inventory/breeds\",\n      label: \"┘å┘é╪╡ ╪º┘ä┘à╪«╪▓┘ê┘å\",\n    });\n  }\n\n  const pendingLong = orders.filter(\n    (o) =>\n      o.status === \"pending\" &&\n      o.created_at &&\n      new Date(o.created_at).getTime() < Date.now() - 86400000,\n  ).length;\n\n  if (pendingLong > 0) {\n    alerts.push({\n      type: \"warning\",\n      message: `${pendingLong} ╪╖┘ä╪¿ ┘à╪¬╪ú╪«╪▒ ┘è╪¡╪¬╪º╪¼ ┘ä┘ä┘à╪╣╪º┘ä╪¼╪⌐`,\n      link: \"/orders\",\n      label: \"╪╖┘ä╪¿┘è╪º╪¬ ┘à╪¬╪ú╪«╪▒╪⌐\",\n    });\n  }\n\n  // Forecasts\n  const forecasts: Forecast[] = [];\n  products.forEach((p) => {\n    const productOrdersCount = orders.filter(\n      (o) =>\n        (o.product_name === p.name_en || o.product_name === p.name) &&\n        o.created_at &&\n        new Date(o.created_at) > sevenDaysAgo,\n    ).length;\n    const dailyRate = productOrdersCount / 7;\n    if (dailyRate > 0) {\n      const daysLeft = Math.floor((p.stock || 0) / dailyRate);\n      if (daysLeft < 7) {\n        forecasts.push({\n          name: p.name_en || p.name || \"Unknown\",\n          daysLeft,\n          stock: p.stock,\n        });\n      }\n    }\n  });\n\n  const avgOrderValue =\n    orders.length > 0\n      ? Math.round(\n          revenue / orders.filter((o) => o.status !== \"cancelled\").length,\n        )\n      : 0;\n  const topBreedName = topProducts.length > 0 ? topProducts[0].name : \"N/A\";\n\n  // Compute real revenue & order change percentages (last 7d vs prior 7d)\n  const recentRevenue = recentOrders\n    .filter((o) => o.status !== \"cancelled\")\n    .reduce((sum, o) => sum + (Number(o.total_amount) || 0), 0);\n  const prevRevenue = prevPeriodOrders\n    .filter((o) => o.status !== \"cancelled\")\n    .reduce((sum, o) => sum + (Number(o.total_amount) || 0), 0);\n  const revenueChange =\n    prevRevenue > 0\n      ? Math.round(((recentRevenue - prevRevenue) / prevRevenue) * 100)\n      : recentRevenue > 0\n        ? 100\n        : 0;\n  const ordersChange =\n    prevPeriodOrders.length > 0\n      ? Math.round(\n          ((recentOrders.length - prevPeriodOrders.length) /\n            prevPeriodOrders.length) *\n            100,\n        )\n      : recentOrders.length > 0\n        ? 100\n        : 0;\n\n  const stats: DashboardStats = {\n    revenue,\n    activeOrders,\n    criticalStock: lowStockItems.length,\n    activeUniqueCustomers: uniqueCustomers.size,\n    totalCustomers,\n    avgOrderValue,\n    topBreed: topBreedName,\n    revenueChange,\n    ordersChange,\n  };\n\n  const analyticsData: AnalyticsData = {\n    revenueData,\n    topProducts,\n    categoryData,\n    wilayaData: wilayaStats,\n  };\n\n  return (\n    <div className=\"p-3 md:p-8 pb-10\">\n      <DashboardContent\n        stats={stats}\n        alerts={alerts}\n        forecasts={forecasts\n          .sort((a, b) => a.daysLeft - b.daysLeft)\n          .slice(0, 3)}\n        recentActivity={orders.slice(0, 10)}\n        analyticsData={analyticsData}\n      />\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\products\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Save' is defined but never used.","line":14,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Save"},"fix":{"range":[588,594],"text":""},"desc":"Remove unused variable \"Save\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1918,1921],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1918,1921],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProducts'. Either include it or remove the dependency array.","line":74,"column":6,"nodeType":"ArrayExpression","endLine":74,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProducts]","fix":{"range":[2365,2367],"text":"[fetchProducts]"}}]},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\products\\page.tsx:85:18\n  83 |         .replace(/[^a-z0-9\\u0600-\\u06FF]+/g, \"-\")\n  84 |         .replace(/(^-|-$)+/g, \"\") ||\n> 85 |       `product-${Date.now()}`;\n     |                  ^^^^^^^^^^ Cannot call impure function\n  86 |\n  87 |     const payload: ProductInsert = {\n  88 |       name: newProduct.name_ar,","line":85,"column":18,"nodeType":null,"endLine":85,"endColumn":28},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":116,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3575,3578],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3575,3578],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Database } from \"@/types/supabase\";\nimport { cn } from \"@/lib/utils\";\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { AnimatedButton } from \"@/components/ui/AnimatedButton\";\nimport Link from \"next/link\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Plus, Trash2, Edit, Save, X } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\n\ntype Product = Database[\"public\"][\"Tables\"][\"products\"][\"Row\"];\ntype ProductInsert = Database[\"public\"][\"Tables\"][\"products\"][\"Insert\"];\n\ninterface ProductFormState {\n  name_en: string;\n  name_ar: string;\n  slug: string;\n  category: string;\n  subcategory: string;\n  price: string;\n  stock: string;\n  image_url: string;\n}\n\nexport default function ProductsPage() {\n  const supabase = createClient();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isAdding, setIsAdding] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n\n  // Confirmation Modal State\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [deletingId, setDeletingId] = useState<string | null>(null);\n\n  // New Product Form State\n  const [newProduct, setNewProduct] = useState<ProductFormState>({\n    name_en: \"\",\n    name_ar: \"\",\n    slug: \"\",\n    category: \"eggs\",\n    subcategory: \"Australorp Family\",\n    price: \"\",\n    stock: \"\",\n    image_url: \"\",\n  });\n\n  // Fetch Products\n  const fetchProducts = async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    const { data, error } = await (supabase as any)\n      .from(\"products\")\n      .select(\n        \"id, name_en, name, slug, category, subcategory, price, stock, image_url, deleted_at\",\n      )\n      .is(\"deleted_at\", null) // Only fetch active products\n      .order(\"created_at\", { ascending: false });\n\n    if (data) setProducts(data);\n    if (error) console.error(\"Error fetching products:\", error);\n    if (showLoader) setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Handle Add/Edit Product\n  const handleSaveProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const finalSlug =\n      newProduct.slug ||\n      (newProduct.name_en || newProduct.name_ar)\n        .toLowerCase()\n        .replace(/[^a-z0-9\\u0600-\\u06FF]+/g, \"-\")\n        .replace(/(^-|-$)+/g, \"\") ||\n      `product-${Date.now()}`;\n\n    const payload: ProductInsert = {\n      name: newProduct.name_ar,\n      name_en: newProduct.name_en,\n      slug: finalSlug,\n      category: newProduct.category,\n      subcategory: newProduct.subcategory,\n      price: Number(newProduct.price),\n      stock: Number(newProduct.stock),\n      image_url: newProduct.image_url || null,\n      is_active: true,\n    };\n\n    if (editingId) {\n      // Update existing product\n      const { error } = await supabase\n        .from(\"products\")\n        .update(payload)\n        .eq(\"id\", editingId);\n\n      if (error) {\n        toast.error(\"┘ü╪┤┘ä ╪¬╪¡╪»┘è╪½ ╪º┘ä┘à┘å╪¬╪¼: \" + error.message);\n        console.error(error);\n      } else {\n        toast.success(\"╪¬┘à ╪¬╪¡╪»┘è╪½ ╪º┘ä┘à┘å╪¬╪¼ ╪¿┘å╪¼╪º╪¡!\");\n        resetForm();\n        fetchProducts(false);\n      }\n    } else {\n      // Create new product\n      const { error } = await (supabase as any)\n        .from(\"products\")\n        .insert([payload]);\n\n      if (error) {\n        toast.error(\"┘ü╪┤┘ä ╪Ñ╪╢╪º┘ü╪⌐ ╪º┘ä┘à┘å╪¬╪¼: \" + error.message);\n        console.error(error);\n      } else {\n        toast.success(\"╪¬┘à╪¬ ╪Ñ╪╢╪º┘ü╪⌐ ╪º┘ä┘à┘å╪¬╪¼ ╪¿┘å╪¼╪º╪¡!\");\n        resetForm();\n        fetchProducts(false);\n      }\n    }\n  };\n\n  const handleEdit = (product: Product) => {\n    setEditingId(product.id);\n    setNewProduct({\n      name_en: product.name_en,\n      name_ar: product.name || \"\",\n      slug: product.slug || \"\",\n      category: product.category || \"eggs\",\n      subcategory: product.subcategory || \"\",\n      price: (product.price || 0).toString(),\n      stock: (product.stock || 0).toString(),\n      image_url: product.image_url || \"\",\n    });\n    setIsAdding(true);\n    // Scroll to form\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  const handleDelete = async () => {\n    if (!deletingId) return;\n\n    const { error } = await supabase\n      .from(\"products\")\n      .update({ deleted_at: new Date().toISOString() })\n      .eq(\"id\", deletingId);\n\n    if (error) {\n      toast.error(\"┘ü╪┤┘ä ╪¡╪░┘ü ╪º┘ä┘à┘å╪¬╪¼: \" + error.message);\n      console.error(error);\n    } else {\n      toast.success(\"╪¬┘à ┘å┘é┘ä ╪º┘ä┘à┘å╪¬╪¼ ╪Ñ┘ä┘ë ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬\");\n      setProducts(products.filter((p) => p.id !== deletingId));\n    }\n    setConfirmOpen(false);\n    setDeletingId(null);\n  };\n\n  const resetForm = () => {\n    setIsAdding(false);\n    setEditingId(null);\n    setNewProduct({\n      name_en: \"\",\n      name_ar: \"\",\n      slug: \"\",\n      category: \"eggs\",\n      subcategory: \"Australorp Family\",\n      price: \"\",\n      stock: \"\",\n      image_url: \"\",\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <ConfirmDialog\n        isOpen={confirmOpen}\n        onClose={() => {\n          setConfirmOpen(false);\n          setDeletingId(null);\n        }}\n        onConfirm={handleDelete}\n        title=\"┘å┘é┘ä ╪Ñ┘ä┘ë ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬╪ƒ\"\n        description=\"┘ç┘ä ╪ú┘å╪¬ ┘à╪¬╪ú┘â╪» ┘à┘å ┘å┘é┘ä ┘ç╪░╪º ╪º┘ä┘à┘å╪¬╪¼ ╪Ñ┘ä┘ë ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬╪ƒ ┘è┘à┘â┘å ╪º╪│╪¬╪╣╪º╪»╪¬┘ç ┘ä╪º╪¡┘é╪º┘ï.\"\n        confirmText=\"┘å┘é┘ä ┘ä┘ä╪│┘ä╪⌐\"\n        variant=\"destructive\"\n      />\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\n        <div>\n          <h1 className=\"text-4xl font-black tracking-tighter\">\n            ┘à╪»┘è╪▒ ╪º┘ä┘à╪«╪▓┘ê┘å ╪º┘ä╪┤╪º┘à┘ä\n          </h1>\n          <p className=\"text-muted-foreground font-black\">\n            ╪Ñ╪»╪º╪▒╪⌐ ╪¼┘à┘è╪╣ ┘à┘å╪¬╪¼╪º╪¬ ╪º┘ä┘à╪▓╪▒╪╣╪⌐ ┘ê╪¬╪¬╪¿╪╣ ┘à╪│╪¬┘ê┘è╪º╪¬ ╪º┘ä╪¬┘ê┘ü╪▒.\n          </p>\n        </div>\n        <div className=\"flex gap-3\">\n          <Link href=\"/products/recycle-bin\">\n            <AnimatedButton\n              variant=\"outline\"\n              className=\"rounded-xl h-12 bg-white dark:bg-card border-none shadow-md text-red-500 font-black\"\n            >\n              <Trash2 className=\"ms-2 h-4 w-4\" /> ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬\n            </AnimatedButton>\n          </Link>\n          {!isAdding && (\n            <AnimatedButton\n              onClick={() => setIsAdding(true)}\n              className=\"rounded-xl h-12 px-6 bg-emerald-600 text-white shadow-lg shadow-emerald-500/20 font-black\"\n            >\n              <Plus className=\"ms-2 h-5 w-5\" /> ╪Ñ╪╢╪º┘ü╪⌐ ┘à┘å╪¬╪¼\n            </AnimatedButton>\n          )}\n        </div>\n      </div>\n\n      {/* Add/Edit Product Form (Collapsible) */}\n      {isAdding && (\n        <Card\n          className={`border border-border/40 shadow-sm rounded-xl overflow-hidden ${editingId ? \"bg-blue-50/30 dark:bg-blue-950/10\" : \"bg-emerald-50/30 dark:bg-emerald-950/10\"}`}\n        >\n          <CardHeader className=\"flex flex-row items-center justify-between p-8\">\n            <CardTitle className=\"text-xl font-black\">\n              {editingId ? \"╪¬╪╣╪»┘è┘ä ╪º┘ä┘à┘å╪¬╪¼\" : \"╪Ñ╪╢╪º┘ü╪⌐ ┘à╪º╪»╪⌐ ╪¼╪»┘è╪»╪⌐\"}\n            </CardTitle>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={resetForm}\n              className=\"rounded-xl\"\n            >\n              <X className=\"h-5 w-5\" />\n            </Button>\n          </CardHeader>\n          <CardContent className=\"p-8 pt-0\">\n            <form\n              onSubmit={handleSaveProduct}\n              className=\"grid gap-6 md:grid-cols-2\"\n            >\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä╪º╪│┘à ╪¿╪º┘ä╪Ñ┘å╪¼┘ä┘è╪▓┘è╪⌐\n                </Label>\n                <Input\n                  required\n                  placeholder=\"┘à╪½╪º┘ä: Brahma Gold\"\n                  value={newProduct.name_en}\n                  onChange={(e) => {\n                    const name = e.target.value;\n                    const slug = name\n                      .toLowerCase()\n                      .replace(/[^a-z0-9]+/g, \"-\")\n                      .replace(/(^-|-$)+/g, \"\");\n                    setNewProduct({ ...newProduct, name_en: name, slug: slug });\n                  }}\n                  className=\"h-12 rounded-xl bg-muted/50 border-none font-black\"\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä╪º╪│┘à ╪¿╪º┘ä╪╣╪▒╪¿┘è╪⌐\n                </Label>\n                <Input\n                  placeholder=\"┘à╪½╪º┘ä: ╪¿╪▒╪º┘ç┘à╪º ╪░┘ç╪¿┘è\"\n                  value={newProduct.name_ar}\n                  onChange={(e) =>\n                    setNewProduct({ ...newProduct, name_ar: e.target.value })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none font-black text-right\"\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘à╪╣╪▒┘ü ╪º┘ä╪¿╪▒┘à╪¼┘è (Slug)\n                </Label>\n                <Input\n                  placeholder=\"┘è╪¬┘à ╪¬┘ê┘ä┘è╪»┘ç ╪¬┘ä┘é╪º╪ª┘è╪º┘ï\"\n                  value={newProduct.slug}\n                  onChange={(e) =>\n                    setNewProduct({ ...newProduct, slug: e.target.value })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none font-mono text-sm\"\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘ü╪ª╪⌐ ╪º┘ä╪ú╪│╪º╪│┘è╪⌐\n                </Label>\n                <select\n                  className=\"flex h-12 w-full rounded-xl border-none bg-muted/50 px-4 py-2 text-sm font-black outline-none focus:ring-4 focus:ring-emerald-500/10 transition-all\"\n                  value={newProduct.category}\n                  onChange={(e) =>\n                    setNewProduct({ ...newProduct, category: e.target.value })\n                  }\n                >\n                  <option value=\"eggs\">╪¿┘è╪╢ ╪º┘ä╪¬┘ü┘é┘è╪│</option>\n                  <option value=\"chicks\">╪╡┘è╪╡╪º┘å</option>\n                  <option value=\"chickens\">╪»┘ê╪º╪¼┘å ╪¿╪º┘ä╪║╪⌐</option>\n                  <option value=\"machine\">╪¡╪º╪╢┘å╪º╪¬ ┘ê┘à╪╣╪»╪º╪¬</option>\n                </select>\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘ü╪ª╪⌐ ╪º┘ä┘ü╪▒╪╣┘è╪⌐\n                </Label>\n                <select\n                  className=\"flex h-12 w-full rounded-xl border-none bg-muted/50 px-4 py-2 text-sm font-black outline-none focus:ring-4 focus:ring-emerald-500/10 transition-all\"\n                  value={newProduct.subcategory}\n                  onChange={(e) =>\n                    setNewProduct({\n                      ...newProduct,\n                      subcategory: e.target.value,\n                    })\n                  }\n                >\n                  <option value=\"Australorp Family\">╪ú╪│╪¬╪▒╪º┘ä┘ê╪▒╪¿</option>\n                  <option value=\"Plymouth Rock Family\">╪¿┘ä┘è┘à┘ê╪½ ╪▒┘ê┘â</option>\n                  <option value=\"Brahma Family\">╪¿╪▒╪º┘ç┘à╪º</option>\n                  <option value=\"Sprite Family\">╪│╪¿╪▒┘è╪¬</option>\n                  <option value=\"Other Breeds\">╪│┘ä╪º┘ä╪º╪¬ ╪ú╪«╪▒┘ë</option>\n                  <option value=\"Incubator\">╪¡╪º╪╢┘å╪⌐</option>\n                </select>\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä╪│╪╣╪▒ (╪»╪¼)\n                </Label>\n                <Input\n                  required\n                  type=\"number\"\n                  placeholder=\"0\"\n                  value={newProduct.price}\n                  onChange={(e) =>\n                    setNewProduct({ ...newProduct, price: e.target.value })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none font-black\"\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ┘â┘à┘è╪⌐ ╪º┘ä┘à╪«╪▓┘ê┘å\n                </Label>\n                <Input\n                  required\n                  type=\"number\"\n                  placeholder=\"0\"\n                  value={newProduct.stock}\n                  onChange={(e) =>\n                    setNewProduct({ ...newProduct, stock: e.target.value })\n                  }\n                  className=\"h-12 rounded-xl bg-muted/50 border-none font-black\"\n                />\n              </div>\n\n              <div className=\"col-span-2 flex gap-4 mt-4\">\n                <Button\n                  type=\"submit\"\n                  className=\"flex-1 h-14 rounded-xl bg-emerald-600 text-white shadow-sm font-black text-lg hover:bg-emerald-700\"\n                >\n                  {editingId ? \"╪¬╪╣╪»┘è┘ä ╪º┘ä╪¿┘è╪º┘å╪º╪¬\" : \"╪¡┘ü╪╕ ╪º┘ä┘à┘å╪¬╪¼ ╪º┘ä╪¼╪»┘è╪»\"}\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={resetForm}\n                  className=\"h-14 px-8 rounded-xl font-black\"\n                >\n                  ╪Ñ┘ä╪║╪º╪í\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      )}\n\n      <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden\">\n        <CardHeader className=\"p-8 pb-4\">\n          <CardTitle className=\"text-xl font-black\">\n            ╪º┘ä┘à╪«╪▓┘ê┘å ╪º┘ä╪¡╪º┘ä┘è ({products.length})\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"px-0 sm:px-6\">\n          <div className=\"overflow-x-auto px-4 pb-4 sm:px-0 sm:pb-0\">\n            <table className=\"w-full text-sm text-right min-w-[800px]\">\n              <thead className=\"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground bg-muted/30\">\n                <tr>\n                  <th className=\"px-8 py-4\">╪º┘ä┘à┘å╪¬╪¼</th>\n                  <th className=\"px-8 py-4\">╪º┘ä┘ü╪ª╪⌐</th>\n                  <th className=\"px-8 py-4\">╪º┘ä╪│╪╣╪▒ (╪»╪¼)</th>\n                  <th className=\"px-8 py-4 text-center\">╪º┘ä┘à╪«╪▓┘ê┘å</th>\n                  <th className=\"px-8 py-4 text-center\">╪º┘ä╪¡╪º┘ä╪⌐</th>\n                  <th className=\"px-8 py-4 text-left\">╪Ñ╪¼╪▒╪º╪í╪º╪¬</th>\n                </tr>\n              </thead>\n              <tbody>\n                {products.map((product) => (\n                  <tr\n                    key={product.id}\n                    className=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-emerald-50/30 transition-colors\"\n                  >\n                    <td className=\"px-6 py-4 font-black\">\n                      <div className=\"text-lg\">{product.name_en}</div>\n                      <div className=\"text-xs text-muted-foreground opacity-50 font-mono\">\n                        #{product.id.substring(0, 8)}\n                      </div>\n                    </td>\n                    <td className=\"px-8 py-5 capitalize\">\n                      <Badge\n                        variant=\"outline\"\n                        className=\"rounded-full px-3 py-1 border-emerald-200 dark:border-emerald-500/30 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 font-black\"\n                      >\n                        {product.subcategory}\n                      </Badge>\n                    </td>\n                    <td className=\"px-8 py-5 font-black text-lg\">\n                      {product.price?.toLocaleString()}\n                    </td>\n                    <td className=\"px-8 py-5 text-center font-black\">\n                      <div\n                        className={cn(\n                          \"text-2xl font-black px-4 py-1.5 rounded-xl inline-block shadow-sm\",\n                          (product.stock ?? 0) < 10\n                            ? \"bg-red-50 dark:bg-red-500/10 text-red-600 border border-red-100\"\n                            : \"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 border border-emerald-100 dark:border-emerald-500/20\",\n                        )}\n                      >\n                        {product.stock ?? 0}\n                      </div>\n                    </td>\n                    <td className=\"px-8 py-5 text-center\">\n                      <Badge\n                        className={cn(\n                          \"rounded-full px-3 py-1 font-black border-none\",\n                          (product.stock ?? 0) > 0\n                            ? \"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600\"\n                            : \"bg-red-100 dark:bg-red-500/20 text-red-600\",\n                        )}\n                      >\n                        {(product.stock ?? 0) > 0 ? \"┘à╪¬┘ê┘ü╪▒\" : \"╪¬┘å┘ü╪░\"}\n                      </Badge>\n                    </td>\n                    <td className=\"px-8 py-5 text-left\">\n                      <div className=\"flex gap-2\">\n                        <AnimatedButton\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-10 w-10 p-0 text-blue-500 hover:text-blue-600 hover:bg-blue-50 dark:bg-blue-500/10 rounded-xl\"\n                          onClick={() => handleEdit(product)}\n                        >\n                          <Edit className=\"h-4 w-4\" />\n                        </AnimatedButton>\n                        <AnimatedButton\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-10 w-10 p-0 text-red-500 hover:text-red-600 hover:bg-red-50 dark:bg-red-500/10 rounded-xl\"\n                          onClick={() => {\n                            setDeletingId(product.id);\n                            setConfirmOpen(true);\n                          }}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </AnimatedButton>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n                {products.length === 0 && !loading && (\n                  <tr>\n                    <td\n                      colSpan={6}\n                      className=\"px-8 py-20 text-center text-muted-foreground font-black opacity-30\"\n                    >\n                      ┘ä╪º ┘è┘ê╪¼╪» ┘à╪«╪▓┘ê┘å ╪¡╪º┘ä┘è╪º┘ï. ╪ú╪╢┘ü ╪¿╪╣╪╢ ╪º┘ä┘à┘å╪¬╪¼╪º╪¬ ┘ä┘ä╪¿╪»╪í!\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\products\\recycle-bin\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[709,712],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[709,712],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\products\\recycle-bin\\page.tsx:47:5\n  45 |\n  46 |   useEffect(() => {\n> 47 |     fetchDeletedProducts();\n     |     ^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  48 |   }, []);\n  49 |\n  50 |   const handleRestore = async (id: string) => {","line":47,"column":5,"nodeType":null,"endLine":47,"endColumn":25},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchDeletedProducts'. Either include it or remove the dependency array.","line":48,"column":6,"nodeType":"ArrayExpression","endLine":48,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchDeletedProducts]","fix":{"range":[1745,1747],"text":"[fetchDeletedProducts]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { AnimatedButton } from \"@/components/ui/AnimatedButton\";\nimport { RefreshCcw, Trash2, ArrowLeft } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport Link from \"next/link\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\nexport default function RecycleBinPage() {\n  const [deletedProducts, setDeletedProducts] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [itemToDelete, setItemToDelete] = useState<string | null>(null);\n\n  // Confirmation Modal State\n  const [confirmAction, setConfirmAction] = useState<\n    \"single\" | \"bulk_delete\" | \"empty_trash\" | null\n  >(null);\n\n  const supabase = createClient();\n\n  // Fetch Deleted Products\n  const fetchDeletedProducts = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"products\")\n      .select(\"id, name_en, subcategory, price, deleted_at\")\n      .not(\"deleted_at\", \"is\", null) // Fetch only deleted items\n      .order(\"created_at\", { ascending: false });\n\n    if (data) setDeletedProducts(data);\n    if (error) {\n      console.error(\"Error fetching deleted products:\", error);\n      toast.error(\n        'Failed to load recycle bin. Ensure \"deleted_at\" column exists.',\n      );\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchDeletedProducts();\n  }, []);\n\n  const handleRestore = async (id: string) => {\n    const { error } = await supabase\n      .from(\"products\")\n      .update({\n        deleted_at: null,\n        is_active: true, // Keep both in sync for now\n      })\n      .eq(\"id\", id);\n\n    if (error) {\n      toast.error(\"Error restoring product\");\n    } else {\n      toast.success(\"Product restored successfully\");\n      setDeletedProducts(deletedProducts.filter((p) => p.id !== id));\n    }\n  };\n\n  const handlePermanentDelete = async () => {\n    if (!itemToDelete) return;\n\n    const { error } = await supabase\n      .from(\"products\")\n      .delete()\n      .eq(\"id\", itemToDelete);\n\n    if (error) {\n      toast.error(\"Error deleting product permanently\");\n    } else {\n      toast.success(\"Product deleted permanently\");\n      setDeletedProducts(deletedProducts.filter((p) => p.id !== itemToDelete));\n      setSelectedItems((prev) => prev.filter((id) => id !== itemToDelete));\n    }\n\n    setConfirmAction(null);\n    setItemToDelete(null);\n  };\n\n  const handleBulkRestore = async () => {\n    if (!selectedItems.length) return;\n    const { error } = await supabase\n      .from(\"products\")\n      .update({ deleted_at: null, is_active: true })\n      .in(\"id\", selectedItems);\n\n    if (error) {\n      toast.error(\"Error restoring products\");\n    } else {\n      toast.success(`${selectedItems.length} products restored`);\n      setDeletedProducts(\n        deletedProducts.filter((p) => !selectedItems.includes(p.id)),\n      );\n      setSelectedItems([]);\n    }\n  };\n\n  const handleBulkDelete = async () => {\n    if (!selectedItems.length) return;\n    const { error } = await supabase\n      .from(\"products\")\n      .delete()\n      .in(\"id\", selectedItems);\n\n    if (error) {\n      toast.error(\"Error deleting products permanently\");\n    } else {\n      toast.success(`${selectedItems.length} products deleted permanently`);\n      setDeletedProducts(\n        deletedProducts.filter((p) => !selectedItems.includes(p.id)),\n      );\n      setSelectedItems([]);\n    }\n    setConfirmAction(null);\n  };\n\n  const handleEmptyTrash = async () => {\n    const { error } = await supabase\n      .from(\"products\")\n      .delete()\n      .not(\"deleted_at\", \"is\", null);\n\n    if (error) {\n      toast.error(\"Error emptying trash\");\n    } else {\n      toast.success(\"Trash emptied successfully\");\n      setDeletedProducts([]);\n      setSelectedItems([]);\n    }\n    setConfirmAction(null);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedItems.length === deletedProducts.length) {\n      setSelectedItems([]);\n    } else {\n      setSelectedItems(deletedProducts.map((p) => p.id));\n    }\n  };\n\n  const toggleSelect = (id: string) => {\n    setSelectedItems((prev) =>\n      prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id],\n    );\n  };\n\n  if (loading) return <ChickenLoader mode=\"dashboard\" />;\n\n  return (\n    <div className=\"space-y-6\">\n      <ConfirmDialog\n        isOpen={confirmAction !== null}\n        onClose={() => {\n          setConfirmAction(null);\n          setItemToDelete(null);\n        }}\n        onConfirm={() => {\n          if (confirmAction === \"single\") handlePermanentDelete();\n          else if (confirmAction === \"bulk_delete\") handleBulkDelete();\n          else if (confirmAction === \"empty_trash\") handleEmptyTrash();\n        }}\n        title=\"Permanently Delete?\"\n        description=\"This action cannot be undone. The product(s) will be removed from the database forever.\"\n        confirmText=\"Delete Forever\"\n        variant=\"destructive\"\n      />\n      <div className=\"flex flex-col md:flex-row md:items-center gap-4 justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Link href=\"/inventory/breeds\">\n            <AnimatedButton\n              variant=\"outline\"\n              size=\"icon\"\n              className=\"rounded-xl h-12 w-12 bg-white dark:bg-card border-none shadow-md\"\n            >\n              <ArrowLeft className=\"h-5 w-5\" />\n            </AnimatedButton>\n          </Link>\n          <div>\n            <h1 className=\"text-4xl font-black tracking-tighter flex items-center gap-4\">\n              <Trash2 className=\"h-10 w-10 text-red-500\" />\n              ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬\n            </h1>\n            <p className=\"text-muted-foreground font-black\">\n              ╪º╪│╪¬╪╣╪º╪»╪⌐ ╪º┘ä╪╣┘å╪º╪╡╪▒ ╪º┘ä┘à╪¡╪░┘ê┘ü╪⌐ ╪ú┘ê ╪Ñ╪▓╪º┘ä╪¬┘ç╪º ┘å┘ç╪º╪ª┘è╪º┘ï ┘à┘å ╪º┘ä┘å╪╕╪º┘à.\n            </p>\n          </div>\n        </div>\n\n        {deletedProducts.length > 0 && (\n          <AnimatedButton\n            variant=\"outline\"\n            onClick={() => setConfirmAction(\"empty_trash\")}\n            className=\"rounded-xl h-12 px-6 bg-red-50 dark:bg-red-500/10 text-red-600 hover:bg-red-100 dark:bg-red-500/20 hover:text-red-700 font-black border-red-200\"\n          >\n            <Trash2 className=\"h-5 w-5 ms-2\" /> ╪¬┘ü╪▒┘è╪║ ╪º┘ä╪│┘ä╪⌐\n          </AnimatedButton>\n        )}\n      </div>\n\n      <Card className=\"border-none shadow-xl rounded-xl bg-white dark:bg-card overflow-hidden\">\n        <CardHeader className=\"p-4 md:p-8 md:pb-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n          <CardTitle className=\"text-xl font-black\">\n            ╪º┘ä╪╣┘å╪º╪╡╪▒ ╪º┘ä┘à╪¡╪░┘ê┘ü╪⌐ ({deletedProducts.length})\n          </CardTitle>\n          {selectedItems.length > 0 && (\n            <div className=\"flex items-center gap-2 bg-muted/50 p-1.5 rounded-xl border border-border/50\">\n              <span className=\"text-xs font-black text-muted-foreground px-3\">\n                {selectedItems.length} ┘à╪¡╪»╪»\n              </span>\n              <AnimatedButton\n                disabled={loading}\n                size=\"sm\"\n                onClick={handleBulkRestore}\n                className=\"min-h-[48px] px-4 rounded-lg bg-emerald-600 hover:bg-emerald-700 font-black text-white\"\n              >\n                <RefreshCcw className=\"h-4 w-4 ms-2\" /> ╪º╪│╪¬╪╣╪º╪»╪⌐\n              </AnimatedButton>\n              <AnimatedButton\n                disabled={loading}\n                size=\"sm\"\n                variant=\"ghost\"\n                onClick={() => setConfirmAction(\"bulk_delete\")}\n                className=\"min-h-[48px] px-4 rounded-lg text-red-500 hover:text-red-700 hover:bg-red-50 dark:bg-red-500/10 font-black\"\n              >\n                <Trash2 className=\"h-4 w-4 ms-2\" /> ╪¡╪░┘ü\n              </AnimatedButton>\n            </div>\n          )}\n        </CardHeader>\n        <CardContent className=\"p-0 md:p-6 md:pt-0\">\n          {/* Desktop Table View */}\n          <div className=\"hidden md:block overflow-x-auto\">\n            <table className=\"w-full text-sm text-right\">\n              <thead className=\"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground bg-muted/30\">\n                <tr>\n                  <th className=\"px-6 py-4 w-12 text-center\">\n                    <Checkbox\n                      checked={\n                        selectedItems.length === deletedProducts.length &&\n                        deletedProducts.length > 0\n                      }\n                      onCheckedChange={toggleSelectAll}\n                    />\n                  </th>\n                  <th className=\"px-8 py-4\">╪º┘ä┘à┘å╪¬╪¼</th>\n                  <th className=\"px-8 py-4\">╪º┘ä┘ü╪ª╪⌐</th>\n                  <th className=\"px-8 py-4\">╪º┘ä╪│╪╣╪▒</th>\n                  <th className=\"px-8 py-4 text-left\">╪Ñ╪¼╪▒╪º╪í╪º╪¬</th>\n                </tr>\n              </thead>\n              <tbody>\n                {deletedProducts.map((product) => (\n                  <tr\n                    key={product.id}\n                    className={`bg-white border-b dark:bg-gray-800 dark:border-gray-700 transition-colors ${selectedItems.includes(product.id) ? \"bg-emerald-50/40 dark:bg-emerald-900/10\" : \"hover:bg-emerald-50/10 dark:hover:bg-emerald-900/5\"}`}\n                  >\n                    <td className=\"px-6 py-5 text-center\">\n                      <Checkbox\n                        checked={selectedItems.includes(product.id)}\n                        onCheckedChange={() => toggleSelect(product.id)}\n                      />\n                    </td>\n                    <td className=\"px-8 py-5 font-black\">\n                      <div className=\"text-lg\">{product.name_en}</div>\n                      <div className=\"text-xs text-muted-foreground opacity-50 font-mono\">\n                        #{product.id.slice(0, 8)}\n                      </div>\n                    </td>\n                    <td className=\"px-8 py-5 capitalize\">\n                      <Badge\n                        variant=\"outline\"\n                        className=\"rounded-full px-3 py-1 border-emerald-200 dark:border-emerald-500/30 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 font-black\"\n                      >\n                        {product.subcategory}\n                      </Badge>\n                    </td>\n                    <td className=\"px-8 py-5 font-black text-lg\">\n                      {product.price?.toLocaleString()}{\" \"}\n                      <span className=\"text-xs opacity-50\">╪»╪¼</span>\n                    </td>\n                    <td className=\"px-8 py-5 text-left flex justify-start gap-3\">\n                      <AnimatedButton\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"h-10 rounded-xl px-4 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/30 font-black\"\n                        onClick={() => handleRestore(product.id)}\n                      >\n                        <RefreshCcw className=\"h-4 w-4 ms-2\" /> ╪º╪│╪¬╪╣╪º╪»╪⌐\n                      </AnimatedButton>\n                      <AnimatedButton\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-10 w-10 rounded-xl p-0 text-red-500 hover:text-red-700 hover:bg-red-50 dark:bg-red-500/10\"\n                        onClick={() => {\n                          setItemToDelete(product.id);\n                          setConfirmAction(\"single\");\n                        }}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </AnimatedButton>\n                    </td>\n                  </tr>\n                ))}\n                {deletedProducts.length === 0 && (\n                  <tr>\n                    <td\n                      colSpan={5}\n                      className=\"px-8 py-20 text-center text-muted-foreground font-black opacity-30\"\n                    >\n                      ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬ ┘ü╪º╪▒╪║╪⌐. ╪ú╪¡╪│┘å╪¬! ΓÖ╗∩╕Å\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Mobile Cards View */}\n          <div className=\"md:hidden grid gap-0 divide-y divide-border/30 border-t border-border/30\">\n            {deletedProducts.length > 0 && (\n              <div className=\"p-4 bg-muted/30 flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <Checkbox\n                    checked={\n                      selectedItems.length === deletedProducts.length &&\n                      deletedProducts.length > 0\n                    }\n                    onCheckedChange={toggleSelectAll}\n                  />\n                  <span className=\"text-xs font-black uppercase tracking-widest text-muted-foreground\">\n                    ╪¬╪¡╪»┘è╪» ╪º┘ä┘â┘ä\n                  </span>\n                </div>\n              </div>\n            )}\n            {deletedProducts.map((product) => (\n              <div\n                key={product.id}\n                className={`p-4 flex gap-4 items-center transition-colors ${selectedItems.includes(product.id) ? \"bg-emerald-50/40 dark:bg-emerald-900/10\" : \"\"}`}\n              >\n                <Checkbox\n                  checked={selectedItems.includes(product.id)}\n                  onCheckedChange={() => toggleSelect(product.id)}\n                />\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-base font-black truncate leading-none mb-1\">\n                    {product.name_en}\n                  </h3>\n                  <p className=\"text-xs text-muted-foreground font-medium uppercase truncate\">\n                    {product.subcategory}\n                  </p>\n                  <div className=\"text-sm font-black mt-1\">\n                    {product.price?.toLocaleString()} ╪»╪¼\n                  </div>\n                </div>\n                <div className=\"flex flex-col gap-2 shrink-0\">\n                  <AnimatedButton\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"h-10 w-10 text-emerald-600 border-emerald-200 dark:border-emerald-500/30 bg-emerald-50 dark:bg-emerald-500/10 rounded-xl p-0\"\n                    onClick={() => handleRestore(product.id)}\n                  >\n                    <RefreshCcw className=\"h-4 w-4\" />\n                  </AnimatedButton>\n                  <AnimatedButton\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"h-10 w-10 text-red-500 border-red-200 bg-red-50 dark:bg-red-500/10 rounded-xl p-0\"\n                    onClick={() => {\n                      setItemToDelete(product.id);\n                      setConfirmAction(\"single\");\n                    }}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </AnimatedButton>\n                </div>\n              </div>\n            ))}\n            {deletedProducts.length === 0 && (\n              <div className=\"p-12 text-center text-muted-foreground font-black opacity-30\">\n                ╪│┘ä╪⌐ ╪º┘ä┘à╪¡╪░┘ê┘ü╪º╪¬ ┘ü╪º╪▒╪║╪⌐. ΓÖ╗∩╕Å\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[710,713],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[710,713],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase.auth'. Either include it or remove the dependency array.","line":36,"column":6,"nodeType":"ArrayExpression","endLine":36,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [supabase.auth]","fix":{"range":[1168,1170],"text":"[supabase.auth]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { toast } from \"sonner\";\nimport { TriangleAlert, Loader2, User, Shield, Truck } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { AnimatedButton } from \"@/components/ui/AnimatedButton\";\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\n\nexport default function SettingsPage() {\n  const [user, setUser] = useState<any>(null);\n  const [loading, setLoading] = useState(false);\n  const [resetLoading, setResetLoading] = useState(false);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [newPassword, setNewPassword] = useState(\"\");\n  const supabase = createClient();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      setUser(user);\n    };\n    getUser();\n  }, []);\n\n  const handleUpdatePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const { error } = await supabase.auth.updateUser({\n      password: newPassword,\n    });\n\n    if (error) {\n      toast.error(\"Failed to update password\");\n      console.error(error);\n    } else {\n      toast.success(\"Password updated successfully!\");\n      setNewPassword(\"\");\n    }\n    setLoading(false);\n  };\n\n  const handleFactoryReset = async () => {\n    setResetLoading(true);\n    // Delete all orders to reset stats. We cast to any to bypass TS if needed, or simply delete orders.\n    const { error: orderErr } = await supabase\n      .from(\"orders\")\n      .delete()\n      .neq(\"id\", \"00000000-0000-0000-0000-000000000000\"); // Deletes all\n\n    if (orderErr) {\n      toast.error(\"╪¡╪»╪½ ╪«╪╖╪ú ╪ú╪½┘å╪º╪í ╪Ñ╪╣╪º╪»╪⌐ ╪╢╪¿╪╖ ╪º┘ä┘å╪╕╪º┘à\");\n    } else {\n      toast.success(\"╪¬┘à╪¬ ╪Ñ╪╣╪º╪»╪⌐ ╪╢╪¿╪╖ ╪º┘ä┘å╪╕╪º┘à ╪¿┘å╪¼╪º╪¡!\");\n      setShowResetConfirm(false);\n    }\n    setResetLoading(false);\n  };\n\n  return (\n    <div className=\"space-y-6 max-w-2xl\">\n      <div>\n        <h1 className=\"text-4xl font-black tracking-tighter\">╪º┘ä╪Ñ╪╣╪»╪º╪»╪º╪¬</h1>\n        <p className=\"text-muted-foreground font-black\">\n          ╪Ñ╪»╪º╪▒╪⌐ ╪¬┘ü╪╢┘è┘ä╪º╪¬ ╪¡╪│╪º╪¿┘â ┘ê╪¬┘â┘ê┘è┘å ╪º┘ä┘å╪╕╪º┘à\n        </p>\n      </div>\n\n      <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden\">\n        <CardHeader className=\"pb-4\">\n          <CardTitle className=\"flex items-center gap-3 font-black text-xl\">\n            <div className=\"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 flex items-center justify-center\">\n              <User className=\"h-5 w-5\" />\n            </div>\n            ┘à╪╣┘ä┘ê┘à╪º╪¬ ╪º┘ä┘à┘ä┘ü ╪º┘ä╪┤╪«╪╡┘è\n          </CardTitle>\n          <CardDescription className=\"font-black opacity-60\">\n            ╪¬┘ü╪º╪╡┘è┘ä ╪¡╪│╪º╪¿┘â ╪º┘ä╪┤╪«╪╡┘è\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"grid gap-2\">\n            <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n              ╪╣┘å┘ê╪º┘å ╪º┘ä╪¿╪▒┘è╪» ╪º┘ä╪Ñ┘ä┘â╪¬╪▒┘ê┘å┘è\n            </Label>\n            <Input\n              value={user?.email || \"\"}\n              disabled\n              readOnly\n              className=\"h-12 rounded-xl bg-muted/50 border-none font-black\"\n            />\n          </div>\n          <div className=\"grid gap-2\">\n            <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n              ┘à╪╣╪▒┘ü ╪º┘ä┘à╪│╪¬╪«╪»┘à\n            </Label>\n            <Input\n              value={user?.id || \"\"}\n              disabled\n              readOnly\n              className=\"font-mono text-xs h-12 rounded-xl bg-muted/50 border-none\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden\">\n        <CardHeader className=\"pb-4\">\n          <CardTitle className=\"flex items-center gap-3 font-black text-xl\">\n            <div className=\"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 flex items-center justify-center\">\n              <Shield className=\"h-5 w-5\" />\n            </div>\n            ╪º┘ä╪ú┘à╪º┘å ┘ê╪º┘ä╪¡┘à╪º┘è╪⌐\n          </CardTitle>\n          <CardDescription className=\"font-black opacity-60\">\n            ╪¬╪¡╪»┘è╪½ ┘â┘ä┘à╪⌐ ┘à╪▒┘ê╪▒ ╪¡╪│╪º╪¿┘â\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleUpdatePassword} className=\"space-y-4\">\n            <div className=\"grid gap-2\">\n              <Label\n                htmlFor=\"new-password\"\n                className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n              >\n                ┘â┘ä┘à╪⌐ ╪º┘ä┘à╪▒┘ê╪▒ ╪º┘ä╪¼╪»┘è╪»╪⌐\n              </Label>\n              <Input\n                id=\"new-password\"\n                type=\"password\"\n                placeholder=\"╪ú╪»╪«┘ä ┘â┘ä┘à╪⌐ ╪º┘ä┘à╪▒┘ê╪▒ ╪º┘ä╪¼╪»┘è╪»╪⌐\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                minLength={6}\n                required\n                className=\"h-12 rounded-xl bg-muted/50 border-none font-black\"\n              />\n            </div>\n            <Button\n              type=\"submit\"\n              disabled={loading || !newPassword}\n              className=\"h-12 px-8 rounded-xl font-black bg-emerald-600 text-white shadow-sm hover:bg-emerald-700\"\n            >\n              {loading && <Loader2 className=\"ms-2 h-4 w-4 animate-spin\" />}\n              ╪¬╪¡╪»┘è╪½ ┘â┘ä┘à╪⌐ ╪º┘ä┘à╪▒┘ê╪▒\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n      <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden\">\n        <CardHeader className=\"pb-4\">\n          <CardTitle className=\"flex items-center gap-3 font-black text-xl\">\n            <div className=\"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 flex items-center justify-center\">\n              <Truck className=\"h-5 w-5\" />\n            </div>\n            ╪º┘ä╪«╪»┘à╪º╪¬ ╪º┘ä┘ä┘ê╪¼╪│╪¬┘è╪⌐\n          </CardTitle>\n          <CardDescription className=\"font-black opacity-60\">\n            ╪Ñ╪»╪º╪▒╪⌐ ┘à┘å╪º╪╖┘é ╪º┘ä╪¬┘ê╪╡┘è┘ä ┘ê╪º┘ä╪▒╪│┘ê┘à\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Link href=\"/settings/zones\">\n            <AnimatedButton\n              variant=\"outline\"\n              className=\"w-full justify-start h-14 rounded-xl border-dashed border-2 hover:border-emerald-500 hover:bg-emerald-50 dark:bg-emerald-500/10 font-black text-lg\"\n            >\n              <Truck className=\"ms-3 h-5 w-5 text-emerald-600\" /> ╪Ñ╪╣╪»╪º╪» ┘à┘å╪º╪╖┘é\n              ╪º┘ä╪¬┘ê╪╡┘è┘ä\n            </AnimatedButton>\n          </Link>\n        </CardContent>\n      </Card>\n\n      <Card className=\"border border-red-200 dark:border-red-900 shadow-sm rounded-xl bg-red-50 dark:bg-red-950/20 overflow-hidden\">\n        <CardHeader className=\"pb-4\">\n          <CardTitle className=\"flex items-center gap-3 font-black text-xl text-red-600\">\n            <div className=\"w-10 h-10 rounded-xl bg-red-100 dark:bg-red-900/50 flex items-center justify-center\">\n              <TriangleAlert className=\"h-5 w-5\" />\n            </div>\n            ┘à┘å╪╖┘é╪⌐ ╪º┘ä╪«╪╖╪▒ (╪Ñ╪╣╪º╪»╪⌐ ╪╢╪¿╪╖ ╪º┘ä┘à╪╡┘å╪╣)\n          </CardTitle>\n          <CardDescription className=\"font-black opacity-80 text-red-800 dark:text-red-300\">\n            ╪¬╪¡╪░┘è╪▒: ┘ç╪░╪º ╪º┘ä╪Ñ╪¼╪▒╪º╪í ╪│┘è┘é┘ê┘à ╪¿╪¡╪░┘ü ╪¼┘à┘è╪╣ ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬ ┘ê╪º┘ä╪Ñ╪┤╪╣╪º╪▒╪º╪¬╪î ┘ê╪¬╪╡┘ü┘è╪▒\n            ╪Ñ┘è╪▒╪º╪»╪º╪¬ ╪º┘ä┘å╪╕╪º┘à. ┘ä╪º ┘è┘à┘â┘å ╪º┘ä╪¬╪▒╪º╪¼╪╣ ╪╣┘å ┘ç╪░╪º ╪º┘ä╪Ñ╪¼╪▒╪º╪í.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <AnimatedButton\n            variant=\"outline\"\n            onClick={() => setShowResetConfirm(true)}\n            className=\"w-full justify-center h-14 rounded-xl border-dashed border-2 hover:border-red-500 hover:bg-red-100 dark:hover:bg-red-900/40 text-red-600 font-black text-lg transition-colors\"\n            disabled={resetLoading}\n          >\n            {resetLoading ? (\n              <Loader2 className=\"h-5 w-5 animate-spin\" />\n            ) : (\n              <>\n                <TriangleAlert className=\"ms-3 h-5 w-5\" /> ┘à╪│╪¡ ╪¿┘è╪º┘å╪º╪¬ ╪º┘ä┘å╪╕╪º┘à\n                ┘ê╪º┘ä╪╖┘ä╪¿┘è╪º╪¬\n              </>\n            )}\n          </AnimatedButton>\n        </CardContent>\n      </Card>\n\n      <ConfirmDialog\n        isOpen={showResetConfirm}\n        onClose={() => setShowResetConfirm(false)}\n        onConfirm={handleFactoryReset}\n        title=\"╪Ñ╪╣╪º╪»╪⌐ ╪╢╪¿╪╖ ╪º┘ä┘à╪╡┘å╪╣╪ƒ\"\n        description=\"┘ç┘ä ╪ú┘å╪¬ ┘à╪¬╪ú┘â╪» ┘à┘å ╪▒╪║╪¿╪¬┘â ┘ü┘è ╪¡╪░┘ü ┘â╪º┘ü╪⌐ ╪º┘ä╪╖┘ä╪¿┘è╪º╪¬╪î ╪º┘ä╪Ñ╪┤╪╣╪º╪▒╪º╪¬╪î ┘ê╪¬╪╡┘ü┘è╪▒ ╪º┘ä╪Ñ┘è╪▒╪º╪»╪º╪¬ ╪¿╪º┘ä┘â╪º┘à┘ä╪ƒ ┘ä╪º ┘è┘à┘â┘å ╪º╪│╪¬╪▒╪¼╪º╪╣ ╪º┘ä╪¿┘è╪º┘å╪º╪¬ ╪¿╪╣╪» ┘ç╪░┘ç ╪º┘ä╪«╪╖┘ê╪⌐.\"\n        confirmText=\"┘å╪╣┘à╪î ╪º╪¡╪░┘ü ┘â┘ä ╪┤┘è╪í!\"\n        variant=\"destructive\"\n      />\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\settings\\zones\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\(dashboard)\\settings\\zones\\page.tsx:56:5\n  54 |\n  55 |   useEffect(() => {\n> 56 |     fetchZones();\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  57 |   }, [fetchZones]);\n  58 |\n  59 |   const handleSave = async (e: React.FormEvent) => {","line":56,"column":5,"nodeType":null,"endLine":56,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":84,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2585,2588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2585,2588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Plus, Edit, Trash2, Truck, Clock } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport ChickenLoader from \"@/components/ui/chicken-loader\";\nimport { Icon } from \"@/components/ui/Icon\";\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\n\ntype DeliveryZone = {\n  id: string;\n  name: string;\n  base_fee: number;\n  estimated_days: string;\n  wilayas: string[];\n};\n\nexport default function DeliveryZonesPage() {\n  const [zones, setZones] = useState<DeliveryZone[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isAdding, setIsAdding] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n\n  // Confirmation Modal State\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState<string | null>(null);\n\n  const supabase = createClient();\n\n  const [formData, setFormData] = useState<Partial<DeliveryZone>>({\n    name: \"\",\n    wilayas: [],\n    base_fee: 500,\n    estimated_days: \"1-2\",\n  });\n\n  const [wilayaInput, setWilayaInput] = useState(\"\");\n\n  const fetchZones = React.useCallback(async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"delivery_zones\")\n      .select(\"id, name, base_fee, estimated_days, wilayas\")\n      .order(\"name\");\n    if (error) toast.error(\"┘ü╪┤┘ä ┘ü┘è ╪¬╪¡┘à┘è┘ä ╪º┘ä┘à┘å╪º╪╖┘é\");\n    else setZones((data as unknown as DeliveryZone[]) || []);\n    setLoading(false);\n  }, [supabase]);\n\n  useEffect(() => {\n    fetchZones();\n  }, [fetchZones]);\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const payload = {\n      ...formData,\n      base_fee: Number(formData.base_fee),\n      wilayas: wilayaInput\n        .split(\",\")\n        .map((w) => w.trim())\n        .filter((w) => w),\n    };\n\n    if (editingId) {\n      const { error } = await supabase\n        .from(\"delivery_zones\")\n        .update(payload)\n        .eq(\"id\", editingId);\n      if (error) toast.error(\"Update failed\");\n      else {\n        toast.success(\"Zone updated\");\n        resetForm();\n        fetchZones();\n      }\n    } else {\n      const { error } = await supabase\n        .from(\"delivery_zones\")\n        .insert([payload as any]);\n      if (error) toast.error(\"Creation failed\");\n      else {\n        toast.success(\"Zone created\");\n        resetForm();\n        fetchZones();\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!itemToDelete) return;\n    const { error } = await supabase\n      .from(\"delivery_zones\")\n      .delete()\n      .eq(\"id\", itemToDelete);\n    if (error) toast.error(\"Delete failed\");\n    else {\n      toast.success(\"Zone deleted\");\n      fetchZones();\n    }\n\n    setConfirmOpen(false);\n    setItemToDelete(null);\n  };\n\n  const resetForm = () => {\n    setIsAdding(false);\n    setEditingId(null);\n    setFormData({\n      name: \"\",\n      wilayas: [],\n      base_fee: 500,\n      estimated_days: \"1-2\",\n    });\n    setWilayaInput(\"\");\n  };\n\n  const handleEdit = (zone: DeliveryZone) => {\n    setEditingId(zone.id);\n    setFormData(zone);\n    setWilayaInput(zone.wilayas.join(\", \"));\n    setIsAdding(true);\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  if (loading)\n    return (\n      <div className=\"h-[80vh] flex items-center justify-center\">\n        <ChickenLoader mode=\"dashboard\" />\n      </div>\n    );\n\n  return (\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\n      <ConfirmDialog\n        isOpen={confirmOpen}\n        onClose={() => {\n          setConfirmOpen(false);\n          setItemToDelete(null);\n        }}\n        onConfirm={handleDelete}\n        title=\"Delete Delivery Zone?\"\n        description=\"Are you sure you want to delete this delivery zone? This action cannot be undone.\"\n        confirmText=\"Delete Zone\"\n        variant=\"destructive\"\n      />\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-4xl font-black tracking-tighter flex items-center gap-3 text-foreground\">\n            ┘à┘å╪º╪╖┘é ╪º┘ä╪¬┘ê╪╡┘è┘ä{\" \"}\n            <span className=\"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 text-sm font-black px-4 py-1 rounded-full\">\n              {zones.length}\n            </span>\n          </h1>\n          <p className=\"text-muted-foreground font-black\">\n            ╪¬╪¡╪»┘è╪» ╪º┘ä╪¡╪»┘ê╪» ╪º┘ä┘ä┘ê╪¼╪│╪¬┘è╪⌐ ┘ê╪ú╪│╪╣╪º╪▒ ╪º┘ä╪¬┘ê╪╡┘è┘ä ╪º┘ä╪Ñ┘é┘ä┘è┘à┘è╪⌐.\n          </p>\n        </div>\n        {!isAdding && (\n          <Button\n            onClick={() => setIsAdding(true)}\n            className=\"rounded-xl px-6 h-12 font-black shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white\"\n          >\n            <Plus className=\"ms-2 h-5 w-5\" /> ┘à┘å╪╖┘é╪⌐ ╪¼╪»┘è╪»╪⌐\n          </Button>\n        )}\n      </div>\n\n      {isAdding && (\n        <Card className=\"border border-border/40 shadow-sm bg-white dark:bg-zinc-950 relative overflow-hidden\">\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-red-600\" />\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3 font-black text-xl\">\n              <div className=\"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 flex items-center justify-center\">\n                <Truck className=\"w-5 h-5\" />\n              </div>\n              {editingId ? \"╪¬╪╣╪»┘è┘ä ╪º┘ä╪¬┘â┘ê┘è┘å\" : \"╪Ñ┘å╪┤╪º╪í ╪¡╪»┘ê╪» ┘ä┘ê╪¼╪│╪¬┘è╪⌐\"}\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-6\">\n            <form\n              onSubmit={handleSave}\n              className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\"\n            >\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪╣┘å┘ê╪º┘å ╪º┘ä┘à┘å╪╖┘é╪⌐\n                </Label>\n                <Input\n                  required\n                  value={formData.name}\n                  onChange={(e) =>\n                    setFormData({ ...formData, name: e.target.value })\n                  }\n                  placeholder=\"┘à╪½╪º┘ä: ╪º┘ä╪¼╪▓╪º╪ª╪▒ ╪º┘ä╪╣╪º╪╡┘à╪⌐ ┘ê╪╢┘ê╪º╪¡┘è┘ç╪º\"\n                  className=\"bg-muted/50 border-none focus:bg-background h-12 rounded-xl font-black\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪▒╪│┘ê┘à ╪º┘ä╪┤╪¡┘å (╪»╪¼)\n                </Label>\n                <Input\n                  type=\"number\"\n                  required\n                  value={formData.base_fee}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      base_fee: Number(e.target.value),\n                    })\n                  }\n                  className=\"bg-muted/50 border-none focus:bg-background h-12 rounded-xl font-black\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘ê┘é╪¬ ╪º┘ä┘à╪¬┘ê┘é╪╣ (╪ú┘è╪º┘à)\n                </Label>\n                <Input\n                  required\n                  value={formData.estimated_days}\n                  onChange={(e) =>\n                    setFormData({ ...formData, estimated_days: e.target.value })\n                  }\n                  placeholder=\"┘à╪½╪º┘ä: 24-48 ╪│╪º╪╣╪⌐\"\n                  className=\"bg-muted/50 border-none focus:bg-background h-12 rounded-xl font-black\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\">\n                  ╪º┘ä┘ê┘ä╪º┘è╪º╪¬ (┘à┘ü╪╡┘ê┘ä╪⌐ ╪¿┘ü╪º╪╡┘ä╪⌐)\n                </Label>\n                <Input\n                  required\n                  value={wilayaInput}\n                  onChange={(e) => setWilayaInput(e.target.value)}\n                  placeholder=\"╪º┘ä╪¼╪▓╪º╪ª╪▒╪î ╪º┘ä╪¿┘ä┘è╪»╪⌐...\"\n                  className=\"bg-muted/50 border-none focus:bg-background h-12 rounded-xl font-black\"\n                />\n              </div>\n\n              <div className=\"col-span-full flex justify-end gap-3 pt-6 border-t border-dashed mt-4\">\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  className=\"rounded-xl px-6 font-black\"\n                  onClick={resetForm}\n                >\n                  ╪Ñ┘ä╪║╪º╪í\n                </Button>\n                <Button\n                  type=\"submit\"\n                  className=\"rounded-xl px-10 h-12 font-black shadow-sm shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white border-none\"\n                >\n                  {editingId ? \"╪¬╪¡╪»┘è╪½ ╪º┘ä┘à┘å╪╖┘é╪⌐\" : \"╪¬┘ü╪╣┘è┘ä ╪º┘ä┘à┘å╪╖┘é╪⌐\"}\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n        {zones.map((zone) => (\n          <Card\n            key={zone.id}\n            className=\"group border border-border/40 shadow-sm hover:shadow-sm transition-all duration-500 rounded-xl overflow-hidden bg-white dark:bg-card\"\n          >\n            <CardHeader className=\"bg-muted/30 p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <div className=\"w-12 h-12 rounded-xl bg-white dark:bg-muted flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform\">\n                  <Icon\n                    src=\"https://cdn.lordicon.com/wxnxiano.json\"\n                    trigger=\"loop\"\n                    size={32}\n                  />\n                </div>\n                <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-10 w-10 bg-background/50 backdrop-blur shadow-sm rounded-xl\"\n                    onClick={() => handleEdit(zone)}\n                  >\n                    <Edit className=\"h-4 w-4 text-blue-500\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-10 w-10 bg-background/50 backdrop-blur shadow-sm text-red-500 rounded-xl\"\n                    onClick={() => {\n                      setItemToDelete(zone.id);\n                      setConfirmOpen(true);\n                    }}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n              <CardTitle className=\"text-2xl font-black\">{zone.name}</CardTitle>\n              <div className=\"flex items-center gap-4 mt-2\">\n                <span className=\"text-3xl font-black text-emerald-600 tracking-tighter\">\n                  {zone.base_fee?.toLocaleString()}{\" \"}\n                  <span className=\"text-xs opacity-60\">╪»╪¼</span>\n                </span>\n                <Badge\n                  variant=\"outline\"\n                  className=\"bg-background/50 border-emerald-500/20 text-emerald-600 font-black flex items-center gap-1\"\n                >\n                  <Clock className=\"h-3 w-3\" /> {zone.estimated_days}\n                </Badge>\n              </div>\n            </CardHeader>\n            <CardContent className=\"p-6\">\n              <Label className=\"text-[10px] uppercase font-black text-muted-foreground tracking-widest mb-3 block\">\n                ╪º┘ä┘ê┘ä╪º┘è╪º╪¬ ╪º┘ä┘à╪┤┘à┘ê┘ä╪⌐\n              </Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {zone.wilayas.map((w, i) => (\n                  <Badge\n                    key={i}\n                    variant=\"secondary\"\n                    className=\"bg-muted/50 text-foreground font-medium rounded-lg px-2 py-1 text-xs border border-transparent group-hover:border-primary/20 transition-colors\"\n                  >\n                    {w}\n                  </Badge>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\app\\manifest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\AnalyticsCards.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[805,808],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[805,808],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1207,1210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1207,1210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":60,"column":6,"nodeType":"ArrayExpression","endLine":60,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1620,1622],"text":"[supabase]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { DollarSign, ShoppingBag, Package, TrendingUp } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nexport function AnalyticsCards() {\n  const supabase = createClient();\n  const [stats, setStats] = useState({\n    totalRevenue: 0,\n    activeOrders: 0,\n    lowStock: 0,\n    totalProducts: 0,\n  });\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      // 1. Orders Stats\n      const { data: orders } = await supabase\n        .from(\"orders\")\n        .select(\"price, total_amount, status\");\n\n      let revenue = 0;\n      let active = 0;\n\n      if (orders) {\n        orders.forEach((o: any) => {\n          const price = Number(o.total_amount || o.price) || 0;\n          revenue += price;\n          if (o.status === \"pending\" || o.status === \"shipped\") active++;\n        });\n      }\n\n      // 2. Product Stats\n      const { data: products } = await supabase\n        .from(\"products\")\n        .select(\"stock\");\n      let stockAlerts = 0;\n\n      if (products) {\n        products.forEach((p: any) => {\n          if (Number(p.stock || 0) < 10) stockAlerts++;\n        });\n      }\n\n      setStats({\n        totalRevenue: revenue,\n        activeOrders: active,\n        lowStock: stockAlerts,\n        totalProducts: products?.length || 0,\n      });\n    };\n\n    fetchStats();\n\n    // Simple polling for updates\n    const interval = setInterval(fetchStats, 10000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n      <motion.div\n        whileHover={{ y: -5 }}\n        transition={{ type: \"spring\", stiffness: 300 }}\n      >\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-black uppercase tracking-widest opacity-60\">\n              ╪Ñ╪¼┘à╪º┘ä┘è ╪º┘ä╪Ñ┘è╪▒╪º╪»╪º╪¬\n            </CardTitle>\n            <DollarSign className=\"h-4 w-4 text-emerald-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-black tracking-tight\">\n              {stats.totalRevenue.toLocaleString()}{\" \"}\n              <span className=\"text-sm opacity-60 font-sans\">╪».╪¼</span>\n            </div>\n            <p className=\"text-[10px] font-bold text-muted-foreground mt-2 uppercase tracking-tight\">\n              +20.1% ┘à┘å ╪º┘ä╪┤┘ç╪▒ ╪º┘ä┘à╪º╪╢┘è\n            </p>\n          </CardContent>\n        </Card>\n      </motion.div>\n\n      <motion.div\n        whileHover={{ y: -5 }}\n        transition={{ type: \"spring\", stiffness: 300 }}\n      >\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-black uppercase tracking-widest opacity-60\">\n              ╪º┘ä╪╖┘ä╪¿╪º╪¬ ╪º┘ä┘å╪┤╪╖╪⌐\n            </CardTitle>\n            <ShoppingBag className=\"h-4 w-4 text-emerald-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-black tracking-tight\">\n              {stats.activeOrders}\n            </div>\n            <p className=\"text-[10px] font-bold text-muted-foreground mt-2 uppercase tracking-tight\">\n              {stats.activeOrders > 0 ? \"╪¬╪¬╪╖┘ä╪¿ ╪º┘ç╪¬┘à╪º┘à╪º┘ï\" : \"╪º┘ä┘â┘ä ╪│┘ä┘è┘à\"}\n            </p>\n          </CardContent>\n        </Card>\n      </motion.div>\n\n      <motion.div\n        whileHover={{ y: -5 }}\n        transition={{ type: \"spring\", stiffness: 300 }}\n      >\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-black uppercase tracking-widest opacity-60\">\n              ╪¬┘å╪¿┘è┘ç╪º╪¬ ╪º┘å╪«┘ü╪º╪╢ ╪º┘ä┘à╪«╪▓┘ê┘å\n            </CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-amber-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-black tracking-tight\">\n              {stats.lowStock}\n            </div>\n            <p className=\"text-[10px] font-bold text-muted-foreground mt-2 uppercase tracking-tight\">\n              ┘à┘å╪¬╪¼╪º╪¬ ╪¿╪ú┘é┘ä ┘à┘å 10 ┘é╪╖╪╣\n            </p>\n          </CardContent>\n        </Card>\n      </motion.div>\n\n      <motion.div\n        whileHover={{ y: -5 }}\n        transition={{ type: \"spring\", stiffness: 300 }}\n      >\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-black uppercase tracking-widest opacity-60\">\n              ╪Ñ╪¼┘à╪º┘ä┘è ╪º┘ä┘à┘å╪¬╪¼╪º╪¬\n            </CardTitle>\n            <Package className=\"h-4 w-4 text-emerald-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-black tracking-tight\">\n              {stats.totalProducts}\n            </div>\n            <p className=\"text-[10px] font-bold text-muted-foreground mt-2 uppercase tracking-tight\">\n              ┘å╪┤╪╖ ┘ü┘è ╪º┘ä┘â╪¬╪º┘ä┘ê╪¼\n            </p>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\BottomNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\Header.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"motion"},"fix":{"range":[165,205],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { Search } from \"lucide-react\";\nimport { MobileSidebar } from \"@/components/Sidebar\";\nimport { SystemHealth } from \"@/components/SystemHealth\";\nimport { motion } from \"framer-motion\";\nimport { useI18n } from \"@/lib/i18n/I18nContext\";\nimport { NotificationBell } from \"@/components/NotificationBell\";\nimport { ThemeToggle } from \"@/components/ThemeToggle\";\n\nexport function Header() {\n  const { t } = useI18n();\n\n  return (\n    <header className=\"hidden md:flex h-16 items-center justify-between gap-6 border-b border-border/40 bg-white/70 px-6 lg:px-8 backdrop-blur-2xl sticky top-0 z-40 ring-1 ring-border/50\">\n      <div className=\"flex items-center gap-4 flex-1\">\n        <MobileSidebar />\n        <div className=\"max-w-xl flex-1 hidden md:block\">\n          <div className=\"relative group\">\n            <Search className=\"absolute end-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground group-focus-within:text-emerald-600 transition-all duration-300 pointer-events-none\" />\n            <input\n              type=\"text\"\n              placeholder={t.header.searchPlaceholder}\n              className=\"w-full h-10 rounded-xl bg-muted/30 border border-transparent focus:border-emerald-500/20 pe-10 ps-4 text-sm font-bold focus:bg-background focus:ring-4 focus:ring-emerald-500/5 transition-all outline-none placeholder:opacity-40\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <div className=\"hidden xl:block\">\n          <SystemHealth />\n        </div>\n\n        <div className=\"h-8 w-px bg-border/40\" />\n\n        <ThemeToggle />\n\n        <NotificationBell />\n      </div>\n    </header>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\NotificationBell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'parseISO' is defined but never used.","line":6,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"parseISO"},"fix":{"range":[274,284],"text":""},"desc":"Remove unused variable \"parseISO\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1963,1966],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1963,1966],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":78,"column":6,"nodeType":"ArrayExpression","endLine":78,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[2549,2551],"text":"[supabase]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2835,2838],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2835,2838],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":115,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3766,3769],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3766,3769],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Bell, X, ShoppingCart, Egg, Clock } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { formatDistanceToNow, parseISO } from \"date-fns\";\nimport { ar } from \"date-fns/locale\";\nimport Link from \"next/link\";\n\ntype NotifType = \"order\" | \"hatching\";\n\ninterface Notification {\n  id: string;\n  customer_name: string;\n  total_amount: number;\n  product_name: string;\n  created_at: string;\n  read: boolean;\n  type: NotifType;\n}\n\nexport function NotificationBell() {\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const supabase = createClient();\n  const panelRef = useRef<HTMLDivElement>(null);\n\n  const unreadCount = notifications.filter((n) => !n.read).length;\n\n  // Load recent orders + hatching bookings on mount\n  useEffect(() => {\n    const loadRecent = async () => {\n      const [ordersRes, bookingsRes] = await Promise.all([\n        supabase\n          .from(\"orders\")\n          .select(\"id, customer_name, total_amount, product_name, created_at\")\n          .order(\"created_at\", { ascending: false })\n          .limit(8),\n        supabase\n          .from(\"hatching_bookings\")\n          .select(\n            \"id, customer_id, total_price, egg_count, created_at, customers(full_name)\",\n          )\n          .order(\"created_at\", { ascending: false })\n          .limit(5),\n      ]);\n\n      const orderNotifs: Notification[] = (ordersRes.data || []).map((o) => ({\n        id: o.id,\n        customer_name: o.customer_name || \"╪▓╪¿┘ê┘å\",\n        total_amount: o.total_amount || 0,\n        product_name: o.product_name || \"┘à┘å╪¬╪¼\",\n        created_at: o.created_at || new Date().toISOString(),\n        read: true,\n        type: \"order\",\n      }));\n\n      const hatchingNotifs: Notification[] = (bookingsRes.data || []).map(\n        (b: any) => ({\n          id: b.id,\n          customer_name: b.customers?.full_name || \"╪▓╪¿┘ê┘å\",\n          total_amount: b.total_price || 0,\n          product_name: `╪¡╪¼╪▓ ╪¬┘ü┘é┘è╪│ ΓÇö ${b.egg_count} ╪¿┘è╪╢╪⌐`,\n          created_at: b.created_at || new Date().toISOString(),\n          read: true,\n          type: \"hatching\",\n        }),\n      );\n\n      // Merge and sort by date\n      const all = [...orderNotifs, ...hatchingNotifs].sort(\n        (a, b) =>\n          new Date(b.created_at).getTime() - new Date(a.created_at).getTime(),\n      );\n      setNotifications(all);\n    };\n    loadRecent();\n  }, []);\n\n  // Subscribe to new orders\n  useEffect(() => {\n    const ordersChannel = supabase\n      .channel(\"notif-orders\")\n      .on(\n        \"postgres_changes\",\n        { event: \"INSERT\", schema: \"public\", table: \"orders\" },\n        (payload) => {\n          const order = payload.new as any;\n\n          // Play cashier sound\n          const audio = new Audio(\"/cashier.mp3\");\n          audio.play().catch((e) => console.error(\"Audio play blocked\", e));\n\n          const n: Notification = {\n            id: order.id,\n            customer_name: order.customer_name || \"╪▓╪¿┘ê┘å\",\n            total_amount: order.total_amount || 0,\n            product_name: order.product_name || \"╪╖┘ä╪¿┘è╪⌐ ╪¼╪»┘è╪»╪⌐\",\n            created_at: order.created_at || new Date().toISOString(),\n            read: false,\n            type: \"order\",\n          };\n          setNotifications((prev) => [n, ...prev].slice(0, 20));\n        },\n      )\n      .subscribe();\n\n    // Subscribe to new hatching bookings\n    const hatchingChannel = supabase\n      .channel(\"notif-hatching\")\n      .on(\n        \"postgres_changes\",\n        { event: \"INSERT\", schema: \"public\", table: \"hatching_bookings\" },\n        (payload) => {\n          const booking = payload.new as any;\n\n          // Play cashier sound\n          const audio = new Audio(\"/cashier.mp3\");\n          audio.play().catch((e) => console.error(\"Audio play blocked\", e));\n\n          const n: Notification = {\n            id: booking.id,\n            customer_name: \"╪▓╪¿┘ê┘å ╪¼╪»┘è╪»\",\n            total_amount: booking.total_price || 0,\n            product_name: `╪¡╪¼╪▓ ╪¬┘ü┘é┘è╪│ ΓÇö ${booking.egg_count || \"?\"} ╪¿┘è╪╢╪⌐`,\n            created_at: booking.created_at || new Date().toISOString(),\n            read: false,\n            type: \"hatching\",\n          };\n          setNotifications((prev) => [n, ...prev].slice(0, 20));\n        },\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(ordersChannel);\n      supabase.removeChannel(hatchingChannel);\n    };\n  }, [supabase]);\n\n  // Close when clicking outside\n  useEffect(() => {\n    const handler = (e: MouseEvent) => {\n      if (panelRef.current && !panelRef.current.contains(e.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handler);\n    return () => document.removeEventListener(\"mousedown\", handler);\n  }, []);\n\n  const markAllRead = () => {\n    setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n  };\n\n  return (\n    <div className=\"relative\" ref={panelRef}>\n      <button\n        onClick={() => {\n          setIsOpen(!isOpen);\n          if (!isOpen) markAllRead();\n        }}\n        className=\"relative w-10 h-10 rounded-xl bg-white dark:bg-card border border-border/50 shadow-md flex items-center justify-center text-muted-foreground hover:text-foreground hover:border-emerald-500/30 transition-all\"\n      >\n        <Bell className=\"w-4 h-4\" />\n        {unreadCount > 0 && (\n          <motion.span\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            className=\"absolute -top-1.5 -right-1.5 w-5 h-5 bg-red-500 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-md\"\n          >\n            {unreadCount > 9 ? \"9+\" : unreadCount}\n          </motion.span>\n        )}\n      </button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: 8, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 8, scale: 0.95 }}\n            transition={{ duration: 0.15 }}\n            className=\"absolute left-0 top-12 w-80 bg-white dark:bg-zinc-900 border border-border/60 rounded-xl shadow-xl z-[100] overflow-hidden\"\n          >\n            <div className=\"flex items-center justify-between px-4 py-3 border-b border-border/50 bg-muted/20\">\n              <span className=\"text-sm font-black\">╪º┘ä╪Ñ╪┤╪╣╪º╪▒╪º╪¬</span>\n              <button\n                onClick={() => setIsOpen(false)}\n                className=\"text-muted-foreground hover:text-foreground\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            <div className=\"max-h-[400px] overflow-y-auto divide-y divide-border/30\">\n              {notifications.length === 0 ? (\n                <div className=\"p-8 text-center text-muted-foreground text-sm font-bold opacity-50\">\n                  ┘ä╪º ╪¬┘ê╪¼╪» ╪Ñ╪┤╪╣╪º╪▒╪º╪¬\n                </div>\n              ) : (\n                notifications.map((n) => (\n                  <Link\n                    href={\n                      n.type === \"order\"\n                        ? `/orders?id=${n.id}`\n                        : `/hatching?id=${n.id}`\n                    }\n                    key={`${n.type}-${n.id}`}\n                    onClick={() => {\n                      setNotifications((prev) =>\n                        prev.map((p) =>\n                          p.id === n.id ? { ...p, read: true } : p,\n                        ),\n                      );\n                      setIsOpen(false);\n                    }}\n                    className={`px-4 py-3 flex gap-3 items-start transition-colors ${!n.read ? \"bg-emerald-50/50 dark:bg-emerald-900/10\" : \"hover:bg-muted/30\"}`}\n                  >\n                    {/* Icon differs by type */}\n                    <div\n                      className={`w-8 h-8 rounded-xl flex items-center justify-center shrink-0 mt-0.5 ${n.type === \"hatching\" ? \"bg-amber-100 dark:bg-amber-900/30\" : \"bg-emerald-100 dark:bg-emerald-900/30\"}`}\n                    >\n                      {n.type === \"hatching\" ? (\n                        <Egg className=\"w-4 h-4 text-amber-600\" />\n                      ) : (\n                        <ShoppingCart className=\"w-4 h-4 text-emerald-600\" />\n                      )}\n                    </div>\n                    <div className=\"flex-1 min-w-0 space-y-0.5\">\n                      <p\n                        className={`text-sm truncate ${!n.read ? \"font-black\" : \"font-bold\"}`}\n                      >\n                        {n.customer_name}\n                      </p>\n                      <p className=\"text-xs text-muted-foreground truncate\">\n                        {n.product_name}\n                      </p>\n                      <div className=\"flex items-center justify-between\">\n                        <span\n                          className={`text-xs font-black ${n.type === \"hatching\" ? \"text-amber-600\" : \"text-emerald-600\"}`}\n                        >\n                          {(n.total_amount || 0).toLocaleString()} ╪»╪¼\n                        </span>\n                        <span className=\"text-[10px] text-muted-foreground flex items-center gap-1 opacity-60\">\n                          <Clock className=\"w-3 h-3\" />\n                          {n.created_at\n                            ? formatDistanceToNow(\n                                new Date(n.created_at) > new Date()\n                                  ? new Date()\n                                  : new Date(n.created_at),\n                                { addSuffix: true, locale: ar },\n                              )\n                            : \"\"}\n                        </span>\n                      </div>\n                    </div>\n                    {!n.read && (\n                      <div className=\"w-2 h-2 rounded-full bg-emerald-500 mt-2 shrink-0\" />\n                    )}\n                  </Link>\n                ))\n              )}\n            </div>\n\n            <div className=\"border-t border-border/50 p-2\">\n              <button\n                onClick={markAllRead}\n                className=\"w-full text-xs font-black text-muted-foreground hover:text-foreground py-1.5 rounded-lg hover:bg-muted/50 transition-colors\"\n              >\n                ╪¬╪¡╪»┘è╪» ╪º┘ä┘â┘ä ┘â┘à┘é╪▒┘ê╪í\n              </button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\PWAInstallPrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\RealtimeNotifications.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[702,705],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[702,705],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":37,"column":6,"nodeType":"ArrayExpression","endLine":37,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [locale, supabase]","fix":{"range":[1253,1261],"text":"[locale, supabase]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { toast } from \"sonner\";\nimport { BellRing } from \"lucide-react\";\nimport { useI18n } from \"@/lib/i18n/I18nContext\";\n\nexport function RealtimeNotifications() {\n  const supabase = createClient();\n  const { t, locale } = useI18n();\n\n  useEffect(() => {\n    // Listen to inserts on the orders table\n    const ordersChannel = supabase\n      .channel(\"custom-insert-channel\")\n      .on(\n        \"postgres_changes\",\n        { event: \"INSERT\", schema: \"public\", table: \"orders\" },\n        (payload) => {\n          console.log(\"New Order Received!\", payload);\n          const order = payload.new as any;\n          toast.success(locale === \"ar\" ? \"╪╖┘ä╪¿ ╪¼╪»┘è╪»!\" : \"New Order Received!\", {\n            description:\n              locale === \"ar\"\n                ? `╪╖┘ä╪¿ ╪¼╪»┘è╪» ┘à┘å ${order.customer_id ? \"╪▓╪¿┘ê┘å ┘à╪│╪¼┘ä\" : \"╪▓╪¿┘ê┘å ╪¼╪»┘è╪»\"} ╪¿┘é┘è┘à╪⌐ ${order.total_amount} ╪».╪¼`\n                : `New order received for ${order.total_amount} DA`,\n            icon: <BellRing className=\"w-5 h-5 text-emerald-600\" />,\n            duration: 10000,\n          });\n        },\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(ordersChannel);\n    };\n  }, [locale]);\n\n  return null;\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Bird' is defined but never used.","line":12,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":7,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Bird"},"fix":{"range":[193,201],"text":""},"desc":"Remove unused variable \"Bird\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Thermometer' is defined but never used.","line":13,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Thermometer"},"fix":{"range":[201,216],"text":""},"desc":"Remove unused variable \"Thermometer\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":20,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[349,366],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport {\n  LayoutDashboard,\n  ShoppingCart,\n  Package,\n  Users,\n  Settings,\n  LogOut,\n  Egg,\n  Bird,\n  Thermometer,\n  ChevronRight,\n  Menu,\n  PanelLeftClose,\n  PanelLeftOpen,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { useState } from \"react\";\nimport { useI18n } from \"@/lib/i18n/I18nContext\";\nimport { Button } from \"@/components/ui/button\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport Image from \"next/image\";\n\n// Replaced by inline links inside components\n// const sidebarLinks = [...];\n\nexport function Sidebar({ className }: { className?: string }) {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const pathname = usePathname();\n  const router = useRouter();\n  const supabase = createClient();\n  const { t } = useI18n();\n\n  const links = [\n    { name: t.sidebar.overview, href: \"/\", icon: LayoutDashboard },\n    { name: t.sidebar.orders, href: \"/orders\", icon: ShoppingCart },\n    { name: t.sidebar.hatching, href: \"/hatching\", icon: Egg },\n    { name: t.sidebar.inventory, href: \"/inventory/breeds\", icon: Package },\n    { name: t.sidebar.customers, href: \"/customers\", icon: Users },\n    { name: \"╪º┘ä╪Ñ╪¡╪╡╪º╪ª┘è╪º╪¬\", href: \"/analytics\", icon: LayoutDashboard },\n    { name: t.sidebar.settings, href: \"/settings\", icon: Settings },\n  ];\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/login\");\n    router.refresh();\n  };\n\n  return (\n    <aside\n      className={cn(\n        \"hidden lg:flex flex-col border-r bg-white dark:bg-zinc-950 border-border/40 sticky top-0 h-screen z-50 transition-all duration-500 ease-in-out shrink-0 shadow-sm\",\n        isCollapsed ? \"w-24\" : \"w-80\",\n        className,\n      )}\n    >\n      <div\n        className={cn(\n          \"h-16 flex items-center border-b border-border/40\",\n          isCollapsed ? \"justify-center px-0\" : \"px-8\",\n        )}\n      >\n        <Link href=\"/\" className=\"flex items-center gap-4 group\">\n          <div className=\"w-16 h-16 p-1 rounded-xl flex items-center justify-center shrink-0 transition-all group-hover:scale-110 group-hover:rotate-6 relative\">\n            <Image\n              src=\"https://res.cloudinary.com/dyi0jxi3g/image/upload/v1771716272/AbuImranLogo_1_aejo3r.svg\"\n              alt=\"Logo\"\n              fill\n              className=\"object-contain\"\n            />\n          </div>\n          {!isCollapsed && (\n            <motion.div\n              initial={{ opacity: 0, x: -10 }}\n              animate={{ opacity: 1, x: 0 }}\n              className=\"flex flex-col\"\n            >\n              <span className=\"font-black text-2xl tracking-tighter leading-none whitespace-nowrap\">\n                {t.sidebar.brand}\n              </span>\n              <span className=\"text-emerald-500 font-black tracking-[0.3em] text-[10px] uppercase opacity-60 mt-1\">\n                {t.sidebar.managementPortal}\n              </span>\n            </motion.div>\n          )}\n        </Link>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto py-10 space-y-8 px-4 custom-scrollbar\">\n        {!isCollapsed && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 0.4 }}\n            className=\"text-[10px] font-black text-muted-foreground uppercase tracking-[0.3em] px-4\"\n          >\n            {t.sidebar.mainControl}\n          </motion.div>\n        )}\n        <motion.nav className=\"space-y-2\">\n          {links.map((link) => {\n            const Icon = link.icon;\n            const isActive = pathname === link.href;\n            return (\n              <motion.div key={link.name}>\n                <Link\n                  href={link.href}\n                  className={cn(\n                    \"relative flex items-center gap-4 py-4 rounded-xl text-sm font-black transition-all duration-300 group overflow-hidden border border-transparent\",\n                    isCollapsed ? \"justify-center px-2\" : \"px-5\",\n                    isActive\n                      ? \"text-emerald-600 shadow-2xl shadow-emerald-500/10 bg-white dark:bg-zinc-900 border-border/50\"\n                      : \"text-muted-foreground hover:text-foreground hover:bg-muted/30\",\n                  )}\n                >\n                  {isActive && (\n                    <motion.div\n                      layoutId=\"active-sidebar-line\"\n                      className=\"absolute right-0 w-1.5 h-10 bg-emerald-600 rounded-l-full shadow-[0_0_20px_rgba(16,185,129,0.5)]\"\n                    />\n                  )}\n                  <div\n                    className={cn(\n                      \"p-2 rounded-xl transition-all duration-300\",\n                      isActive\n                        ? \"bg-emerald-500/10 text-emerald-600\"\n                        : \"bg-transparent text-muted-foreground group-hover:bg-muted group-hover:text-foreground\",\n                    )}\n                  >\n                    <Icon className=\"h-5 w-5 shrink-0\" />\n                  </div>\n                  {!isCollapsed && (\n                    <span className=\"flex-1 whitespace-nowrap tracking-tight\">\n                      {link.name}\n                    </span>\n                  )}\n                </Link>\n              </motion.div>\n            );\n          })}\n        </motion.nav>\n      </div>\n\n      <div\n        className={cn(\n          \"p-6 border-t border-border/40 bg-muted/5\",\n          isCollapsed ? \"px-2\" : \"px-6\",\n        )}\n      >\n        {!isCollapsed ? (\n          <div className=\"bg-card rounded-xl p-3 shadow-inner border border-border/40 relative overflow-hidden group\">\n            <div className=\"absolute -top-4 -right-4 w-16 h-16 bg-emerald-500/5 rounded-full blur-2xl group-hover:scale-150 transition-all duration-700\" />\n            <div className=\"flex items-center gap-3 mb-4 relative z-10\">\n              <div className=\"w-10 h-10 rounded-full bg-white shadow-xl shadow-emerald-500/20 shrink-0 border-2 border-white ring-2 ring-emerald-500/5 relative overflow-hidden flex items-center justify-center p-1\">\n                <Image src=\"/icon0.svg\" alt=\"Admin Profile\" className=\"object-contain\" fill />\n              </div>\n              <div className=\"overflow-hidden space-y-0.5\">\n                <p className=\"text-xs font-black text-foreground truncate uppercase tracking-tighter\">\n                  {t.sidebar.adminUser}\n                </p>\n                <p className=\"text-[9px] font-black text-emerald-600 uppercase tracking-widest opacity-70\">\n                  {t.sidebar.role}\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"flex w-full items-center justify-center gap-2 rounded-xl px-3 py-2 text-xs font-black text-red-500 bg-red-500/5 hover:bg-red-500 hover:text-white transition-all duration-300 border border-red-500/10 hover:border-red-500 shadow-sm\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n              {t.sidebar.logout}\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex flex-col gap-6 items-center\">\n            <div className=\"w-12 h-12 rounded-full bg-white shadow-xl shadow-emerald-500/20 shrink-0 border-2 border-white relative overflow-hidden flex items-center justify-center p-1\">\n              <Image src=\"/icon0.svg\" alt=\"Admin Profile\" className=\"object-contain\" fill />\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"text-red-500 bg-red-500/5 hover:bg-red-500 hover:text-white p-3.5 rounded-xl transition-all border border-red-500/10\"\n            >\n              <LogOut className=\"h-5 w-5\" />\n            </button>\n          </div>\n        )}\n      </div>\n\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"absolute -right-3 top-24 h-6 w-6 rounded-full border bg-background shadow-md lg:flex hidden\"\n        onClick={() => setIsCollapsed(!isCollapsed)}\n      >\n        {isCollapsed ? (\n          <PanelLeftOpen className=\"h-3 w-3\" />\n        ) : (\n          <PanelLeftClose className=\"h-3 w-3\" />\n        )}\n      </Button>\n    </aside>\n  );\n}\n\nexport function MobileSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const supabase = createClient();\n  const [open, setOpen] = useState(false);\n  const { t, isRTL } = useI18n();\n\n  const links = [\n    { name: t.sidebar.overview, href: \"/\", icon: LayoutDashboard },\n    { name: t.sidebar.orders, href: \"/orders\", icon: ShoppingCart },\n    { name: t.sidebar.inventory, href: \"/inventory/breeds\", icon: Package },\n    { name: t.sidebar.customers, href: \"/customers\", icon: Users },\n    { name: \"╪º┘ä╪Ñ╪¡╪╡╪º╪ª┘è╪º╪¬\", href: \"/analytics\", icon: LayoutDashboard },\n    { name: t.sidebar.settings, href: \"/settings\", icon: Settings },\n  ];\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/login\");\n    router.refresh();\n  };\n\n  return (\n    <Sheet open={open} onOpenChange={setOpen}>\n      <SheetTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"lg:hidden\">\n          <Menu className=\"h-6 w-6\" />\n        </Button>\n      </SheetTrigger>\n      <SheetContent\n        side={isRTL ? \"right\" : \"left\"}\n        className={cn(\n          \"w-72 p-0 border-border bg-card/95 backdrop-blur-xl\",\n          isRTL ? \"border-l\" : \"border-r\",\n        )}\n      >\n        <div className=\"h-20 flex items-center px-8 border-b border-border/50\">\n          <Link\n            href=\"/\"\n            onClick={() => setOpen(false)}\n            className=\"flex items-center gap-3 font-black text-2xl tracking-tighter text-emerald-600\"\n          >\n            <div className=\"w-10 h-10 bg-emerald-100 dark:bg-emerald-500/20 rounded-xl flex items-center justify-center text-emerald-600 shadow-sm shrink-0 relative overflow-hidden p-1\">\n              <Image\n                src=\"https://res.cloudinary.com/dyi0jxi3g/image/upload/v1771716272/AbuImranLogo_1_aejo3r.svg\"\n                alt=\"Logo\"\n                fill\n                className=\"object-contain\"\n              />\n            </div>\n            <span>{t.sidebar.brand}</span>\n          </Link>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto py-8 space-y-2 px-4\">\n          <div className=\"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-4 mb-4 opacity-50\">\n            {t.sidebar.menu}\n          </div>\n          <nav className=\"space-y-1\">\n            {links.map((link) => {\n              const Icon = link.icon;\n              const isActive = pathname === link.href;\n              return (\n                <Link\n                  key={link.name}\n                  href={link.href}\n                  onClick={() => setOpen(false)}\n                  className={cn(\n                    \"relative flex items-center gap-4 px-4 py-3.5 rounded-xl text-sm font-black transition-all duration-300 group overflow-hidden\",\n                    isActive\n                      ? \"text-emerald-600 shadow-lg shadow-emerald-500/10 bg-emerald-50 dark:bg-emerald-950/30\"\n                      : \"text-muted-foreground hover:text-foreground hover:bg-muted/50\",\n                  )}\n                >\n                  {isActive && (\n                    <div className=\"absolute right-0 w-1 h-8 bg-emerald-600 rounded-l-full\" />\n                  )}\n                  <Icon\n                    className={cn(\n                      \"h-5 w-5 transition-colors\",\n                      isActive\n                        ? \"text-emerald-600\"\n                        : \"text-muted-foreground group-hover:text-foreground\",\n                    )}\n                  />\n                  <span className=\"flex-1\">{link.name}</span>\n                  {isActive && (\n                    <ChevronRight className=\"w-4 h-4 text-emerald-600 opacity-50\" />\n                  )}\n                </Link>\n              );\n            })}\n          </nav>\n        </div>\n\n        <div className=\"p-6 border-t border-border/50 bg-muted/10 m-4 rounded-xl\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-tr from-green-400 to-green-600 shadow-lg shadow-green-500/20\" />\n            <div>\n              <p className=\"text-sm font-black text-foreground\">\n                {t.sidebar.adminUser}\n              </p>\n              <p className=\"text-xs text-muted-foreground\">{t.sidebar.role}</p>\n            </div>\n          </div>\n          <button\n            onClick={handleLogout}\n            className=\"flex w-full items-center justify-center gap-2 rounded-xl px-4 py-2.5 text-sm font-black text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors border border-transparent hover:border-red-200\"\n          >\n            <LogOut className=\"h-4 w-4\" />\n            {t.sidebar.logout}\n          </button>\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\SystemHealth.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Button"},"fix":{"range":[244,293],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1620,1623],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1620,1623],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'checkHealth'. Either include it or remove the dependency array.","line":65,"column":6,"nodeType":"ArrayExpression","endLine":65,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [checkHealth]","fix":{"range":[1958,1960],"text":"[checkHealth]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { Activity, AlertTriangle, CheckCircle, Database } from \"lucide-react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { useI18n } from \"@/lib/i18n/I18nContext\";\nimport { Button } from \"@/components/ui/button\";\nimport { AnimatedButton } from \"@/components/ui/AnimatedButton\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\n\nexport function SystemHealth() {\n  const supabase = createClient();\n  const { t } = useI18n();\n  const [status, setStatus] = useState<\"healthy\" | \"warning\" | \"error\">(\n    \"healthy\",\n  );\n  const [message, setMessage] = useState(t.systemHealth.normal);\n  const [details, setDetails] = useState<string | null>(null);\n\n  const checkHealth = async () => {\n    try {\n      // 1. Check Connection\n      const { count, error } = await supabase\n        .from(\"products\")\n        .select(\"*\", { count: \"exact\", head: true });\n\n      if (error) {\n        if (error.code === \"PGRST205\") {\n          // Missing Table\n          setStatus(\"error\");\n          setMessage(t.systemHealth.errorTables);\n          setDetails(t.systemHealth.missingTableText);\n        } else {\n          setStatus(\"warning\");\n          setMessage(t.systemHealth.errorConnection);\n          setDetails(error.message);\n        }\n      } else {\n        setStatus(\"healthy\");\n        setMessage(t.systemHealth.normal);\n        setDetails(\n          `${t.systemHealth.connected}. ${count ?? 0} ${t.systemHealth.activeProducts}`,\n        );\n      }\n    } catch (e: any) {\n      setStatus(\"error\");\n      setMessage(t.systemHealth.fail);\n      setDetails(e.message);\n    }\n  };\n\n  useEffect(() => {\n    const runCheck = async () => {\n      await checkHealth();\n    };\n    runCheck();\n    const interval = setInterval(checkHealth, 30000); // Check every 30s\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <Dialog>\n      <DialogTrigger asChild>\n        <div\n          className={`\n                flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold cursor-pointer transition-all hover:bg-opacity-80\n                ${status === \"healthy\" ? \"bg-green-100 text-green-700\" : \"\"}\n                ${status === \"warning\" ? \"bg-yellow-100 text-yellow-700\" : \"\"}\n                ${status === \"error\" ? \"bg-red-100 dark:bg-red-500/20 text-red-700 animate-pulse\" : \"\"}\n            `}\n        >\n          {status === \"healthy\" && <CheckCircle className=\"w-3 h-3\" />}\n          {status === \"warning\" && <Activity className=\"w-3 h-3\" />}\n          {status === \"error\" && <AlertTriangle className=\"w-3 h-3\" />}\n          {message}\n        </div>\n      </DialogTrigger>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Database className=\"w-5 h-5 text-emerald-600\" />{\" \"}\n            {t.systemHealth.diagnostic}\n          </DialogTitle>\n          <DialogDescription className=\"font-bold\">\n            {t.systemHealth.realtimeStatus}\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4 py-4\">\n          <div\n            className={`p-4 rounded-lg border ${\n              status === \"healthy\"\n                ? \"bg-green-50 border-green-200\"\n                : status === \"error\"\n                  ? \"bg-red-50 dark:bg-red-500/10 border-red-200\"\n                  : \"bg-yellow-50 border-yellow-200\"\n            }`}\n          >\n            <h3\n              className={`font-bold ${\n                status === \"healthy\"\n                  ? \"text-green-800\"\n                  : status === \"error\"\n                    ? \"text-red-800\"\n                    : \"text-yellow-800\"\n              }`}\n            >\n              {message}\n            </h3>\n            <p className=\"text-sm text-gray-600 mt-1\">{details}</p>\n          </div>\n\n          {status === \"error\" && details?.includes(\"products\") && (\n            <div className=\"bg-gray-900 text-gray-300 p-3 rounded-md text-xs font-mono overflow-auto max-h-40\">\n              {`-- Run this in Supabase SQL Editor:\ncreate table public.products (\n  id uuid default gen_random_uuid() primary key,\n  created_at timestamp with time zone default timezone('utc'::text, now()) not null,\n  category text not null,\n  subcategory text,\n  name_en text not null,\n  name_ar text,\n  description text,\n  image_url text,\n  price numeric default 0,\n  stock int default 0,\n  is_active boolean default true\n);\n\nalter table public.products enable row level security;\ncreate policy \"Public Read Products\" on public.products for select using (true);\ncreate policy \"Public Edit Products\" on public.products for all using (true) with check (true);\n\ninsert into public.products (category, subcategory, name_en, price, stock) values\n('livestock', 'brahma', 'Brahma Blue', 300, 100),\n('livestock', 'brahma', 'Brahma Buff', 300, 100),\n('machine', 'incubator', 'Automatic 48 Eggs', 12000, 10);\n`}\n            </div>\n          )}\n\n          <AnimatedButton\n            onClick={checkHealth}\n            className=\"w-full h-14 rounded-xl bg-emerald-600 text-white shadow-lg shadow-emerald-500/20 font-black text-lg\"\n          >\n            {t.systemHealth.reRun}\n          </AnimatedButton>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ThemeProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\analytics\\PerformanceMetrics.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronDown' is defined but never used.","line":27,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronDown"},"fix":{"range":[401,416],"text":""},"desc":"Remove unused variable \"ChevronDown\"."}]},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `filterData`, but the source dependencies were [revenueData, timeRange, customFrom, customTo]. Inferred different dependency than source.\n\nC:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\analytics\\PerformanceMetrics.tsx:157:5\n  155 |\n  156 |   const filteredRevenue = useMemo(\n> 157 |     () => filterData(revenueData),\n      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Could not preserve existing manual memoization\n  158 |     [revenueData, timeRange, customFrom, customTo],\n  159 |   );\n  160 |   const filteredTrends = useMemo(","line":157,"column":5,"nodeType":null,"endLine":157,"endColumn":34},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has a missing dependency: 'filterData'. Either include it or remove the dependency array.","line":158,"column":5,"nodeType":"ArrayExpression","endLine":158,"endColumn":51,"suggestions":[{"desc":"Update the dependencies array to be: [filterData, revenueData]","fix":{"range":[3742,3788],"text":"[filterData, revenueData]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'filteredTrends' is assigned a value but never used.","line":160,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":160,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has a missing dependency: 'filterData'. Either include it or remove the dependency array.","line":162,"column":5,"nodeType":"ArrayExpression","endLine":162,"endColumn":51,"suggestions":[{"desc":"Update the dependencies array to be: [filterData, orderTrends]","fix":{"range":[3868,3914],"text":"[filterData, orderTrends]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState, useMemo } from \"react\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n} from \"recharts\";\nimport { motion } from \"framer-motion\";\nimport {\n  TrendingUp,\n  Package,\n  DollarSign,\n  Calendar,\n  ChevronDown,\n} from \"lucide-react\";\nimport { clsx } from \"clsx\";\nimport {\n  startOfDay,\n  startOfWeek,\n  startOfMonth,\n  startOfYear,\n  isWithinInterval,\n  parseISO,\n} from \"date-fns\";\n\nexport interface RevenueDataPoint {\n  name: string;\n  revenue: number;\n  date?: string;\n}\n\nexport interface ProductSalePoint {\n  name: string;\n  sales: number;\n}\n\nexport interface CategoryRevenuePoint {\n  name: string;\n  value: number;\n}\n\ninterface MetricsProps {\n  revenueData: RevenueDataPoint[];\n  orderTrends: RevenueDataPoint[];\n  topProducts: ProductSalePoint[];\n  categoryData?: CategoryRevenuePoint[];\n}\n\ntype TimeRange = \"today\" | \"week\" | \"month\" | \"year\" | \"all\" | \"custom\";\n\nconst TIME_FILTERS: { label: string; value: TimeRange }[] = [\n  { label: \"╪º┘ä┘è┘ê┘à\", value: \"today\" },\n  { label: \"┘ç╪░╪º ╪º┘ä╪ú╪│╪¿┘ê╪╣\", value: \"week\" },\n  { label: \"┘ç╪░╪º ╪º┘ä╪┤┘ç╪▒\", value: \"month\" },\n  { label: \"┘ç╪░╪º ╪º┘ä╪╣╪º┘à\", value: \"year\" },\n  { label: \"╪º┘ä┘â┘ä\", value: \"all\" },\n  { label: \"┘à╪«╪╡╪╡\", value: \"custom\" },\n];\n\nconst CATEGORY_LABELS: Record<string, string> = {\n  eggs: \"╪º┘ä╪¿┘è╪╢\",\n  chicks: \"╪º┘ä┘â╪¬╪º┘â┘è╪¬\",\n  chickens: \"╪º┘ä╪»╪¼╪º╪¼\",\n  machine: \"╪º┘ä╪ú╪¼┘ç╪▓╪⌐\",\n};\n\nconst CATEGORY_COLORS: Record<\n  string,\n  { bg: string; text: string; bar: string }\n> = {\n  eggs: {\n    bg: \"bg-orange-100 dark:bg-orange-900/30\",\n    text: \"text-orange-600\",\n    bar: \"bg-orange-500\",\n  },\n  chicks: {\n    bg: \"bg-emerald-100 dark:bg-emerald-900/30\",\n    text: \"text-emerald-600\",\n    bar: \"bg-emerald-500\",\n  },\n  chickens: {\n    bg: \"bg-purple-100 dark:bg-purple-900/30\",\n    text: \"text-purple-600\",\n    bar: \"bg-purple-500\",\n  },\n  machine: {\n    bg: \"bg-blue-100 dark:bg-blue-900/30\",\n    text: \"text-blue-600\",\n    bar: \"bg-blue-500\",\n  },\n};\n\nfunction getRangeStart(range: TimeRange): Date | null {\n  const now = new Date();\n  switch (range) {\n    case \"today\":\n      return startOfDay(now);\n    case \"week\":\n      return startOfWeek(now, { weekStartsOn: 6 });\n    case \"month\":\n      return startOfMonth(now);\n    case \"year\":\n      return startOfYear(now);\n    default:\n      return null;\n  }\n}\n\nexport const PerformanceMetrics = ({\n  revenueData,\n  orderTrends,\n  topProducts,\n  categoryData,\n}: MetricsProps) => {\n  const [timeRange, setTimeRange] = useState<TimeRange>(\"month\");\n  const [customFrom, setCustomFrom] = useState(\"\");\n  const [customTo, setCustomTo] = useState(\"\");\n  const [showCustom, setShowCustom] = useState(false);\n\n  const filterData = (data: RevenueDataPoint[]): RevenueDataPoint[] => {\n    if (!data) return data;\n    if (timeRange === \"all\") return data;\n    if (timeRange === \"custom\") {\n      if (!customFrom && !customTo) return data;\n      const from = customFrom ? new Date(customFrom) : new Date(0);\n      const to = customTo ? new Date(customTo + \"T23:59:59\") : new Date();\n      return data.filter((d) => {\n        const date = d.date ? parseISO(d.date) : null;\n        if (!date) return true;\n        return isWithinInterval(date, { start: from, end: to });\n      });\n    }\n    const rangeStart = getRangeStart(timeRange);\n    if (!rangeStart) return data;\n    const today = new Date();\n    return data.filter((d) => {\n      const date = d.date ? parseISO(d.date) : null;\n      if (!date) return true;\n      return isWithinInterval(date, { start: rangeStart, end: today });\n    });\n  };\n\n  const filteredRevenue = useMemo(\n    () => filterData(revenueData),\n    [revenueData, timeRange, customFrom, customTo],\n  );\n  const filteredTrends = useMemo(\n    () => filterData(orderTrends),\n    [orderTrends, timeRange, customFrom, customTo],\n  );\n\n  const tooltipStyle = {\n    borderRadius: \"1rem\",\n    border: \"none\",\n    boxShadow: \"0 20px 40px -12px rgba(0,0,0,0.2)\",\n    fontWeight: 900,\n    fontSize: \"13px\",\n    backgroundColor: \"var(--card, #fff)\",\n    color: \"var(--foreground, #000)\",\n    backdropFilter: \"blur(12px)\",\n  };\n\n  const handleRangeChange = (value: TimeRange) => {\n    setTimeRange(value);\n    setShowCustom(value === \"custom\");\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Time Filter Bar */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n        <h2 className=\"text-lg font-black tracking-tight opacity-60\">\n          ╪¬╪¡┘ä┘è┘ä ╪º┘ä╪ú╪»╪º╪í\n        </h2>\n        <div className=\"flex flex-col items-end gap-2\">\n          <div className=\"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50 flex-wrap\">\n            {TIME_FILTERS.map((f) => (\n              <button\n                key={f.value}\n                onClick={() => handleRangeChange(f.value)}\n                className={clsx(\n                  \"px-3 py-1.5 rounded-lg text-xs font-black transition-all whitespace-nowrap flex items-center gap-1\",\n                  timeRange === f.value\n                    ? \"bg-emerald-600 text-white shadow-md shadow-emerald-500/20\"\n                    : \"text-muted-foreground hover:text-foreground hover:bg-muted\",\n                )}\n              >\n                {f.value === \"custom\" && <Calendar className=\"w-3 h-3\" />}\n                {f.label}\n              </button>\n            ))}\n          </div>\n\n          {/* Custom date range inputs */}\n          {showCustom && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: \"auto\" }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"flex items-center gap-2 bg-muted/30 border border-border/50 rounded-xl px-3 py-2\"\n            >\n              <label className=\"text-[10px] font-black text-muted-foreground uppercase tracking-widest\">\n                ┘à┘å\n              </label>\n              <input\n                type=\"date\"\n                value={customFrom}\n                onChange={(e) => setCustomFrom(e.target.value)}\n                className=\"text-xs font-black bg-transparent border-none outline-none text-foreground\"\n              />\n              <span className=\"text-muted-foreground/50 text-xs\">ΓÇö</span>\n              <label className=\"text-[10px] font-black text-muted-foreground uppercase tracking-widest\">\n                ╪Ñ┘ä┘ë\n              </label>\n              <input\n                type=\"date\"\n                value={customTo}\n                onChange={(e) => setCustomTo(e.target.value)}\n                className=\"text-xs font-black bg-transparent border-none outline-none text-foreground\"\n              />\n            </motion.div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* Revenue Trend Area Chart */}\n        <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden\">\n          <CardHeader className=\"p-8 pb-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-1\">\n                <CardTitle className=\"text-3xl font-black tracking-tighter\">\n                  ╪Ñ╪¡╪╡╪º╪ª┘è╪º╪¬ ╪º┘ä┘à╪¿┘è╪╣╪º╪¬\n                </CardTitle>\n                <CardDescription className=\"font-bold text-base opacity-60\">\n                  ╪¬╪¬╪¿╪╣ ╪º┘ä╪Ñ┘è╪▒╪º╪»╪º╪¬ ┘ê╪¡╪¼┘à ╪º┘ä┘å┘à┘ê ╪º┘ä┘à╪º┘ä┘è\n                </CardDescription>\n              </div>\n              <div className=\"w-14 h-14 rounded-xl bg-emerald-500/10 dark:bg-emerald-500/20 flex items-center justify-center text-emerald-600\">\n                <TrendingUp className=\"w-7 h-7\" />\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-8 pt-4 h-[360px]\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <AreaChart\n                data={filteredRevenue}\n                margin={{ top: 10, right: 10, left: 0, bottom: 0 }}\n              >\n                <defs>\n                  <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\n                    <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\n                  </linearGradient>\n                </defs>\n                <CartesianGrid\n                  strokeDasharray=\"3 3\"\n                  vertical={false}\n                  stroke=\"currentColor\"\n                  className=\"text-border/30\"\n                  opacity={0.4}\n                />\n                <XAxis\n                  dataKey=\"name\"\n                  axisLine={false}\n                  tickLine={false}\n                  tick={{\n                    fontSize: 10,\n                    fontWeight: 900,\n                    fill: \"currentColor\",\n                    opacity: 0.4,\n                  }}\n                  dy={10}\n                />\n                <YAxis\n                  orientation=\"right\"\n                  axisLine={false}\n                  tickLine={false}\n                  tick={{\n                    fontSize: 10,\n                    fontWeight: 900,\n                    fill: \"currentColor\",\n                    opacity: 0.4,\n                  }}\n                  tickFormatter={(v) => `${(v / 1000).toFixed(0)}k`}\n                  width={40}\n                />\n                <Tooltip\n                  contentStyle={tooltipStyle}\n                  formatter={(value: number | undefined) => [\n                    `${(value ?? 0).toLocaleString()} ╪»╪¼`,\n                    \"╪º┘ä╪Ñ┘è╪▒╪º╪»╪º╪¬\",\n                  ]}\n                  labelStyle={{ opacity: 0.6, fontWeight: 900 }}\n                />\n                <Area\n                  type=\"monotone\"\n                  dataKey=\"revenue\"\n                  stroke=\"#10b981\"\n                  strokeWidth={3}\n                  fillOpacity={1}\n                  fill=\"url(#colorRevenue)\"\n                  animationDuration={800}\n                  dot={false}\n                  activeDot={{\n                    r: 5,\n                    fill: \"#10b981\",\n                    stroke: \"#fff\",\n                    strokeWidth: 2,\n                  }}\n                />\n              </AreaChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Top Products Bar Chart */}\n        <Card className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card overflow-hidden\">\n          <CardHeader className=\"p-8 pb-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-1\">\n                <CardTitle className=\"text-3xl font-black tracking-tighter\">\n                  ╪º┘ä┘à┘å╪¬╪¼╪º╪¬ ╪º┘ä╪ú┘â╪½╪▒ ╪╖┘ä╪¿╪º┘ï\n                </CardTitle>\n                <CardDescription className=\"font-bold text-base opacity-60\">\n                  ╪¬╪¡┘ä┘è┘ä ╪ú╪»╪º╪í ╪º┘ä┘à╪«╪▓┘ê┘å ┘ê╪º┘ä╪╖┘ä╪¿\n                </CardDescription>\n              </div>\n              <div className=\"w-14 h-14 rounded-xl bg-indigo-500/10 dark:bg-indigo-500/20 flex items-center justify-center text-indigo-600\">\n                <Package className=\"w-7 h-7\" />\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-8 pt-4 h-[360px]\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart\n                data={topProducts}\n                layout=\"vertical\"\n                margin={{ top: 0, right: 30, left: 40, bottom: 0 }}\n              >\n                <CartesianGrid\n                  strokeDasharray=\"3 3\"\n                  horizontal={false}\n                  stroke=\"currentColor\"\n                  className=\"text-border/30\"\n                  opacity={0.4}\n                />\n                <XAxis type=\"number\" hide />\n                <YAxis\n                  dataKey=\"name\"\n                  type=\"category\"\n                  axisLine={false}\n                  tickLine={false}\n                  tick={{\n                    fontSize: 10,\n                    fontWeight: 900,\n                    fill: \"currentColor\",\n                    opacity: 0.6,\n                  }}\n                  tickFormatter={(value) =>\n                    typeof value === \"string\" && value.length > 15\n                      ? value.substring(0, 15) + \"...\"\n                      : value\n                  }\n                  width={110}\n                  orientation=\"right\"\n                />\n                <Tooltip\n                  cursor={{ fill: \"rgba(99, 102, 241, 0.05)\" }}\n                  contentStyle={tooltipStyle}\n                  formatter={(value: number | undefined) => [\n                    (value ?? 0).toLocaleString(),\n                    \"╪º┘ä┘à╪¿┘è╪╣╪º╪¬\",\n                  ]}\n                />\n                <Bar\n                  dataKey=\"sales\"\n                  fill=\"#6366f1\"\n                  radius={[10, 0, 0, 10]}\n                  barSize={28}\n                  animationDuration={800}\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Category Breakdown Row */}\n      {categoryData && categoryData.length > 0 && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {categoryData.map((cat, i) => {\n            const colors =\n              CATEGORY_COLORS[cat.name] || CATEGORY_COLORS[\"machine\"];\n            const label = CATEGORY_LABELS[cat.name] || cat.name;\n\n            return (\n              <Card\n                key={i}\n                className=\"border border-border/40 shadow-sm rounded-xl bg-white dark:bg-card p-8 group hover:-translate-y-1 transition-all duration-300 relative overflow-hidden\"\n              >\n                <div className=\"flex items-center justify-between mb-6\">\n                  <div\n                    className={clsx(\n                      \"w-12 h-12 rounded-xl flex items-center justify-center shadow-inner\",\n                      colors.bg,\n                      colors.text,\n                    )}\n                  >\n                    <DollarSign className=\"w-6 h-6\" />\n                  </div>\n                  <span className=\"text-[10px] font-black uppercase tracking-[0.25em] text-muted-foreground opacity-50\">\n                    {label}\n                  </span>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-3xl font-black tracking-tighter tabular-nums\">\n                    {cat.value.toLocaleString()}{\" \"}\n                    <span className=\"text-xs font-black opacity-30\">╪»╪¼</span>\n                  </div>\n                  <p className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground opacity-50\">\n                    ╪Ñ╪¼┘à╪º┘ä┘è ╪º┘ä╪Ñ┘è╪▒╪º╪»╪º╪¬\n                  </p>\n                </div>\n                <div className=\"mt-6 h-1.5 bg-muted rounded-full overflow-hidden\">\n                  <motion.div\n                    initial={{ width: 0 }}\n                    animate={{ width: \"100%\" }}\n                    transition={{\n                      duration: 1.2,\n                      delay: i * 0.15,\n                      ease: \"easeOut\",\n                    }}\n                    className={clsx(\"h-full rounded-full\", colors.bar)}\n                  />\n                </div>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\analytics\\RevenueChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'endOfDay' is defined but never used.","line":15,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":47,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"endOfDay"},"fix":{"range":[351,361],"text":""},"desc":"Remove unused variable \"endOfDay\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1216,1219],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1216,1219],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":69,"column":6,"nodeType":"ArrayExpression","endLine":69,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [selectedCategory, supabase]","fix":{"range":[1947,1965],"text":"[selectedCategory, supabase]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Area,\n  AreaChart,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n} from \"recharts\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { format, subDays, startOfDay, endOfDay } from \"date-fns\";\n\nexport function RevenueChart() {\n  const [data, setData] = useState<{ date: string; total: number }[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"all\");\n  const supabase = createClient();\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      const today = new Date();\n      const startDate = subDays(today, 7); // Last 7 days\n\n      let query = supabase\n        .from(\"orders\")\n        .select(\"created_at, total_amount, category\")\n        .gte(\"created_at\", startOfDay(startDate).toISOString())\n        .neq(\"status\", \"cancelled\");\n\n      if (selectedCategory !== \"all\") {\n        query = query.eq(\"category\", selectedCategory);\n      }\n\n      const { data: orders } = await query;\n      const ordersData = (orders || []) as any[];\n\n      // Group by day\n      const grouped = new Map<string, number>();\n\n      // Initialize last 7 days with 0\n      for (let i = 6; i >= 0; i--) {\n        const d = subDays(today, i);\n        grouped.set(format(d, \"MMM dd\"), 0);\n      }\n\n      ordersData.forEach((order) => {\n        const dateStr = format(new Date(order.created_at), \"MMM dd\");\n        const amount = order.total_amount || 0;\n        if (grouped.has(dateStr)) {\n          grouped.set(dateStr, (grouped.get(dateStr) || 0) + amount);\n        }\n      });\n\n      const chartData = Array.from(grouped.entries()).map(([date, total]) => ({\n        date,\n        total,\n      }));\n\n      setData(chartData);\n      setLoading(false);\n    }\n\n    fetchData();\n  }, [selectedCategory]);\n\n  if (loading)\n    return (\n      <div className=\"h-[350px] flex items-center justify-center text-muted-foreground\">\n        Loading chart...\n      </div>\n    );\n\n  return (\n    <Card className=\"col-span-4 shadow-lg border-none\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0\">\n        <CardTitle>Revenue Overview</CardTitle>\n        <div className=\"flex gap-1 bg-muted p-1 rounded-lg\">\n          {[\"all\", \"eggs\", \"chicks\", \"machine\"].map((cat) => (\n            <button\n              key={cat}\n              onClick={() => setSelectedCategory(cat)}\n              className={`px-3 py-1 text-[10px] font-black uppercase tracking-widest rounded-md transition-all ${selectedCategory === cat ? \"bg-background shadow-sm text-emerald-600\" : \"text-muted-foreground\"}`}\n            >\n              {cat === \"all\"\n                ? \"╪º┘ä┘â┘ä\"\n                : cat === \"eggs\"\n                  ? \"╪¿┘è╪╢\"\n                  : cat === \"chicks\"\n                    ? \"╪╡┘è╪╡╪º┘å\"\n                    : \"╪╣╪¬╪º╪»\"}\n            </button>\n          ))}\n        </div>\n      </CardHeader>\n      <CardContent className=\"pl-2\">\n        <div className=\"h-[350px] w-full\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <AreaChart data={data}>\n              <defs>\n                <linearGradient id=\"colorTotal\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              <XAxis\n                dataKey=\"date\"\n                stroke=\"#888888\"\n                fontSize={12}\n                tickLine={false}\n                axisLine={false}\n              />\n              <YAxis\n                stroke=\"#888888\"\n                fontSize={12}\n                tickLine={false}\n                axisLine={false}\n                tickFormatter={(value) => `${value}DA`}\n              />\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--card))\",\n                  borderRadius: \"8px\",\n                  border: \"1px solid hsl(var(--border))\",\n                }}\n                itemStyle={{ color: \"hsl(var(--foreground))\" }}\n                cursor={{ stroke: \"#10b981\", strokeWidth: 1 }}\n              />\n              <Area\n                type=\"monotone\"\n                dataKey=\"total\"\n                stroke=\"#10b981\"\n                strokeWidth={3}\n                fillOpacity={1}\n                fill=\"url(#colorTotal)\"\n              />\n            </AreaChart>\n          </ResponsiveContainer>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\dashboard\\DashboardContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\orders\\EditOrderDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1871,1874],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1871,1874],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1923,1926],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1923,1926],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport { useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { toast } from \"sonner\";\nimport type { OrderWithRelations } from \"@/types/orders\";\n\ninterface EditOrderDialogProps {\n  order: OrderWithRelations | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSuccess: () => void;\n}\n\nexport function EditOrderDialog({\n  order,\n  open,\n  onOpenChange,\n  onSuccess,\n}: EditOrderDialogProps) {\n  const [loading, setLoading] = useState(false);\n  const supabase = createClient();\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!order) return;\n\n    setLoading(true);\n    const formData = new FormData(e.currentTarget);\n\n    const updates = {\n      status: formData.get(\"status\") as\n        | \"pending\"\n        | \"shipped\"\n        | \"delivered\"\n        | \"cancelled\",\n      product_name: formData.get(\"product_name\") as string,\n      quantity: Number(formData.get(\"quantity\")),\n      price: Number(formData.get(\"price\")),\n      // Calculate total if price/quantity changes?\n      // ideally backend trigger, but let's be explicit\n      customer_name: formData.get(\"customer_name\") as string,\n      phone_number: formData.get(\"phone_number\") as string,\n      wilaya_address: formData.get(\"wilaya_address\") as string,\n      total_amount:\n        Number(formData.get(\"quantity\")) * Number(formData.get(\"price\")),\n    };\n\n    const { error } = await (supabase as any)\n      .from(\"orders\")\n      .update(updates as any)\n      .eq(\"id\", order.id);\n\n    if (error) {\n      toast.error(\"Failed to update order\");\n      console.error(error);\n    } else {\n      toast.success(\"Order updated successfully\");\n      onSuccess();\n      onOpenChange(false);\n    }\n    setLoading(false);\n  };\n\n  if (!order) return null;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[500px] border-none shadow-2xl rounded-xl bg-white dark:bg-card overflow-hidden p-0\">\n        <DialogHeader className=\"p-8 pb-0\">\n          <DialogTitle className=\"text-2xl font-black tracking-tighter\">\n            ╪¬╪╣╪»┘è┘ä ╪º┘ä╪╖┘ä╪¿┘è╪⌐ #{order.id.slice(0, 8)}\n          </DialogTitle>\n          <DialogDescription className=\"font-black opacity-60\">\n            ┘é┘à ╪¿╪¬╪¡╪»┘è╪½ ╪¬┘ü╪º╪╡┘è┘ä ╪º┘ä╪╖┘ä╪¿┘è╪⌐. ╪¬╪ú┘â╪» ┘à┘å ╪╡╪¡╪⌐ ╪º┘ä╪¿┘è╪º┘å╪º╪¬ ┘é╪¿┘ä ╪º┘ä╪¡┘ü╪╕.\n          </DialogDescription>\n        </DialogHeader>\n        <form\n          onSubmit={handleSubmit}\n          className=\"grid gap-6 p-8 pt-6 max-h-[80vh] overflow-y-auto\"\n        >\n          <div className=\"grid gap-2\">\n            <Label\n              htmlFor=\"customer_name\"\n              className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n            >\n              ╪º╪│┘à ╪º┘ä╪▓╪¿┘ê┘å\n            </Label>\n            <Input\n              id=\"customer_name\"\n              name=\"customer_name\"\n              defaultValue={order.customer_name ?? \"\"}\n              className=\"h-12 rounded-xl bg-zinc-50 dark:bg-zinc-900 border-border/50 font-black focus:ring-emerald-500\"\n            />\n          </div>\n          <div className=\"grid gap-2\">\n            <Label\n              htmlFor=\"phone_number\"\n              className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n            >\n              ╪▒┘é┘à ╪º┘ä┘ç╪º╪¬┘ü\n            </Label>\n            <Input\n              id=\"phone_number\"\n              name=\"phone_number\"\n              defaultValue={order.phone_number ?? \"\"}\n              className=\"h-12 rounded-xl bg-zinc-50 dark:bg-zinc-900 border-border/50 font-black font-mono tracking-widest focus:ring-emerald-500\"\n              dir=\"ltr\"\n            />\n          </div>\n          <div className=\"grid gap-2\">\n            <Label\n              htmlFor=\"wilaya_address\"\n              className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n            >\n              ╪º┘ä╪╣┘å┘ê╪º┘å / ╪º┘ä┘ê┘ä╪º┘è╪⌐\n            </Label>\n            <Input\n              id=\"wilaya_address\"\n              name=\"wilaya_address\"\n              defaultValue={order.wilaya_address ?? \"\"}\n              className=\"h-12 rounded-xl bg-zinc-50 dark:bg-zinc-900 border-border/50 font-black focus:ring-emerald-500\"\n            />\n          </div>\n          <div className=\"grid gap-2\">\n            <Label\n              htmlFor=\"product_name\"\n              className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n            >\n              ╪º┘ä┘à┘å╪¬╪¼\n            </Label>\n            <Input\n              id=\"product_name\"\n              name=\"product_name\"\n              defaultValue={order.product_name ?? \"\"}\n              className=\"h-12 rounded-xl bg-zinc-50 dark:bg-zinc-900 border-border/50 font-black focus:ring-emerald-500\"\n            />\n          </div>\n          <div className=\"grid gap-2\">\n            <Label\n              htmlFor=\"status\"\n              className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n            >\n              ╪¡╪º┘ä╪⌐ ╪º┘ä╪╖┘ä╪¿\n            </Label>\n            <div>\n              <Select name=\"status\" defaultValue={order.status ?? \"pending\"}>\n                <SelectTrigger className=\"h-12 rounded-xl bg-zinc-50 dark:bg-zinc-900 border-border/50 font-black focus:ring-emerald-500/50 transition-all\">\n                  <SelectValue placeholder=\"╪º╪«╪¬╪▒ ╪º┘ä╪¡╪º┘ä╪⌐\" />\n                </SelectTrigger>\n                <SelectContent className=\"rounded-xl border-border/50 shadow-xl font-black dark:bg-zinc-950\">\n                  <SelectItem value=\"pending\">┘é┘è╪» ╪º┘ä╪º┘å╪¬╪╕╪º╪▒</SelectItem>\n                  <SelectItem value=\"shipped\">╪¬┘à ╪º┘ä╪┤╪¡┘å</SelectItem>\n                  <SelectItem value=\"delivered\">╪¬┘à ╪º┘ä╪¬╪│┘ä┘è┘à</SelectItem>\n                  <SelectItem value=\"cancelled\">┘à┘ä╪║╪º╪⌐</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"grid gap-2\">\n              <Label\n                htmlFor=\"quantity\"\n                className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n              >\n                ╪º┘ä┘â┘à┘è╪⌐\n              </Label>\n              <Input\n                id=\"quantity\"\n                name=\"quantity\"\n                type=\"number\"\n                defaultValue={order.quantity ?? 1}\n                className=\"h-12 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-500/30 text-emerald-900 dark:text-emerald-100 font-black focus:ring-emerald-500\"\n              />\n            </div>\n            <div className=\"grid gap-2\">\n              <Label\n                htmlFor=\"price\"\n                className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground me-1\"\n              >\n                ╪º┘ä╪│╪╣╪▒ ╪º┘ä┘ü╪▒╪»┘è\n              </Label>\n              <Input\n                id=\"price\"\n                name=\"price\"\n                type=\"number\"\n                defaultValue={order.price ?? 0}\n                className=\"h-12 rounded-xl bg-muted/50 border-none font-black\"\n              />\n            </div>\n          </div>\n\n          <DialogFooter className=\"p-8 pt-4 border-t border-dashed mt-4\">\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full h-14 rounded-xl bg-emerald-600 text-white shadow-xl shadow-emerald-500/20 font-black text-lg hover:bg-emerald-700\"\n            >\n              {loading ? \"╪¼╪º╪▒┘è ╪º┘ä╪¡┘ü╪╕...\" : \"╪¡┘ü╪╕ ╪º┘ä╪¬╪║┘è┘è╪▒╪º╪¬\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\AlgeriaMap.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onWilayaSelect'. Either include it or remove the dependency array. If 'onWilayaSelect' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":110,"column":6,"nodeType":"ArrayExpression","endLine":110,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [data, onWilayaSelect]","fix":{"range":[3825,3831],"text":"[data, onWilayaSelect]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\ninterface AlgeriaMapProps {\n  onWilayaSelect?: (wilaya: WilayaInfo) => void;\n  data?: Record<string, number>; // Map of wilaya ID to value (e.g. order count)\n  dataLabel?: string;\n  className?: string;\n}\n\nexport interface WilayaInfo {\n  id: string;\n  name: string;\n  nameLatin: string;\n  nameAr: string;\n  value?: number;\n}\n\nexport default function AlgeriaMap({\n  onWilayaSelect,\n  data = {},\n  dataLabel = \"Orders\",\n  className = \"\",\n}: AlgeriaMapProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [hoveredWilaya, setHoveredWilaya] = useState<WilayaInfo | null>(null);\n  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });\n\n  useEffect(() => {\n    fetch(\"/images/algeria-69.svg\")\n      .then((res) => res.text())\n      .then((svgText) => {\n        if (containerRef.current) {\n          containerRef.current.innerHTML = svgText;\n          const svg = containerRef.current.querySelector(\"svg\");\n          if (svg) {\n            svg.setAttribute(\"width\", \"100%\");\n            svg.setAttribute(\"height\", \"100%\");\n            svg.classList.add(\"w-full\", \"h-full\");\n\n            const paths = svg.querySelectorAll(\"path\");\n\n            // Find max value for heatmap scaling\n            const values = Object.values(data);\n            const maxValue = values.length > 0 ? Math.max(...values, 1) : 1;\n\n            paths.forEach((path) => {\n              const id = path.id;\n              const value = data[id] || 0;\n\n              // Initial styling\n              path.style.transition = \"fill 0.3s ease, stroke 0.3s ease\";\n              path.style.cursor = \"pointer\";\n              path.style.stroke = \"#d1d5db\"; // gray-300\n              path.style.strokeWidth = \"1px\";\n\n              const updateStyle = () => {\n                if (value > 0) {\n                  // Heatmap scaling (Emerald/Green scale)\n                  // HSL: Emerald-500 is 161, 64%, 44%\n                  const intensity = Math.min(value / maxValue, 1);\n                  // From light green to deep emerald\n                  const lightness = 95 - intensity * 50;\n                  path.style.fill = `hsl(161, 70%, ${lightness}%)`;\n                  path.style.stroke = \"hsl(161, 80%, 20%)\";\n                  path.style.strokeWidth = \"1.5px\";\n                } else {\n                  path.style.fill = \"#f4f4f5\"; // zinc-100\n                  path.style.stroke = \"#d4d4d8\"; // zinc-300\n                }\n              };\n\n              updateStyle();\n\n              path.addEventListener(\"mouseenter\", () => {\n                path.style.fill = \"#fbbf24\"; // amber-400 on hover\n                setHoveredWilaya({\n                  id: path.id,\n                  name: path.getAttribute(\"data-name\") || \"\",\n                  nameLatin: path.getAttribute(\"data-name-latin\") || \"\",\n                  nameAr: path.getAttribute(\"data-name-ar\") || \"\",\n                  value: data[path.id] || 0,\n                });\n              });\n\n              path.addEventListener(\"mouseleave\", () => {\n                updateStyle();\n                setHoveredWilaya(null);\n              });\n\n              path.addEventListener(\"mousemove\", (e: MouseEvent) => {\n                setMousePos({ x: e.clientX, y: e.clientY });\n              });\n\n              path.addEventListener(\"click\", () => {\n                if (onWilayaSelect) {\n                  onWilayaSelect({\n                    id: path.id,\n                    name: path.getAttribute(\"data-name\") || \"\",\n                    nameLatin: path.getAttribute(\"data-name-latin\") || \"\",\n                    nameAr: path.getAttribute(\"data-name-ar\") || \"\",\n                    value: data[path.id] || 0,\n                  });\n                }\n              });\n            });\n          }\n        }\n      });\n  }, [data]);\n\n  return (\n    <div className={`relative ${className}`}>\n      <div ref={containerRef} className=\"w-full h-full\" />\n\n      {hoveredWilaya && (\n        <div\n          className=\"fixed z-50 pointer-events-none bg-black/90 backdrop-blur-md text-white px-4 py-3 rounded-xl shadow-2xl border border-white/20 text-sm flex flex-col gap-1 min-w-[140px]\"\n          style={{\n            left: mousePos.x + 20,\n            top: mousePos.y + 20,\n          }}\n        >\n          <div className=\"flex items-center justify-between gap-4\">\n            <span className=\"font-black text-emerald-400 text-lg\">\n              {hoveredWilaya.nameAr}\n            </span>\n            <span className=\"text-[10px] font-bold opacity-40 uppercase tracking-widest text-right\">\n              #{hoveredWilaya.id}\n            </span>\n          </div>\n          <span className=\"text-xs font-bold opacity-80 uppercase tracking-tight\">\n            {hoveredWilaya.nameLatin}\n          </span>\n          <div className=\"mt-2 pt-2 border-t border-white/10 flex items-center justify-between\">\n            <span className=\"text-[10px] uppercase font-black opacity-50 tracking-widest\">\n              {dataLabel}\n            </span>\n            <span className=\"text-xl font-black text-emerald-400\">\n              {hoveredWilaya.value?.toLocaleString() || 0}\n            </span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\AnimatedButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\ConfirmDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogTrigger' is assigned a value but never used.","line":10,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogClose' is assigned a value but never used.","line":12,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"./button\";\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\ninterface ConfirmDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  description: string;\n  confirmText?: string;\n  cancelText?: string;\n  variant?: \"default\" | \"destructive\";\n}\n\nexport function ConfirmDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  description,\n  confirmText = \"Confirm\",\n  cancelText = \"Cancel\",\n  variant = \"default\",\n}: ConfirmDialogProps) {\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-[400px]\">\n        <div className=\"flex flex-col space-y-2 text-center sm:text-left\">\n          <DialogPrimitive.Title className=\"text-lg font-black leading-none tracking-tight\">\n            {title}\n          </DialogPrimitive.Title>\n          <DialogPrimitive.Description className=\"text-sm text-muted-foreground font-medium\">\n            {description}\n          </DialogPrimitive.Description>\n        </div>\n        <div className=\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 gap-2 sm:gap-0 mt-4\">\n          <Button\n            variant=\"ghost\"\n            onClick={onClose}\n            className=\"rounded-xl font-bold\"\n          >\n            {cancelText}\n          </Button>\n          <Button\n            variant={variant === \"destructive\" ? \"destructive\" : \"default\"}\n            onClick={() => {\n              onConfirm();\n              onClose();\n            }}\n            className=\"rounded-xl font-black uppercase tracking-widest text-xs\"\n          >\n            {confirmText}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\Icon.tsx","messages":[{"ruleId":"react/display-name","severity":2,"message":"Component definition is missing display name","line":27,"column":12,"nodeType":"ArrowFunctionExpression","messageId":"noDisplayName","endLine":67,"endColumn":6},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":1,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":49,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":49,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1132,1145],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { Suspense, useEffect, useRef } from \"react\";\nimport dynamic from \"next/dynamic\";\n\ninterface LordIconElement extends HTMLElement {\n  play?: () => void;\n  stop?: () => void;\n}\n\n// Create a safe wrapper for the lord-icon element\nconst LordIconInner = dynamic(\n  async () => {\n    const [lottie, { defineElement }] = await Promise.all([\n      import(\"lottie-web\"),\n      import(\"lord-icon-element\"),\n    ]);\n\n    if (typeof window !== \"undefined\") {\n      defineElement(lottie.default.loadAnimation);\n    }\n\n    interface LordIconInnerProps extends IconProps {\n      iconRef: React.RefObject<HTMLElement | null>;\n    }\n\n    return ({\n      src,\n      trigger,\n      colors,\n      size,\n      delay,\n      className,\n      iconRef,\n      parentHover,\n    }: LordIconInnerProps) => {\n      useEffect(() => {\n        const element = iconRef.current as LordIconElement | null;\n        if (parentHover !== undefined && element) {\n          if (parentHover) {\n            element.play?.();\n          } else {\n            element.stop?.();\n          }\n        }\n      }, [parentHover, iconRef]);\n\n      return (\n        // @ts-ignore\n        <lord-icon\n          ref={iconRef}\n          src={src}\n          trigger={parentHover !== undefined ? \"manual\" : trigger}\n          delay={delay}\n          colors={\n            colors\n              ? `primary:${colors.primary},secondary:${colors.secondary}`\n              : undefined\n          }\n          style={{\n            width: size,\n            height: size,\n          }}\n          className={className}\n        />\n      );\n    };\n  },\n  { ssr: false },\n);\n\nexport type IconTrigger =\n  | \"hover\"\n  | \"click\"\n  | \"loop\"\n  | \"loop-on-hover\"\n  | \"morph\"\n  | \"boomerang\";\n\nexport interface IconProps {\n  src: string;\n  trigger?: IconTrigger;\n  colors?: {\n    primary?: string;\n    secondary?: string;\n  };\n  size?: number;\n  delay?: number;\n  className?: string;\n  parentHover?: boolean;\n}\n\nexport const Icon = (props: IconProps) => {\n  const iconRef = useRef<HTMLElement>(null);\n\n  return (\n    <Suspense\n      fallback={\n        <div\n          style={{ width: props.size || 24, height: props.size || 24 }}\n          className={props.className}\n        />\n      }\n    >\n      <LordIconInner {...props} iconRef={iconRef} />\n    </Suspense>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\chicken-loader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\lib\\i18n\\I18nContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\lib\\i18n\\translations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\proxy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\public\\sw.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":156,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":203},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":209,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":233},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":626,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11980}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"if(!self.define){let e,a={};const s=(s,c)=>(s=new URL(s+\".js\",c).href,a[s]||new Promise(a=>{if(\"document\"in self){const e=document.createElement(\"script\");e.src=s,e.onload=a,document.head.appendChild(e)}else e=s,importScripts(s),a()}).then(()=>{let e=a[s];if(!e)throw new Error(`Module ${s} didnΓÇÖt register its module`);return e}));self.define=(c,i)=>{const n=e||(\"document\"in self?document.currentScript.src:\"\")||location.href;if(a[n])return;let t={};const r=e=>s(e,n),d={module:{uri:n},exports:t,require:r};a[n]=Promise.all(c.map(e=>d[e]||r(e))).then(e=>(i(...e),t))}}define([\"./workbox-f1770938\"],function(e){\"use strict\";importScripts(\"/worker-3dc259f3d20f232e.js\"),self.skipWaiting(),e.clientsClaim(),e.precacheAndRoute([{url:\"/_next/static/NQA9laMkBB2GZhxOOjt4y/_buildManifest.js\",revision:\"151c8d7b6dde640d534dffaa17ecf54c\"},{url:\"/_next/static/NQA9laMkBB2GZhxOOjt4y/_ssgManifest.js\",revision:\"b6652df95db52feb4daf4eca35380933\"},{url:\"/_next/static/chunks/339-38aec051234adc75.js\",revision:\"38aec051234adc75\"},{url:\"/_next/static/chunks/355.b35fa87569400de3.js\",revision:\"b35fa87569400de3\"},{url:\"/_next/static/chunks/421-6e538e6157fdf2bc.js\",revision:\"6e538e6157fdf2bc\"},{url:\"/_next/static/chunks/447-d60ae7ec7c7065c4.js\",revision:\"d60ae7ec7c7065c4\"},{url:\"/_next/static/chunks/495-8b7c13641bc10d06.js\",revision:\"8b7c13641bc10d06\"},{url:\"/_next/static/chunks/497-a057bec71b9fdeac.js\",revision:\"a057bec71b9fdeac\"},{url:\"/_next/static/chunks/4bd1b696-b4ae08e3569d8f9c.js\",revision:\"b4ae08e3569d8f9c\"},{url:\"/_next/static/chunks/500-37cc20656ca56e4b.js\",revision:\"37cc20656ca56e4b\"},{url:\"/_next/static/chunks/585.8e15a709e6e64221.js\",revision:\"8e15a709e6e64221\"},{url:\"/_next/static/chunks/609-6b6cec6fcea03f4e.js\",revision:\"6b6cec6fcea03f4e\"},{url:\"/_next/static/chunks/646-03be5832b319558c.js\",revision:\"03be5832b319558c\"},{url:\"/_next/static/chunks/716-500d0a901c67625e.js\",revision:\"500d0a901c67625e\"},{url:\"/_next/static/chunks/734-88f45e0fa0881ba5.js\",revision:\"88f45e0fa0881ba5\"},{url:\"/_next/static/chunks/749-2a659ee8330bc5aa.js\",revision:\"2a659ee8330bc5aa\"},{url:\"/_next/static/chunks/772-5143699434a0af4e.js\",revision:\"5143699434a0af4e\"},{url:\"/_next/static/chunks/869.5cfc982d7c052203.js\",revision:\"5cfc982d7c052203\"},{url:\"/_next/static/chunks/899.9de990650a7ba81f.js\",revision:\"9de990650a7ba81f\"},{url:\"/_next/static/chunks/928-83df9a7450471824.js\",revision:\"83df9a7450471824\"},{url:\"/_next/static/chunks/964-e40861c827053fe5.js\",revision:\"e40861c827053fe5\"},{url:\"/_next/static/chunks/app/(dashboard)/analytics/page-99307c67b3ec27c9.js\",revision:\"99307c67b3ec27c9\"},{url:\"/_next/static/chunks/app/(dashboard)/customers/%5Bid%5D/page-dd3559a295319845.js\",revision:\"dd3559a295319845\"},{url:\"/_next/static/chunks/app/(dashboard)/customers/page-ed8e349cbec84b93.js\",revision:\"ed8e349cbec84b93\"},{url:\"/_next/static/chunks/app/(dashboard)/hatching/page-8f4c5f39ff62a47e.js\",revision:\"8f4c5f39ff62a47e\"},{url:\"/_next/static/chunks/app/(dashboard)/inventory/breeds/page-9470bc3978c7e6cd.js\",revision:\"9470bc3978c7e6cd\"},{url:\"/_next/static/chunks/app/(dashboard)/inventory/incubators/page-74d5a33d929cc36a.js\",revision:\"74d5a33d929cc36a\"},{url:\"/_next/static/chunks/app/(dashboard)/layout-e6a2247a822eb598.js\",revision:\"e6a2247a822eb598\"},{url:\"/_next/static/chunks/app/(dashboard)/loading-bc93004a093d31cf.js\",revision:\"bc93004a093d31cf\"},{url:\"/_next/static/chunks/app/(dashboard)/orders/page-943dd4053573f819.js\",revision:\"943dd4053573f819\"},{url:\"/_next/static/chunks/app/(dashboard)/page-fb6da3348329b089.js\",revision:\"fb6da3348329b089\"},{url:\"/_next/static/chunks/app/(dashboard)/products/page-76b17338a4db8d9e.js\",revision:\"76b17338a4db8d9e\"},{url:\"/_next/static/chunks/app/(dashboard)/products/recycle-bin/page-1bcccdaa878cb0de.js\",revision:\"1bcccdaa878cb0de\"},{url:\"/_next/static/chunks/app/(dashboard)/settings/page-161355de75f3a522.js\",revision:\"161355de75f3a522\"},{url:\"/_next/static/chunks/app/(dashboard)/settings/zones/page-dcd04eec68aae2ca.js\",revision:\"dcd04eec68aae2ca\"},{url:\"/_next/static/chunks/app/_global-error/page-1b63195694a9a014.js\",revision:\"1b63195694a9a014\"},{url:\"/_next/static/chunks/app/_not-found/page-b2c9effb7014f734.js\",revision:\"b2c9effb7014f734\"},{url:\"/_next/static/chunks/app/layout-af041bd07bdc5d23.js\",revision:\"af041bd07bdc5d23\"},{url:\"/_next/static/chunks/app/login/page-d2d6a2cc725beff1.js\",revision:\"d2d6a2cc725beff1\"},{url:\"/_next/static/chunks/app/manifest.webmanifest/route-1b63195694a9a014.js\",revision:\"1b63195694a9a014\"},{url:\"/_next/static/chunks/dc112a36.2c9ff1e9ac444b62.js\",revision:\"2c9ff1e9ac444b62\"},{url:\"/_next/static/chunks/framework-465e55eb0345138a.js\",revision:\"465e55eb0345138a\"},{url:\"/_next/static/chunks/main-app-6e0646c2b57ed024.js\",revision:\"6e0646c2b57ed024\"},{url:\"/_next/static/chunks/main-f7d0f0639ad9b5e4.js\",revision:\"f7d0f0639ad9b5e4\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/app-error-1b63195694a9a014.js\",revision:\"1b63195694a9a014\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/forbidden-1b63195694a9a014.js\",revision:\"1b63195694a9a014\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/global-error-c980c49af8eb91f3.js\",revision:\"c980c49af8eb91f3\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/not-found-1b63195694a9a014.js\",revision:\"1b63195694a9a014\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/unauthorized-1b63195694a9a014.js\",revision:\"1b63195694a9a014\"},{url:\"/_next/static/chunks/polyfills-42372ed130431b0a.js\",revision:\"846118c33b2c0e922d7b3a7676f81f6f\"},{url:\"/_next/static/chunks/webpack-094b7ca7db6659e1.js\",revision:\"094b7ca7db6659e1\"},{url:\"/_next/static/css/10b3140af4cc7ce0.css\",revision:\"10b3140af4cc7ce0\"},{url:\"/_next/static/media/0a61324d85234ed0-s.p.woff2\",revision:\"032f467b48f190dd24b58e3852e015bb\"},{url:\"/_next/static/media/0f9bfbb4dbb98158-s.p.woff2\",revision:\"043eb4ce138dad557ed233456cacd3d6\"},{url:\"/_next/static/media/149bd79232cbc8b2-s.p.woff2\",revision:\"44660417d3be08811180598d6c8679d3\"},{url:\"/_next/static/media/1ebb550cd0a67fc6-s.p.woff2\",revision:\"9dedb65bba3275c44f2c7687749291ce\"},{url:\"/_next/static/media/24b539371b989971-s.p.woff2\",revision:\"b8711551bc9afce188a0db180af95c34\"},{url:\"/_next/static/media/420b3da95f5fbf98-s.p.woff2\",revision:\"5823b2b830d826bb23afeed418a7f3ac\"},{url:\"/_next/static/media/63a79a6cf340c5d2-s.p.woff2\",revision:\"cd125f89bc159f5de2e48e3425aa35fa\"},{url:\"/_next/static/media/6d87047c78b383ca-s.p.woff2\",revision:\"0dffb2867335d294354956a19106780a\"},{url:\"/_next/static/media/a7017400c9fd40b6-s.p.woff2\",revision:\"ed1b6576a1e1635d91864af669031c6a\"},{url:\"/_next/static/media/b9817c66466e8cbc-s.p.woff2\",revision:\"5017bda8ca1227f73200ed3623b01e81\"},{url:\"/_next/static/media/ce401babc0566bc1-s.p.woff2\",revision:\"ae2ff29be66867a6d935af992ba8001b\"},{url:\"/_next/static/media/dd994fbf464986f0-s.p.woff2\",revision:\"69e22700847efcd4251ca0ca1f836515\"},{url:\"/_next/static/media/e97026df054cf2a3-s.p.woff2\",revision:\"fc002557f215681e64f2ba19c2fc08f3\"},{url:\"/_next/static/media/f15f45d13243c643-s.p.woff2\",revision:\"fc627dfefb6dcf952a535c2316b0e0fe\"},{url:\"/apple-icon.png\",revision:\"9fd6b8db46a8a6eaab57aca5897e5901\"},{url:\"/cashier.mp3\",revision:\"755527729a39f55ea26227c2fdcabf61\"},{url:\"/favicon.ico\",revision:\"26b9154b062a8fb17c193c1c90dec85c\"},{url:\"/file.svg\",revision:\"d09f95206c3fa0bb9bd9fefabfd0ea71\"},{url:\"/globe.svg\",revision:\"2aaafa6a49b6563925fe440891e32717\"},{url:\"/icon0.svg\",revision:\"4e312a7d33e1ac48ff6d258331d05d72\"},{url:\"/icon1.png\",revision:\"143d33493981493ec81d5dd4be4393b0\"},{url:\"/icons/icon-192.png\",revision:\"c03478b9f52c6b44724cba00446c7120\"},{url:\"/icons/icon-512.png\",revision:\"c03478b9f52c6b44724cba00446c7120\"},{url:\"/images/algeria-69.svg\",revision:\"044f4bdcb175b4b24ebd5072f48192bf\"},{url:\"/logo-emerald.png\",revision:\"a0fa91c86f505bd1ce05de67a4ffe999\"},{url:\"/logo-official.png\",revision:\"dfae4c603e616b7e65b0a14b95ca8be4\"},{url:\"/logo-white.png\",revision:\"5fce9b2193f5ca5a0fe0f4ebd0f8b8a0\"},{url:\"/manifest.json\",revision:\"dd9f7378638f7c34c9cdca45ac23a9ac\"},{url:\"/next.svg\",revision:\"8e061864f388b47f33a1c3780831193e\"},{url:\"/vercel.svg\",revision:\"c0af2f507b369b085b35ef4bbe3bcf1e\"},{url:\"/window.svg\",revision:\"a2760511c65806022ad20adf74370ff3\"},{url:\"/worker-3dc259f3d20f232e.js\",revision:\"bf1598bfd864f9bf661bb22eb187c921\"}],{ignoreURLParametersMatching:[/^utm_/,/^fbclid$/]}),e.cleanupOutdatedCaches(),e.registerRoute(\"/\",new e.NetworkFirst({cacheName:\"start-url\",plugins:[{cacheWillUpdate:async({response:e})=>e&&\"opaqueredirect\"===e.type?new Response(e.body,{status:200,statusText:\"OK\",headers:e.headers}):e}]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:gstatic)\\.com\\/.*/i,new e.CacheFirst({cacheName:\"google-fonts-webfonts\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:31536e3})]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:googleapis)\\.com\\/.*/i,new e.StaleWhileRevalidate({cacheName:\"google-fonts-stylesheets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,new e.StaleWhileRevalidate({cacheName:\"static-font-assets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,new e.StaleWhileRevalidate({cacheName:\"static-image-assets\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:2592e3})]}),\"GET\"),e.registerRoute(/\\/_next\\/static.+\\.js$/i,new e.CacheFirst({cacheName:\"next-static-js-assets\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/image\\?url=.+$/i,new e.StaleWhileRevalidate({cacheName:\"next-image\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp3|wav|ogg)$/i,new e.CacheFirst({cacheName:\"static-audio-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp4|webm)$/i,new e.CacheFirst({cacheName:\"static-video-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:js)$/i,new e.StaleWhileRevalidate({cacheName:\"static-js-assets\",plugins:[new e.ExpirationPlugin({maxEntries:48,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:css|less)$/i,new e.StaleWhileRevalidate({cacheName:\"static-style-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/data\\/.+\\/.+\\.json$/i,new e.StaleWhileRevalidate({cacheName:\"next-data\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:json|xml|csv)$/i,new e.NetworkFirst({cacheName:\"static-data-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({sameOrigin:e,url:{pathname:a}})=>!(!e||a.startsWith(\"/api/auth/callback\")||!a.startsWith(\"/api/\")),new e.NetworkFirst({cacheName:\"apis\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:16,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({request:e,url:{pathname:a},sameOrigin:s})=>\"1\"===e.headers.get(\"RSC\")&&\"1\"===e.headers.get(\"Next-Router-Prefetch\")&&s&&!a.startsWith(\"/api/\"),new e.NetworkFirst({cacheName:\"pages-rsc-prefetch\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({request:e,url:{pathname:a},sameOrigin:s})=>\"1\"===e.headers.get(\"RSC\")&&s&&!a.startsWith(\"/api/\"),new e.NetworkFirst({cacheName:\"pages-rsc\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:{pathname:e},sameOrigin:a})=>a&&!e.startsWith(\"/api/\"),new e.NetworkFirst({cacheName:\"pages\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({sameOrigin:e})=>!e,new e.NetworkFirst({cacheName:\"cross-origin\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:3600})]}),\"GET\")});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\public\\workbox-f1770938.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":49,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":80},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":87,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":88},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":211,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":251},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":257,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":291},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":298,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":299},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":381,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":425},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":642,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":671},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":813,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":832},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":989,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1017},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1093,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1167},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1738,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1763},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":2263,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":2337},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3058,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3095},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":3102,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":3103},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3598,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3626},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3727,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3847},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7052,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":7174},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7234,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":7291},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":1,"column":7954,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":7955},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8056},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":8066,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8091},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":8368,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8410},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9440,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9541},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9550,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9557},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9566,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9625},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9627,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9719},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10029},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10038,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10056},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10065,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10079},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10081,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10142},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10163,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10197},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10963,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11000},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":11007,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":11008},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11122,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11142},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11194,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11295},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11301,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11462},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11382,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11453},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11623,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11656},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11941,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12031},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12060,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12097},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12464,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12575},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12684,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12793},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13012,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13065},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13272,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13313},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13319,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13360},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":13367,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":13368},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":14423,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":14424},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":14555,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":14592},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":14599,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":14600},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15097,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15468},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15191,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15215},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15404,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15458},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15514,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15692},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16025,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16050},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":16057,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16058},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16165,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16292},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16591,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16732},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16958,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17076},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17076,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17176},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17178,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17384},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17458,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17677},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17719,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17855},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17903,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17970},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":19089,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":19137},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20040,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20063},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20129,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20176},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20260,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20286},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20317,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20349},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20514,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":23575},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20635,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20660},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20768,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21260},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":20988,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":20989},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21080,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21134},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21657,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21702},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21768,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21880},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21988,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22001},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1,"column":22227,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":22228},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'s' is defined but never used.","line":1,"column":22385,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":22386},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22450,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22475},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22748,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22825},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22987},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":23349,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":23350},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":23479,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":23556}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":83,"fixableErrorCount":0,"fixableWarningCount":0,"source":"define([\"exports\"],function(t){\"use strict\";try{self[\"workbox:core:7.0.0\"]&&_()}catch(t){}const e=(t,...e)=>{let s=t;return e.length>0&&(s+=` :: ${JSON.stringify(e)}`),s};class s extends Error{constructor(t,s){super(e(t,s)),this.name=t,this.details=s}}try{self[\"workbox:routing:7.0.0\"]&&_()}catch(t){}const n=t=>t&&\"object\"==typeof t?t:{handle:t};class r{constructor(t,e,s=\"GET\"){this.handler=n(e),this.match=t,this.method=s}setCatchHandler(t){this.catchHandler=n(t)}}class i extends r{constructor(t,e,s){super(({url:e})=>{const s=t.exec(e.href);if(s&&(e.origin===location.origin||0===s.index))return s.slice(1)},e,s)}}class a{constructor(){this.t=new Map,this.i=new Map}get routes(){return this.t}addFetchListener(){self.addEventListener(\"fetch\",t=>{const{request:e}=t,s=this.handleRequest({request:e,event:t});s&&t.respondWith(s)})}addCacheListener(){self.addEventListener(\"message\",t=>{if(t.data&&\"CACHE_URLS\"===t.data.type){const{payload:e}=t.data,s=Promise.all(e.urlsToCache.map(e=>{\"string\"==typeof e&&(e=[e]);const s=new Request(...e);return this.handleRequest({request:s,event:t})}));t.waitUntil(s),t.ports&&t.ports[0]&&s.then(()=>t.ports[0].postMessage(!0))}})}handleRequest({request:t,event:e}){const s=new URL(t.url,location.href);if(!s.protocol.startsWith(\"http\"))return;const n=s.origin===location.origin,{params:r,route:i}=this.findMatchingRoute({event:e,request:t,sameOrigin:n,url:s});let a=i&&i.handler;const o=t.method;if(!a&&this.i.has(o)&&(a=this.i.get(o)),!a)return;let c;try{c=a.handle({url:s,request:t,event:e,params:r})}catch(t){c=Promise.reject(t)}const h=i&&i.catchHandler;return c instanceof Promise&&(this.o||h)&&(c=c.catch(async n=>{if(h)try{return await h.handle({url:s,request:t,event:e,params:r})}catch(t){t instanceof Error&&(n=t)}if(this.o)return this.o.handle({url:s,request:t,event:e});throw n})),c}findMatchingRoute({url:t,sameOrigin:e,request:s,event:n}){const r=this.t.get(s.method)||[];for(const i of r){let r;const a=i.match({url:t,sameOrigin:e,request:s,event:n});if(a)return r=a,(Array.isArray(r)&&0===r.length||a.constructor===Object&&0===Object.keys(a).length||\"boolean\"==typeof a)&&(r=void 0),{route:i,params:r}}return{}}setDefaultHandler(t,e=\"GET\"){this.i.set(e,n(t))}setCatchHandler(t){this.o=n(t)}registerRoute(t){this.t.has(t.method)||this.t.set(t.method,[]),this.t.get(t.method).push(t)}unregisterRoute(t){if(!this.t.has(t.method))throw new s(\"unregister-route-but-not-found-with-method\",{method:t.method});const e=this.t.get(t.method).indexOf(t);if(!(e>-1))throw new s(\"unregister-route-route-not-registered\");this.t.get(t.method).splice(e,1)}}let o;const c=()=>(o||(o=new a,o.addFetchListener(),o.addCacheListener()),o);function h(t,e,n){let a;if(\"string\"==typeof t){const s=new URL(t,location.href);a=new r(({url:t})=>t.href===s.href,e,n)}else if(t instanceof RegExp)a=new i(t,e,n);else if(\"function\"==typeof t)a=new r(t,e,n);else{if(!(t instanceof r))throw new s(\"unsupported-route-type\",{moduleName:\"workbox-routing\",funcName:\"registerRoute\",paramName:\"capture\"});a=t}return c().registerRoute(a),a}try{self[\"workbox:strategies:7.0.0\"]&&_()}catch(t){}const u={cacheWillUpdate:async({response:t})=>200===t.status||0===t.status?t:null},l={googleAnalytics:\"googleAnalytics\",precache:\"precache-v2\",prefix:\"workbox\",runtime:\"runtime\",suffix:\"undefined\"!=typeof registration?registration.scope:\"\"},f=t=>[l.prefix,t,l.suffix].filter(t=>t&&t.length>0).join(\"-\"),w=t=>t||f(l.precache),d=t=>t||f(l.runtime);function p(t,e){const s=new URL(t);for(const t of e)s.searchParams.delete(t);return s.href}class y{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}const g=new Set;function m(t){return\"string\"==typeof t?new Request(t):t}class v{constructor(t,e){this.h={},Object.assign(this,e),this.event=e.event,this.u=t,this.l=new y,this.p=[],this.m=[...t.plugins],this.v=new Map;for(const t of this.m)this.v.set(t,{});this.event.waitUntil(this.l.promise)}async fetch(t){const{event:e}=this;let n=m(t);if(\"navigate\"===n.mode&&e instanceof FetchEvent&&e.preloadResponse){const t=await e.preloadResponse;if(t)return t}const r=this.hasCallback(\"fetchDidFail\")?n.clone():null;try{for(const t of this.iterateCallbacks(\"requestWillFetch\"))n=await t({request:n.clone(),event:e})}catch(t){if(t instanceof Error)throw new s(\"plugin-error-request-will-fetch\",{thrownErrorMessage:t.message})}const i=n.clone();try{let t;t=await fetch(n,\"navigate\"===n.mode?void 0:this.u.fetchOptions);for(const s of this.iterateCallbacks(\"fetchDidSucceed\"))t=await s({event:e,request:i,response:t});return t}catch(t){throw r&&await this.runCallbacks(\"fetchDidFail\",{error:t,event:e,originalRequest:r.clone(),request:i.clone()}),t}}async fetchAndCachePut(t){const e=await this.fetch(t),s=e.clone();return this.waitUntil(this.cachePut(t,s)),e}async cacheMatch(t){const e=m(t);let s;const{cacheName:n,matchOptions:r}=this.u,i=await this.getCacheKey(e,\"read\"),a=Object.assign(Object.assign({},r),{cacheName:n});s=await caches.match(i,a);for(const t of this.iterateCallbacks(\"cachedResponseWillBeUsed\"))s=await t({cacheName:n,matchOptions:r,cachedResponse:s,request:i,event:this.event})||void 0;return s}async cachePut(t,e){const n=m(t);var r;await(r=0,new Promise(t=>setTimeout(t,r)));const i=await this.getCacheKey(n,\"write\");if(!e)throw new s(\"cache-put-with-no-response\",{url:(a=i.url,new URL(String(a),location.href).href.replace(new RegExp(`^${location.origin}`),\"\"))});var a;const o=await this.R(e);if(!o)return!1;const{cacheName:c,matchOptions:h}=this.u,u=await self.caches.open(c),l=this.hasCallback(\"cacheDidUpdate\"),f=l?await async function(t,e,s,n){const r=p(e.url,s);if(e.url===r)return t.match(e,n);const i=Object.assign(Object.assign({},n),{ignoreSearch:!0}),a=await t.keys(e,i);for(const e of a)if(r===p(e.url,s))return t.match(e,n)}(u,i.clone(),[\"__WB_REVISION__\"],h):null;try{await u.put(i,l?o.clone():o)}catch(t){if(t instanceof Error)throw\"QuotaExceededError\"===t.name&&await async function(){for(const t of g)await t()}(),t}for(const t of this.iterateCallbacks(\"cacheDidUpdate\"))await t({cacheName:c,oldResponse:f,newResponse:o.clone(),request:i,event:this.event});return!0}async getCacheKey(t,e){const s=`${t.url} | ${e}`;if(!this.h[s]){let n=t;for(const t of this.iterateCallbacks(\"cacheKeyWillBeUsed\"))n=m(await t({mode:e,request:n,event:this.event,params:this.params}));this.h[s]=n}return this.h[s]}hasCallback(t){for(const e of this.u.plugins)if(t in e)return!0;return!1}async runCallbacks(t,e){for(const s of this.iterateCallbacks(t))await s(e)}*iterateCallbacks(t){for(const e of this.u.plugins)if(\"function\"==typeof e[t]){const s=this.v.get(e),n=n=>{const r=Object.assign(Object.assign({},n),{state:s});return e[t](r)};yield n}}waitUntil(t){return this.p.push(t),t}async doneWaiting(){let t;for(;t=this.p.shift();)await t}destroy(){this.l.resolve(null)}async R(t){let e=t,s=!1;for(const t of this.iterateCallbacks(\"cacheWillUpdate\"))if(e=await t({request:this.request,response:e,event:this.event})||void 0,s=!0,!e)break;return s||e&&200!==e.status&&(e=void 0),e}}class R{constructor(t={}){this.cacheName=d(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}handle(t){const[e]=this.handleAll(t);return e}handleAll(t){t instanceof FetchEvent&&(t={event:t,request:t.request});const e=t.event,s=\"string\"==typeof t.request?new Request(t.request):t.request,n=\"params\"in t?t.params:void 0,r=new v(this,{event:e,request:s,params:n}),i=this.q(r,s,e);return[i,this.D(i,r,s,e)]}async q(t,e,n){let r;await t.runCallbacks(\"handlerWillStart\",{event:n,request:e});try{if(r=await this.U(e,t),!r||\"error\"===r.type)throw new s(\"no-response\",{url:e.url})}catch(s){if(s instanceof Error)for(const i of t.iterateCallbacks(\"handlerDidError\"))if(r=await i({error:s,event:n,request:e}),r)break;if(!r)throw s}for(const s of t.iterateCallbacks(\"handlerWillRespond\"))r=await s({event:n,request:e,response:r});return r}async D(t,e,s,n){let r,i;try{r=await t}catch(i){}try{await e.runCallbacks(\"handlerDidRespond\",{event:n,request:s,response:r}),await e.doneWaiting()}catch(t){t instanceof Error&&(i=t)}if(await e.runCallbacks(\"handlerDidComplete\",{event:n,request:s,response:r,error:i}),e.destroy(),i)throw i}}function b(t){t.then(()=>{})}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},q.apply(null,arguments)}let D,U;const x=new WeakMap,L=new WeakMap,I=new WeakMap,C=new WeakMap,E=new WeakMap;let N={get(t,e,s){if(t instanceof IDBTransaction){if(\"done\"===e)return L.get(t);if(\"objectStoreNames\"===e)return t.objectStoreNames||I.get(t);if(\"store\"===e)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return k(t[e])},set:(t,e,s)=>(t[e]=s,!0),has:(t,e)=>t instanceof IDBTransaction&&(\"done\"===e||\"store\"===e)||e in t};function O(t){return t!==IDBDatabase.prototype.transaction||\"objectStoreNames\"in IDBTransaction.prototype?(U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(B(this),e),k(x.get(this))}:function(...e){return k(t.apply(B(this),e))}:function(e,...s){const n=t.call(B(this),e,...s);return I.set(n,e.sort?e.sort():[e]),k(n)}}function T(t){return\"function\"==typeof t?O(t):(t instanceof IDBTransaction&&function(t){if(L.has(t))return;const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"complete\",r),t.removeEventListener(\"error\",i),t.removeEventListener(\"abort\",i)},r=()=>{e(),n()},i=()=>{s(t.error||new DOMException(\"AbortError\",\"AbortError\")),n()};t.addEventListener(\"complete\",r),t.addEventListener(\"error\",i),t.addEventListener(\"abort\",i)});L.set(t,e)}(t),e=t,(D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,N):t);var e}function k(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"success\",r),t.removeEventListener(\"error\",i)},r=()=>{e(k(t.result)),n()},i=()=>{s(t.error),n()};t.addEventListener(\"success\",r),t.addEventListener(\"error\",i)});return e.then(e=>{e instanceof IDBCursor&&x.set(e,t)}).catch(()=>{}),E.set(e,t),e}(t);if(C.has(t))return C.get(t);const e=T(t);return e!==t&&(C.set(t,e),E.set(e,t)),e}const B=t=>E.get(t);const P=[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"],M=[\"put\",\"add\",\"delete\",\"clear\"],W=new Map;function j(t,e){if(!(t instanceof IDBDatabase)||e in t||\"string\"!=typeof e)return;if(W.get(e))return W.get(e);const s=e.replace(/FromIndex$/,\"\"),n=e!==s,r=M.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!P.includes(s))return;const i=async function(t,...e){const i=this.transaction(t,r?\"readwrite\":\"readonly\");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[s](...e),r&&i.done]))[0]};return W.set(e,i),i}N=(t=>q({},t,{get:(e,s,n)=>j(e,s)||t.get(e,s,n),has:(e,s)=>!!j(e,s)||t.has(e,s)}))(N);try{self[\"workbox:expiration:7.0.0\"]&&_()}catch(t){}const S=\"cache-entries\",K=t=>{const e=new URL(t,location.href);return e.hash=\"\",e.href};class A{constructor(t){this._=null,this.L=t}I(t){const e=t.createObjectStore(S,{keyPath:\"id\"});e.createIndex(\"cacheName\",\"cacheName\",{unique:!1}),e.createIndex(\"timestamp\",\"timestamp\",{unique:!1})}C(t){this.I(t),this.L&&function(t,{blocked:e}={}){const s=indexedDB.deleteDatabase(t);e&&s.addEventListener(\"blocked\",t=>e(t.oldVersion,t)),k(s).then(()=>{})}(this.L)}async setTimestamp(t,e){const s={url:t=K(t),timestamp:e,cacheName:this.L,id:this.N(t)},n=(await this.getDb()).transaction(S,\"readwrite\",{durability:\"relaxed\"});await n.store.put(s),await n.done}async getTimestamp(t){const e=await this.getDb(),s=await e.get(S,this.N(t));return null==s?void 0:s.timestamp}async expireEntries(t,e){const s=await this.getDb();let n=await s.transaction(S).store.index(\"timestamp\").openCursor(null,\"prev\");const r=[];let i=0;for(;n;){const s=n.value;s.cacheName===this.L&&(t&&s.timestamp<t||e&&i>=e?r.push(n.value):i++),n=await n.continue()}const a=[];for(const t of r)await s.delete(S,t.id),a.push(t.url);return a}N(t){return this.L+\"|\"+K(t)}async getDb(){return this._||(this._=await function(t,e,{blocked:s,upgrade:n,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),o=k(a);return n&&a.addEventListener(\"upgradeneeded\",t=>{n(k(a.result),t.oldVersion,t.newVersion,k(a.transaction),t)}),s&&a.addEventListener(\"blocked\",t=>s(t.oldVersion,t.newVersion,t)),o.then(t=>{i&&t.addEventListener(\"close\",()=>i()),r&&t.addEventListener(\"versionchange\",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}(\"workbox-expiration\",1,{upgrade:this.C.bind(this)})),this._}}class F{constructor(t,e={}){this.O=!1,this.T=!1,this.k=e.maxEntries,this.B=e.maxAgeSeconds,this.P=e.matchOptions,this.L=t,this.M=new A(t)}async expireEntries(){if(this.O)return void(this.T=!0);this.O=!0;const t=this.B?Date.now()-1e3*this.B:0,e=await this.M.expireEntries(t,this.k),s=await self.caches.open(this.L);for(const t of e)await s.delete(t,this.P);this.O=!1,this.T&&(this.T=!1,b(this.expireEntries()))}async updateTimestamp(t){await this.M.setTimestamp(t,Date.now())}async isURLExpired(t){if(this.B){const e=await this.M.getTimestamp(t),s=Date.now()-1e3*this.B;return void 0===e||e<s}return!1}async delete(){this.T=!1,await this.M.expireEntries(1/0)}}try{self[\"workbox:range-requests:7.0.0\"]&&_()}catch(t){}async function H(t,e){try{if(206===e.status)return e;const n=t.headers.get(\"range\");if(!n)throw new s(\"no-range-header\");const r=function(t){const e=t.trim().toLowerCase();if(!e.startsWith(\"bytes=\"))throw new s(\"unit-must-be-bytes\",{normalizedRangeHeader:e});if(e.includes(\",\"))throw new s(\"single-range-only\",{normalizedRangeHeader:e});const n=/(\\d*)-(\\d*)/.exec(e);if(!n||!n[1]&&!n[2])throw new s(\"invalid-range-values\",{normalizedRangeHeader:e});return{start:\"\"===n[1]?void 0:Number(n[1]),end:\"\"===n[2]?void 0:Number(n[2])}}(n),i=await e.blob(),a=function(t,e,n){const r=t.size;if(n&&n>r||e&&e<0)throw new s(\"range-not-satisfiable\",{size:r,end:n,start:e});let i,a;return void 0!==e&&void 0!==n?(i=e,a=n+1):void 0!==e&&void 0===n?(i=e,a=r):void 0!==n&&void 0===e&&(i=r-n,a=r),{start:i,end:a}}(i,r.start,r.end),o=i.slice(a.start,a.end),c=o.size,h=new Response(o,{status:206,statusText:\"Partial Content\",headers:e.headers});return h.headers.set(\"Content-Length\",String(c)),h.headers.set(\"Content-Range\",`bytes ${a.start}-${a.end-1}/${i.size}`),h}catch(t){return new Response(\"\",{status:416,statusText:\"Range Not Satisfiable\"})}}function $(t,e){const s=e();return t.waitUntil(s),s}try{self[\"workbox:precaching:7.0.0\"]&&_()}catch(t){}function z(t){if(!t)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(\"string\"==typeof t){const e=new URL(t,location.href);return{cacheKey:e.href,url:e.href}}const{revision:e,url:n}=t;if(!n)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(!e){const t=new URL(n,location.href);return{cacheKey:t.href,url:t.href}}const r=new URL(n,location.href),i=new URL(n,location.href);return r.searchParams.set(\"__WB_REVISION__\",e),{cacheKey:r.href,url:i.href}}class G{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:t,state:e})=>{e&&(e.originalRequest=t)},this.cachedResponseWillBeUsed=async({event:t,state:e,cachedResponse:s})=>{if(\"install\"===t.type&&e&&e.originalRequest&&e.originalRequest instanceof Request){const t=e.originalRequest.url;s?this.notUpdatedURLs.push(t):this.updatedURLs.push(t)}return s}}}class V{constructor({precacheController:t}){this.cacheKeyWillBeUsed=async({request:t,params:e})=>{const s=(null==e?void 0:e.cacheKey)||this.W.getCacheKeyForURL(t.url);return s?new Request(s,{headers:t.headers}):t},this.W=t}}let J,Q;async function X(t,e){let n=null;if(t.url){n=new URL(t.url).origin}if(n!==self.location.origin)throw new s(\"cross-origin-copy-response\",{origin:n});const r=t.clone(),i={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},a=e?e(i):i,o=function(){if(void 0===J){const t=new Response(\"\");if(\"body\"in t)try{new Response(t.body),J=!0}catch(t){J=!1}J=!1}return J}()?r.body:await r.blob();return new Response(o,a)}class Y extends R{constructor(t={}){t.cacheName=w(t.cacheName),super(t),this.j=!1!==t.fallbackToNetwork,this.plugins.push(Y.copyRedirectedCacheableResponsesPlugin)}async U(t,e){const s=await e.cacheMatch(t);return s||(e.event&&\"install\"===e.event.type?await this.S(t,e):await this.K(t,e))}async K(t,e){let n;const r=e.params||{};if(!this.j)throw new s(\"missing-precache-entry\",{cacheName:this.cacheName,url:t.url});{const s=r.integrity,i=t.integrity,a=!i||i===s;n=await e.fetch(new Request(t,{integrity:\"no-cors\"!==t.mode?i||s:void 0})),s&&a&&\"no-cors\"!==t.mode&&(this.A(),await e.cachePut(t,n.clone()))}return n}async S(t,e){this.A();const n=await e.fetch(t);if(!await e.cachePut(t,n.clone()))throw new s(\"bad-precaching-response\",{url:t.url,status:n.status});return n}A(){let t=null,e=0;for(const[s,n]of this.plugins.entries())n!==Y.copyRedirectedCacheableResponsesPlugin&&(n===Y.defaultPrecacheCacheabilityPlugin&&(t=s),n.cacheWillUpdate&&e++);0===e?this.plugins.push(Y.defaultPrecacheCacheabilityPlugin):e>1&&null!==t&&this.plugins.splice(t,1)}}Y.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:t})=>!t||t.status>=400?null:t},Y.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:t})=>t.redirected?await X(t):t};class Z{constructor({cacheName:t,plugins:e=[],fallbackToNetwork:s=!0}={}){this.F=new Map,this.H=new Map,this.$=new Map,this.u=new Y({cacheName:w(t),plugins:[...e,new V({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this.u}precache(t){this.addToCacheList(t),this.G||(self.addEventListener(\"install\",this.install),self.addEventListener(\"activate\",this.activate),this.G=!0)}addToCacheList(t){const e=[];for(const n of t){\"string\"==typeof n?e.push(n):n&&void 0===n.revision&&e.push(n.url);const{cacheKey:t,url:r}=z(n),i=\"string\"!=typeof n&&n.revision?\"reload\":\"default\";if(this.F.has(r)&&this.F.get(r)!==t)throw new s(\"add-to-cache-list-conflicting-entries\",{firstEntry:this.F.get(r),secondEntry:t});if(\"string\"!=typeof n&&n.integrity){if(this.$.has(t)&&this.$.get(t)!==n.integrity)throw new s(\"add-to-cache-list-conflicting-integrities\",{url:r});this.$.set(t,n.integrity)}if(this.F.set(r,t),this.H.set(r,i),e.length>0){const t=`Workbox is precaching URLs without revision info: ${e.join(\", \")}\\nThis is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(t)}}}install(t){return $(t,async()=>{const e=new G;this.strategy.plugins.push(e);for(const[e,s]of this.F){const n=this.$.get(s),r=this.H.get(e),i=new Request(e,{integrity:n,cache:r,credentials:\"same-origin\"});await Promise.all(this.strategy.handleAll({params:{cacheKey:s},request:i,event:t}))}const{updatedURLs:s,notUpdatedURLs:n}=e;return{updatedURLs:s,notUpdatedURLs:n}})}activate(t){return $(t,async()=>{const t=await self.caches.open(this.strategy.cacheName),e=await t.keys(),s=new Set(this.F.values()),n=[];for(const r of e)s.has(r.url)||(await t.delete(r),n.push(r.url));return{deletedURLs:n}})}getURLsToCacheKeys(){return this.F}getCachedURLs(){return[...this.F.keys()]}getCacheKeyForURL(t){const e=new URL(t,location.href);return this.F.get(e.href)}getIntegrityForCacheKey(t){return this.$.get(t)}async matchPrecache(t){const e=t instanceof Request?t.url:t,s=this.getCacheKeyForURL(e);if(s){return(await self.caches.open(this.strategy.cacheName)).match(s)}}createHandlerBoundToURL(t){const e=this.getCacheKeyForURL(t);if(!e)throw new s(\"non-precached-url\",{url:t});return s=>(s.request=new Request(t),s.params=Object.assign({cacheKey:e},s.params),this.strategy.handle(s))}}const tt=()=>(Q||(Q=new Z),Q);class et extends r{constructor(t,e){super(({request:s})=>{const n=t.getURLsToCacheKeys();for(const r of function*(t,{ignoreURLParametersMatching:e=[/^utm_/,/^fbclid$/],directoryIndex:s=\"index.html\",cleanURLs:n=!0,urlManipulation:r}={}){const i=new URL(t,location.href);i.hash=\"\",yield i.href;const a=function(t,e=[]){for(const s of[...t.searchParams.keys()])e.some(t=>t.test(s))&&t.searchParams.delete(s);return t}(i,e);if(yield a.href,s&&a.pathname.endsWith(\"/\")){const t=new URL(a.href);t.pathname+=s,yield t.href}if(n){const t=new URL(a.href);t.pathname+=\".html\",yield t.href}if(r){const t=r({url:i});for(const e of t)yield e.href}}(s.url,e)){const e=n.get(r);if(e){return{cacheKey:e,integrity:t.getIntegrityForCacheKey(e)}}}},t.strategy)}}t.CacheFirst=class extends R{async U(t,e){let n,r=await e.cacheMatch(t);if(!r)try{r=await e.fetchAndCachePut(t)}catch(t){t instanceof Error&&(n=t)}if(!r)throw new s(\"no-response\",{url:t.url,error:n});return r}},t.ExpirationPlugin=class{constructor(t={}){this.cachedResponseWillBeUsed=async({event:t,request:e,cacheName:s,cachedResponse:n})=>{if(!n)return null;const r=this.V(n),i=this.J(s);b(i.expireEntries());const a=i.updateTimestamp(e.url);if(t)try{t.waitUntil(a)}catch(t){}return r?n:null},this.cacheDidUpdate=async({cacheName:t,request:e})=>{const s=this.J(t);await s.updateTimestamp(e.url),await s.expireEntries()},this.X=t,this.B=t.maxAgeSeconds,this.Y=new Map,t.purgeOnQuotaError&&function(t){g.add(t)}(()=>this.deleteCacheAndMetadata())}J(t){if(t===d())throw new s(\"expire-custom-caches-only\");let e=this.Y.get(t);return e||(e=new F(t,this.X),this.Y.set(t,e)),e}V(t){if(!this.B)return!0;const e=this.Z(t);if(null===e)return!0;return e>=Date.now()-1e3*this.B}Z(t){if(!t.headers.has(\"date\"))return null;const e=t.headers.get(\"date\"),s=new Date(e).getTime();return isNaN(s)?null:s}async deleteCacheAndMetadata(){for(const[t,e]of this.Y)await self.caches.delete(t),await e.delete();this.Y=new Map}},t.NetworkFirst=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u),this.tt=t.networkTimeoutSeconds||0}async U(t,e){const n=[],r=[];let i;if(this.tt){const{id:s,promise:a}=this.et({request:t,logs:n,handler:e});i=s,r.push(a)}const a=this.st({timeoutId:i,request:t,logs:n,handler:e});r.push(a);const o=await e.waitUntil((async()=>await e.waitUntil(Promise.race(r))||await a)());if(!o)throw new s(\"no-response\",{url:t.url});return o}et({request:t,logs:e,handler:s}){let n;return{promise:new Promise(e=>{n=setTimeout(async()=>{e(await s.cacheMatch(t))},1e3*this.tt)}),id:n}}async st({timeoutId:t,request:e,logs:s,handler:n}){let r,i;try{i=await n.fetchAndCachePut(e)}catch(t){t instanceof Error&&(r=t)}return t&&clearTimeout(t),!r&&i||(i=await n.cacheMatch(e)),i}},t.RangeRequestsPlugin=class{constructor(){this.cachedResponseWillBeUsed=async({request:t,cachedResponse:e})=>e&&t.headers.has(\"range\")?await H(t,e):e}},t.StaleWhileRevalidate=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u)}async U(t,e){const n=e.fetchAndCachePut(t).catch(()=>{});e.waitUntil(n);let r,i=await e.cacheMatch(t);if(i);else try{i=await n}catch(t){t instanceof Error&&(r=t)}if(!i)throw new s(\"no-response\",{url:t.url,error:r});return i}},t.cleanupOutdatedCaches=function(){self.addEventListener(\"activate\",t=>{const e=w();t.waitUntil((async(t,e=\"-precache-\")=>{const s=(await self.caches.keys()).filter(s=>s.includes(e)&&s.includes(self.registration.scope)&&s!==t);return await Promise.all(s.map(t=>self.caches.delete(t))),s})(e).then(t=>{}))})},t.clientsClaim=function(){self.addEventListener(\"activate\",()=>self.clients.claim())},t.precacheAndRoute=function(t,e){!function(t){tt().precache(t)}(t),function(t){const e=tt();h(new et(e,t))}(e)},t.registerRoute=h});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\public\\worker-3dc259f3d20f232e.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":433},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":389,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":431}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"(()=>{\"use strict\";self.addEventListener(\"push\",i=>{let t=i.data?.json()??{},n=t.title||\"╪Ñ╪┤╪╣╪º╪▒ ╪¼╪»┘è╪»\",e={body:t.message||\"┘ä╪»┘è┘â ╪¬┘å╪¿┘è┘ç ╪¼╪»┘è╪» ┘ü┘è ┘ä┘ê╪¡╪⌐ ╪º┘ä╪¬╪¡┘â┘à.\",icon:\"/icons/icon-192.png\",badge:\"/icons/icon-192.png\",data:{url:t.link||\"/\"}};i.waitUntil(self.registration.showNotification(n,e))}),self.addEventListener(\"notificationclick\",i=>{i.notification.close();let t=i.notification.data?.url;t&&i.waitUntil(self.clients.openWindow(t))})})();","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\types\\global.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\types\\inventory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\types\\lord-icon.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[73,76],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[73,76],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"declare namespace JSX {\n  interface IntrinsicElements {\n    \"lord-icon\": any;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\types\\orders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\types\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\utils\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\utils\\supabase\\middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'options' is defined but never used.","line":18,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from \"@supabase/ssr\";\nimport { NextResponse, type NextRequest } from \"next/server\";\n\nexport async function updateSession(request: NextRequest) {\n  let supabaseResponse = NextResponse.next({\n    request,\n  });\n\n  const supabase = createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return request.cookies.getAll();\n        },\n        setAll(cookiesToSet) {\n          cookiesToSet.forEach(({ name, value, options }) => {\n            request.cookies.set(name, value);\n          });\n          supabaseResponse = NextResponse.next({\n            request,\n          });\n          cookiesToSet.forEach(({ name, value, options }) =>\n            supabaseResponse.cookies.set(name, value, options),\n          );\n        },\n      },\n    },\n  );\n\n  // IMPORTANT: Avoid writing any logic between createServerClient and\n  // supabase.auth.getUser(). A simple mistake could make it very hard to debug\n  // issues with users being randomly logged out.\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  if (\n    !user &&\n    !request.nextUrl.pathname.startsWith(\"/login\") &&\n    !request.nextUrl.pathname.startsWith(\"/auth\")\n  ) {\n    // no user, potentially respond by redirecting the user to the login page\n    const url = request.nextUrl.clone();\n    url.pathname = \"/login\";\n    return NextResponse.redirect(url);\n  }\n\n  // Check if logged in user is trying to access login page\n  if (user && request.nextUrl.pathname.startsWith(\"/login\")) {\n    const url = request.nextUrl.clone();\n    url.pathname = \"/\";\n    return NextResponse.redirect(url);\n  }\n\n  return supabaseResponse;\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\utils\\supabase\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Administrator\\Desktop\\my-online-shop\\admin-dashboard\\worker\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[135,138],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[135,138],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[559,562],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[559,562],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/// <reference lib=\"webworker\" />\nexport type {};\ndeclare const self: ServiceWorkerGlobalScope;\n\nself.addEventListener(\"push\", (event: any) => {\n  const data = event.data?.json() ?? {};\n  const title = data.title || \"╪Ñ╪┤╪╣╪º╪▒ ╪¼╪»┘è╪»\";\n  const options = {\n    body: data.message || \"┘ä╪»┘è┘â ╪¬┘å╪¿┘è┘ç ╪¼╪»┘è╪» ┘ü┘è ┘ä┘ê╪¡╪⌐ ╪º┘ä╪¬╪¡┘â┘à.\",\n    icon: \"/icons/icon-192.png\",\n    badge: \"/icons/icon-192.png\",\n    data: {\n      url: data.link || \"/\",\n    },\n  };\n\n  event.waitUntil(self.registration.showNotification(title, options));\n});\n\nself.addEventListener(\"notificationclick\", (event: any) => {\n  event.notification.close();\n  const url = event.notification.data?.url;\n  if (url) {\n    event.waitUntil(self.clients.openWindow(url));\n  }\n});\n","usedDeprecatedRules":[]}]
